{"type":"file-history-snapshot","messageId":"8bdbd9ca-331f-462f-b400-91db540e5ba1","snapshot":{"messageId":"8bdbd9ca-331f-462f-b400-91db540e5ba1","trackedFileBackups":{},"timestamp":"2026-02-12T10:35:47.170Z"},"isSnapshotUpdate":false}
{"parentUuid":null,"isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"progress","data":{"type":"hook_progress","hookEvent":"SessionStart","hookName":"SessionStart:clear","command":"entire hooks claude-code session-start"},"parentToolUseID":"bed17190-174c-4a77-9c7b-2909388ced59","toolUseID":"bed17190-174c-4a77-9c7b-2909388ced59","timestamp":"2026-02-12T10:35:46.376Z","uuid":"792b9592-31fb-4bbb-a7c7-570bc326f2a2"}
{"parentUuid":"792b9592-31fb-4bbb-a7c7-570bc326f2a2","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"user","message":{"role":"user","content":"<local-command-caveat>Caveat: The messages below were generated by the user while running local commands. DO NOT respond to these messages or otherwise consider them in your response unless the user explicitly asks you to.</local-command-caveat>"},"isMeta":true,"uuid":"0150918a-7324-4774-bbdc-c8a1eb3924e3","timestamp":"2026-02-12T10:35:47.170Z"}
{"parentUuid":"0150918a-7324-4774-bbdc-c8a1eb3924e3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"user","message":{"role":"user","content":"<command-name>/clear</command-name>\n            <command-message>clear</command-message>\n            <command-args></command-args>"},"uuid":"8bdbd9ca-331f-462f-b400-91db540e5ba1","timestamp":"2026-02-12T10:35:45.723Z"}
{"parentUuid":"8bdbd9ca-331f-462f-b400-91db540e5ba1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"user","message":{"role":"user","content":"<local-command-stdout></local-command-stdout>"},"uuid":"36dea0f2-877b-4d37-a155-d2888d1fa33d","timestamp":"2026-02-12T10:35:47.169Z"}
{"type":"file-history-snapshot","messageId":"ba9018fd-022e-4e78-9268-45a9d3c8ef55","snapshot":{"messageId":"ba9018fd-022e-4e78-9268-45a9d3c8ef55","trackedFileBackups":{},"timestamp":"2026-02-12T10:36:09.686Z"},"isSnapshotUpdate":false}
{"parentUuid":"36dea0f2-877b-4d37-a155-d2888d1fa33d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"user","message":{"role":"user","content":"<local-command-caveat>Caveat: The messages below were generated by the user while running local commands. DO NOT respond to these messages or otherwise consider them in your response unless the user explicitly asks you to.</local-command-caveat>"},"isMeta":true,"uuid":"1d8a6967-f0d1-40a7-9856-3221b34a8d64","timestamp":"2026-02-12T10:36:09.686Z"}
{"parentUuid":"1d8a6967-f0d1-40a7-9856-3221b34a8d64","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"user","message":{"role":"user","content":"<bash-input>fp tree</bash-input>"},"uuid":"ba9018fd-022e-4e78-9268-45a9d3c8ef55","timestamp":"2026-02-12T10:36:09.422Z"}
{"parentUuid":"ba9018fd-022e-4e78-9268-45a9d3c8ef55","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"user","message":{"role":"user","content":"<bash-stdout>FRAG-chfolkfc [todo] Refactor unit-of-work.ts to reduce complexity and improve code health</bash-stdout><bash-stderr></bash-stderr>"},"uuid":"b247eb14-a8b3-4518-bc25-31b12491d228","timestamp":"2026-02-12T10:36:09.686Z"}
{"type":"file-history-snapshot","messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":false}
{"parentUuid":"b247eb14-a8b3-4518-bc25-31b12491d228","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","type":"user","message":{"role":"user","content":"execute this task"},"uuid":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","timestamp":"2026-02-12T10:36:14.469Z","thinkingMetadata":{"maxThinkingTokens":31999},"permissionMode":"default"}
{"parentUuid":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","message":{"model":"claude-opus-4-6","id":"msg_01QSckKTYdcf3F4tfWjNUFs1","type":"message","role":"assistant","content":[{"type":"text","text":"\n\nLet me start by understanding the task and the file that needs refactoring."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":11601,"cache_read_input_tokens":10384,"cache_creation":{"ephemeral_5m_input_tokens":11601,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42ZLy9Qh6YqU3DA6Hk4","type":"assistant","uuid":"e0172aa1-2f8e-480f-aea7-db269a8d4770","timestamp":"2026-02-12T10:36:27.044Z"}
{"parentUuid":"e0172aa1-2f8e-480f-aea7-db269a8d4770","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","message":{"model":"claude-opus-4-6","id":"msg_01QSckKTYdcf3F4tfWjNUFs1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01NiVGw2QDfFpr1QG9ivyUSx","name":"Bash","input":{"command":"fp context FRAG-chfolkfc","description":"Load full issue context"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":11601,"cache_read_input_tokens":10384,"cache_creation":{"ephemeral_5m_input_tokens":11601,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42ZLy9Qh6YqU3DA6Hk4","type":"assistant","uuid":"6e06ce75-abef-4e5b-ad44-fdef9959f310","timestamp":"2026-02-12T10:36:27.798Z"}
{"parentUuid":"6e06ce75-abef-4e5b-ad44-fdef9959f310","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01QSckKTYdcf3F4tfWjNUFs1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_012ChsbdrVS7BjLmrpPK2oT7","name":"Glob","input":{"pattern":"**/unit-of-work.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":11601,"cache_read_input_tokens":10384,"output_tokens":154,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":11601},"inference_geo":"","iterations":[]}},"requestId":"req_011CY42ZLy9Qh6YqU3DA6Hk4","type":"assistant","uuid":"deccd748-d995-4b26-9a37-61f014454eb6","timestamp":"2026-02-12T10:36:28.076Z"}
{"parentUuid":"6e06ce75-abef-4e5b-ad44-fdef9959f310","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NiVGw2QDfFpr1QG9ivyUSx","type":"tool_result","content":"======================================================================\nISSUE: FRAG-chfolkfc\n======================================================================\n\nTitle: Refactor unit-of-work.ts to reduce complexity and improve code health\nStatus: todo\nParent: -\n\nDescription:\n## Context\n\nCodeScene flagged `packages/fragno-db/src/query/unit-of-work/unit-of-work.ts` with multiple code health issues that have been degrading over the past month.\n\n## Critical Rule Violations\n\n### Bumpy Road (3 functions)\nFunctions with multiple chunks of nested conditional logic:\n- **`buildJoinIndexed`** (line ~831) — 3 bumps\n- **`UnitOfWork.executeRetrieve`** (line ~1530) — 3 bumps  \n- **`UnitOfWork.executeMutations`** (line ~1628) — 2 bumps\n\n### Code Health Degradations\nComplexity has been growing:\n- `executeRetrieve` cyclomatic complexity increased from 15 → 21 (threshold = 9)\n- `executeMutations` cyclomatic complexity increased from 15 → 20 (threshold = 9)\n\n## Advisory Rule Violations\n\n### Complex Method (2 methods)\n- **`UnitOfWork.executeRetrieve`** — cc = 21 (threshold < 9)\n- **`UnitOfWork.executeMutations`** — cc = 20 (threshold < 9)\n\n### Large Method (1 method)\n- **`UnitOfWork.executeRetrieve`** — 75 lines (threshold = 70)\n\n### Excess Number of Function Arguments (2 functions)\n- **`createUnitOfWork`** (line ~1001) — 5 arguments (threshold = 4)\n- **`UnitOfWork.constructor`** (line ~1286) — 6 arguments (threshold = 4)\n\n## Recommended Refactoring Approach\n\n1. **Extract Function** — Identify natural chunks inside `executeRetrieve` and `executeMutations` (e.g., instrumentation handling, compilation, dry-run early return, result decoding). Extract into well-named private methods.\n2. **Decompose Conditional** — Flatten nested conditionals in `buildJoinIndexed` by using early returns or guard clauses.\n3. **Introduce Parameter Object** — Group related constructor/factory arguments into an options object for `createUnitOfWork` and `UnitOfWork.constructor`.\n4. Ensure all existing tests still pass after refactoring.\n\n## Files\n- `packages/fragno-db/src/query/unit-of-work/unit-of-work.ts`","is_error":false}]},"uuid":"7915e553-eca1-4243-b6df-832e02b99218","timestamp":"2026-02-12T10:36:28.079Z","toolUseResult":{"stdout":"======================================================================\nISSUE: FRAG-chfolkfc\n======================================================================\n\nTitle: Refactor unit-of-work.ts to reduce complexity and improve code health\nStatus: todo\nParent: -\n\nDescription:\n## Context\n\nCodeScene flagged `packages/fragno-db/src/query/unit-of-work/unit-of-work.ts` with multiple code health issues that have been degrading over the past month.\n\n## Critical Rule Violations\n\n### Bumpy Road (3 functions)\nFunctions with multiple chunks of nested conditional logic:\n- **`buildJoinIndexed`** (line ~831) — 3 bumps\n- **`UnitOfWork.executeRetrieve`** (line ~1530) — 3 bumps  \n- **`UnitOfWork.executeMutations`** (line ~1628) — 2 bumps\n\n### Code Health Degradations\nComplexity has been growing:\n- `executeRetrieve` cyclomatic complexity increased from 15 → 21 (threshold = 9)\n- `executeMutations` cyclomatic complexity increased from 15 → 20 (threshold = 9)\n\n## Advisory Rule Violations\n\n### Complex Method (2 methods)\n- **`UnitOfWork.executeRetrieve`** — cc = 21 (threshold < 9)\n- **`UnitOfWork.executeMutations`** — cc = 20 (threshold < 9)\n\n### Large Method (1 method)\n- **`UnitOfWork.executeRetrieve`** — 75 lines (threshold = 70)\n\n### Excess Number of Function Arguments (2 functions)\n- **`createUnitOfWork`** (line ~1001) — 5 arguments (threshold = 4)\n- **`UnitOfWork.constructor`** (line ~1286) — 6 arguments (threshold = 4)\n\n## Recommended Refactoring Approach\n\n1. **Extract Function** — Identify natural chunks inside `executeRetrieve` and `executeMutations` (e.g., instrumentation handling, compilation, dry-run early return, result decoding). Extract into well-named private methods.\n2. **Decompose Conditional** — Flatten nested conditionals in `buildJoinIndexed` by using early returns or guard clauses.\n3. **Introduce Parameter Object** — Group related constructor/factory arguments into an options object for `createUnitOfWork` and `UnitOfWork.constructor`.\n4. Ensure all existing tests still pass after refactoring.\n\n## Files\n- `packages/fragno-db/src/query/unit-of-work/unit-of-work.ts`","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"6e06ce75-abef-4e5b-ad44-fdef9959f310"}
{"parentUuid":"7915e553-eca1-4243-b6df-832e02b99218","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Glob","command":"callback"},"parentToolUseID":"toolu_012ChsbdrVS7BjLmrpPK2oT7","toolUseID":"toolu_012ChsbdrVS7BjLmrpPK2oT7","timestamp":"2026-02-12T10:36:28.459Z","uuid":"4532b998-a042-4355-ad68-2b3e82a80389"}
{"parentUuid":"deccd748-d995-4b26-9a37-61f014454eb6","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_012ChsbdrVS7BjLmrpPK2oT7","type":"tool_result","content":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts"}]},"uuid":"0a6c6643-0234-4688-b7c0-34f91b1450d8","timestamp":"2026-02-12T10:36:28.458Z","toolUseResult":{"filenames":["/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts"],"durationMs":375,"numFiles":1,"truncated":false},"sourceToolAssistantUUID":"deccd748-d995-4b26-9a37-61f014454eb6"}
{"parentUuid":"0a6c6643-0234-4688-b7c0-34f91b1450d8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_011dBF1FJPuz8PcFCYMywQRb","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01R3wgCpm2jSWBxbdBYVDcT6","name":"Bash","input":{"command":"fp issue update --status in-progress FRAG-chfolkfc","description":"Claim issue before starting work"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":864,"cache_read_input_tokens":21985,"cache_creation":{"ephemeral_5m_input_tokens":864,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42ZeUbqd8Fk6w4n9Ydu","type":"assistant","uuid":"1a9e1ca4-049b-4fd1-ae4e-8be827224384","timestamp":"2026-02-12T10:36:31.084Z"}
{"parentUuid":"1a9e1ca4-049b-4fd1-ae4e-8be827224384","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01R3wgCpm2jSWBxbdBYVDcT6","type":"tool_result","content":"✓ Updated FRAG-chfolkfc:\n  - status: todo → in-progress","is_error":false}]},"uuid":"30744bf9-1a97-4152-ac6e-8a97be40eb7a","timestamp":"2026-02-12T10:36:31.391Z","toolUseResult":{"stdout":"✓ Updated FRAG-chfolkfc:\n  - status: todo → in-progress","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"1a9e1ca4-049b-4fd1-ae4e-8be827224384"}
{"parentUuid":"30744bf9-1a97-4152-ac6e-8a97be40eb7a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_011dBF1FJPuz8PcFCYMywQRb","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01KsKh2D5bkKXsZHButLeHcd","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":864,"cache_read_input_tokens":21985,"output_tokens":159,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":864},"inference_geo":"","iterations":[]}},"requestId":"req_011CY42ZeUbqd8Fk6w4n9Ydu","type":"assistant","uuid":"01262647-313c-4cf9-a6b4-934ba2bd8b36","timestamp":"2026-02-12T10:36:31.596Z"}
{"parentUuid":"01262647-313c-4cf9-a6b4-934ba2bd8b36","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01KsKh2D5bkKXsZHButLeHcd","toolUseID":"toolu_01KsKh2D5bkKXsZHButLeHcd","timestamp":"2026-02-12T10:36:31.806Z","uuid":"2446b4ec-aa75-4c8a-b0f0-b042d3318fbb"}
{"parentUuid":"01262647-313c-4cf9-a6b4-934ba2bd8b36","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01KsKh2D5bkKXsZHButLeHcd","type":"tool_result","content":"     1→import type {\n     2→  AnySchema,\n     3→  AnyTable,\n     4→  Index,\n     5→  IdColumn,\n     6→  AnyColumn,\n     7→  Relation,\n     8→} from \"../../schema/create\";\n     9→import { FragnoId } from \"../../schema/create\";\n    10→import { generateId } from \"../../schema/generate-id\";\n    11→import type { Condition, ConditionBuilder } from \"../condition-builder\";\n    12→import type {\n    13→  SelectClause,\n    14→  TableToInsertValues,\n    15→  TableToUpdateValues,\n    16→  SelectResult,\n    17→  ExtractSelect,\n    18→  ExtractJoinOut,\n    19→} from \"../simple-query-interface\";\n    20→import { buildCondition } from \"../condition-builder\";\n    21→import type { CompiledJoin } from \"../orm/orm\";\n    22→import type { CursorResult } from \"../cursor\";\n    23→import { Cursor } from \"../cursor\";\n    24→import type { Prettify } from \"../../util/types\";\n    25→import type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n    26→\n    27→/**\n    28→ * Builder for updateMany operations that supports both whereIndex and set chaining\n    29→ */\n    30→export interface UpdateManyBuilder<TTable extends AnyTable> {\n    31→  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    32→    indexName: TIndexName,\n    33→    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n    34→  ): this;\n    35→  set(values: TableToUpdateValues<TTable>): this;\n    36→}\n    37→\n    38→/**\n    39→ * Extract column names from a single index\n    40→ */\n    41→export type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n    42→\n    43→type RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n    44→\n    45→/**\n    46→ * Extract all indexed column names from a table's indexes\n    47→ */\n    48→type IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n    49→  ? IndexColumns<TIndexes[keyof TIndexes]>\n    50→  : never;\n    51→\n    52→type OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n    53→\n    54→/**\n    55→ * Extract the name of the ID column from a table\n    56→ * Checks if column has 'id' property set to true (which IdColumn class has)\n    57→ */\n    58→export type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n    59→  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    60→    infer _,\n    61→    infer __,\n    62→    infer ___\n    63→  >\n    64→    ? K\n    65→    : never;\n    66→}>;\n    67→\n    68→/**\n    69→ * Get the columns for a specific index name.\n    70→ * For \"primary\", returns only the ID column.\n    71→ * For named indexes, returns the columns defined in that index.\n    72→ */\n    73→type ColumnsForIndex<\n    74→  TTable extends AnyTable,\n    75→  TIndexName extends ValidIndexName<TTable>,\n    76→> = TIndexName extends \"primary\"\n    77→  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n    78→  : TIndexName extends keyof TTable[\"indexes\"]\n    79→    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    80→    : never;\n    81→\n    82→/**\n    83→ * ConditionBuilder restricted to indexed columns only.\n    84→ * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n    85→ */\n    86→export type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n    87→  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n    88→>;\n    89→\n    90→/**\n    91→ * ConditionBuilder restricted to columns in a specific index.\n    92→ */\n    93→type IndexSpecificConditionBuilder<\n    94→  TTable extends AnyTable,\n    95→  TIndexName extends ValidIndexName<TTable>,\n    96→> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n    97→\n    98→/**\n    99→ * Valid index names for a table, including the static \"primary\" index\n   100→ */\n   101→export type ValidIndexName<TTable extends AnyTable> =\n   102→  | \"primary\"\n   103→  | (string & keyof TTable[\"indexes\"]);\n   104→\n   105→/**\n   106→ * Find options for Unit of Work (internal, used after builder finalization)\n   107→ */\n   108→type FindOptions<\n   109→  TTable extends AnyTable = AnyTable,\n   110→  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n   111→> = {\n   112→  /**\n   113→   * Which index to use for this query (required)\n   114→   */\n   115→  useIndex: string;\n   116→  /**\n   117→   * Select clause - which columns to return\n   118→   */\n   119→  select?: TSelect;\n   120→  /**\n   121→   * Where clause - filtering restricted to indexed columns only\n   122→   */\n   123→  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n   124→  /**\n   125→   * Order by index - specify which index to order by and direction\n   126→   */\n   127→  orderByIndex?: {\n   128→    indexName: string;\n   129→    direction: \"asc\" | \"desc\";\n   130→  };\n   131→  /**\n   132→   * Cursor for pagination - continue after this cursor\n   133→   */\n   134→  after?: Cursor | string;\n   135→  /**\n   136→   * Cursor for pagination - continue before this cursor\n   137→   */\n   138→  before?: Cursor | string;\n   139→  /**\n   140→   * Number of results per page\n   141→   */\n   142→  pageSize?: number;\n   143→  /**\n   144→   * Join operations to include related data\n   145→   */\n   146→  joins?: CompiledJoin[];\n   147→};\n   148→\n   149→/**\n   150→ * Unit of Work state machine\n   151→ */\n   152→export type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n   153→\n   154→/**\n   155→ * Retrieval operation - read operations in the first phase\n   156→ */\n   157→export type RetrievalOperation<\n   158→  TSchema extends AnySchema,\n   159→  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n   160→> =\n   161→  | {\n   162→      type: \"find\";\n   163→      schema: TSchema;\n   164→      namespace?: string | null;\n   165→      table: TTable;\n   166→      indexName: string;\n   167→      options: FindOptions<TTable, SelectClause<TTable>>;\n   168→      withCursor?: boolean;\n   169→      withSingleResult?: boolean;\n   170→    }\n   171→  | {\n   172→      type: \"count\";\n   173→      schema: TSchema;\n   174→      namespace?: string | null;\n   175→      table: TTable;\n   176→      indexName: string;\n   177→      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n   178→    };\n   179→\n   180→/**\n   181→ * Mutation operations - write operations in the second phase\n   182→ */\n   183→export type MutationOperation<\n   184→  TSchema extends AnySchema,\n   185→  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n   186→> =\n   187→  | {\n   188→      type: \"update\";\n   189→      schema: TSchema;\n   190→      namespace?: string | null;\n   191→      table: TTable[\"name\"];\n   192→      id: FragnoId | string;\n   193→      checkVersion: boolean;\n   194→      set: TableToUpdateValues<TTable>;\n   195→    }\n   196→  | {\n   197→      type: \"create\";\n   198→      schema: TSchema;\n   199→      namespace?: string | null;\n   200→      table: TTable[\"name\"];\n   201→      values: TableToInsertValues<TTable>;\n   202→      generatedExternalId: string;\n   203→    }\n   204→  | {\n   205→      type: \"delete\";\n   206→      schema: TSchema;\n   207→      namespace?: string | null;\n   208→      table: TTable[\"name\"];\n   209→      id: FragnoId | string;\n   210→      checkVersion: boolean;\n   211→    }\n   212→  | {\n   213→      type: \"check\";\n   214→      schema: TSchema;\n   215→      namespace?: string | null;\n   216→      table: TTable[\"name\"];\n   217→      id: FragnoId;\n   218→    };\n   219→\n   220→/**\n   221→ * Compiled mutation with metadata for execution\n   222→ */\n   223→export interface CompiledMutation<TOutput> {\n   224→  query: TOutput;\n   225→  /**\n   226→   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   227→   */\n   228→  operation?: MutationOperation<AnySchema>;\n   229→  /**\n   230→   * Idempotency key for the Unit of Work that produced this mutation.\n   231→   */\n   232→  uowId?: string;\n   233→  /**\n   234→   * The type of mutation operation (create, update, delete, or check).\n   235→   */\n   236→  op: \"create\" | \"update\" | \"delete\" | \"check\";\n   237→  /**\n   238→   * Number of rows this operation must affect for the transaction to succeed.\n   239→   * If actual affected rows doesn't match, it indicates a version conflict.\n   240→   * null means don't check affected rows (e.g., for create operations).\n   241→   */\n   242→  expectedAffectedRows: bigint | null;\n   243→  /**\n   244→   * Number of rows this SELECT query must return for the transaction to succeed.\n   245→   * Used for check operations to verify version without modifying data.\n   246→   * null means this is not a SELECT query that needs row count validation.\n   247→   */\n   248→  expectedReturnedRows: number | null;\n   249→}\n   250→\n   251→/**\n   252→ * Compiler interface for Unit of Work operations\n   253→ */\n   254→export interface UOWCompiler<TOutput> {\n   255→  /**\n   256→   * Compile a retrieval operation to the adapter's query format\n   257→   */\n   258→  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n   259→\n   260→  /**\n   261→   * Compile a mutation operation to the adapter's query format\n   262→   */\n   263→  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n   264→}\n   265→\n   266→export type MutationResult =\n   267→  | { success: true; createdInternalIds: (bigint | null)[] }\n   268→  | { success: false };\n   269→\n   270→/**\n   271→ * Executor interface for Unit of Work operations\n   272→ */\n   273→export interface UOWExecutor<TOutput, TRawResult = unknown> {\n   274→  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n   275→\n   276→  /**\n   277→   * Returns success status indicating if mutations completed without conflicts,\n   278→   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   279→   */\n   280→  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n   281→}\n   282→\n   283→/**\n   284→ * Decoder interface for Unit of Work retrieval results\n   285→ *\n   286→ * Transforms raw database results into application format (e.g., converting raw columns\n   287→ * into FragnoId objects with external ID, internal ID, and version).\n   288→ */\n   289→export interface UOWDecoder<TRawInput = unknown> {\n   290→  /**\n   291→   * Decode raw database results from the retrieval phase\n   292→   *\n   293→   * @param rawResults - Array of raw result sets from database queries\n   294→   * @param operations - Array of retrieval operations that produced these results\n   295→   * @returns Decoded results in application format\n   296→   */\n   297→  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n   298→}\n   299→\n   300→/**\n   301→ * Builder for find operations in Unit of Work\n   302→ */\n   303→export class FindBuilder<\n   304→  TTable extends AnyTable,\n   305→  TSelect extends SelectClause<TTable> = true,\n   306→  TJoinOut = {},\n   307→> {\n   308→  readonly #table: TTable;\n   309→  readonly #tableName: string;\n   310→\n   311→  #indexName?: string;\n   312→  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n   313→  #orderByIndexClause?: {\n   314→    indexName: string;\n   315→    direction: \"asc\" | \"desc\";\n   316→  };\n   317→  #afterCursor?: Cursor | string;\n   318→  #beforeCursor?: Cursor | string;\n   319→  #pageSizeValue?: number;\n   320→  #selectClause?: TSelect;\n   321→  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n   322→  #countMode = false;\n   323→  #cursorMetadata?: Cursor;\n   324→\n   325→  constructor(tableName: string, table: TTable) {\n   326→    this.#tableName = tableName;\n   327→    this.#table = table;\n   328→  }\n   329→\n   330→  /**\n   331→   * Specify which index to use and optionally filter the results\n   332→   */\n   333→  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n   334→    indexName: TIndexName,\n   335→    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n   336→  ): this {\n   337→    // Validate index exists (primary is always valid)\n   338→    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n   339→      throw new Error(\n   340→        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n   341→          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n   342→      );\n   343→    }\n   344→\n   345→    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n   346→    if (condition) {\n   347→      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n   348→      // The condition will only reference columns in the specific index, which are also indexed columns.\n   349→      this.#whereClause = condition as unknown as (\n   350→        eb: IndexedConditionBuilder<TTable>,\n   351→      ) => Condition | boolean;\n   352→    }\n   353→    return this;\n   354→  }\n   355→\n   356→  /**\n   357→   * Specify columns to select\n   358→   * @throws Error if selectCount() has already been called\n   359→   */\n   360→  select<const TNewSelect extends SelectClause<TTable>>(\n   361→    columns: TNewSelect,\n   362→  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n   363→    if (this.#countMode) {\n   364→      throw new Error(\n   365→        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n   366→          `Use either select() or selectCount(), not both.`,\n   367→      );\n   368→    }\n   369→    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   370→    (this as any).#selectClause = columns;\n   371→    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n   372→  }\n   373→\n   374→  /**\n   375→   * Select count instead of records\n   376→   * @throws Error if select() has already been called\n   377→   */\n   378→  selectCount(): this {\n   379→    if (this.#selectClause !== undefined) {\n   380→      throw new Error(\n   381→        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n   382→          `Use either select() or selectCount(), not both.`,\n   383→      );\n   384→    }\n   385→    this.#countMode = true;\n   386→    return this;\n   387→  }\n   388→\n   389→  /**\n   390→   * Order results by index in ascending or descending order\n   391→   */\n   392→  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n   393→    indexName: TIndexName,\n   394→    direction: \"asc\" | \"desc\",\n   395→  ): this {\n   396→    // Validate index exists (primary is always valid)\n   397→    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n   398→      throw new Error(\n   399→        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n   400→          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n   401→      );\n   402→    }\n   403→\n   404→    this.#orderByIndexClause = {\n   405→      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n   406→      direction,\n   407→    };\n   408→    return this;\n   409→  }\n   410→\n   411→  /**\n   412→   * Set cursor to continue pagination after this point (forward pagination)\n   413→   * If a Cursor object is provided, its metadata will be used to set defaults for\n   414→   * index, orderByIndex, and pageSize (if not explicitly set)\n   415→   */\n   416→  after(cursor: Cursor | string): this {\n   417→    this.#afterCursor = cursor;\n   418→    if (cursor instanceof Cursor) {\n   419→      this.#cursorMetadata = cursor;\n   420→    }\n   421→    return this;\n   422→  }\n   423→\n   424→  /**\n   425→   * Set cursor to continue pagination before this point (backward pagination)\n   426→   * If a Cursor object is provided, its metadata will be used to set defaults for\n   427→   * index, orderByIndex, and pageSize (if not explicitly set)\n   428→   */\n   429→  before(cursor: Cursor | string): this {\n   430→    this.#beforeCursor = cursor;\n   431→    if (cursor instanceof Cursor) {\n   432→      this.#cursorMetadata = cursor;\n   433→    }\n   434→    return this;\n   435→  }\n   436→\n   437→  /**\n   438→   * Set the number of results per page\n   439→   * @throws {RangeError} If size is not a positive integer\n   440→   */\n   441→  pageSize(size: number): this {\n   442→    if (!Number.isInteger(size) || size <= 0) {\n   443→      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n   444→    }\n   445→    this.#pageSizeValue = size;\n   446→    return this;\n   447→  }\n   448→\n   449→  /**\n   450→   * Add joins to include related data\n   451→   * Join where clauses are restricted to indexed columns only\n   452→   */\n   453→  join<TNewJoinOut>(\n   454→    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n   455→  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n   456→    this.#joinClause = joinFn;\n   457→    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n   458→  }\n   459→\n   460→  /**\n   461→   * @internal\n   462→   */\n   463→  build():\n   464→    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n   465→    | {\n   466→        type: \"count\";\n   467→        indexName: string;\n   468→        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n   469→      } {\n   470→    // Apply cursor metadata as defaults if available and not explicitly set\n   471→    let indexName = this.#indexName;\n   472→    let orderByIndex = this.#orderByIndexClause;\n   473→    let pageSize = this.#pageSizeValue;\n   474→\n   475→    if (this.#cursorMetadata) {\n   476→      // Use cursor metadata as defaults\n   477→      if (!indexName) {\n   478→        indexName = this.#cursorMetadata.indexName;\n   479→      }\n   480→      if (!orderByIndex) {\n   481→        orderByIndex = {\n   482→          indexName: this.#cursorMetadata.indexName,\n   483→          direction: this.#cursorMetadata.orderDirection,\n   484→        };\n   485→      }\n   486→      if (pageSize === undefined) {\n   487→        pageSize = this.#cursorMetadata.pageSize;\n   488→      }\n   489→\n   490→      // Validate that explicit params match cursor params\n   491→      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n   492→        throw new Error(\n   493→          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n   494→        );\n   495→      }\n   496→      if (\n   497→        orderByIndex &&\n   498→        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n   499→          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n   500→      ) {\n   501→        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n   502→      }\n   503→      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n   504→        throw new Error(\n   505→          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n   506→        );\n   507→      }\n   508→    }\n   509→\n   510→    if (!indexName) {\n   511→      throw new Error(\n   512→        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n   513→      );\n   514→    }\n   515→\n   516→    // If in count mode, return count operation\n   517→    if (this.#countMode) {\n   518→      return {\n   519→        type: \"count\",\n   520→        indexName,\n   521→        options: {\n   522→          useIndex: indexName,\n   523→          where: this.#whereClause,\n   524→        },\n   525→      };\n   526→    }\n   527→\n   528→    // Compile joins if provided\n   529→    let compiledJoins: CompiledJoin[] | undefined;\n   530→    if (this.#joinClause) {\n   531→      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n   532→    }\n   533→\n   534→    // Convert Cursor objects to strings for after/before\n   535→    const afterCursor =\n   536→      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n   537→    const beforeCursor =\n   538→      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n   539→\n   540→    const options: FindOptions<TTable, TSelect> = {\n   541→      useIndex: indexName,\n   542→      select: this.#selectClause,\n   543→      where: this.#whereClause,\n   544→      orderByIndex,\n   545→      after: afterCursor,\n   546→      before: beforeCursor,\n   547→      pageSize,\n   548→      joins: compiledJoins,\n   549→    };\n   550→\n   551→    return { type: \"find\", indexName, options };\n   552→  }\n   553→}\n   554→\n   555→/**\n   556→ * Builder for update operations in Unit of Work\n   557→ */\n   558→export class UpdateBuilder<TTable extends AnyTable> {\n   559→  readonly #tableName: string;\n   560→  readonly #id: FragnoId | string;\n   561→\n   562→  #checkVersion = false;\n   563→  #setValues?: TableToUpdateValues<TTable>;\n   564→\n   565→  constructor(tableName: string, id: FragnoId | string) {\n   566→    this.#tableName = tableName;\n   567→    this.#id = id;\n   568→  }\n   569→\n   570→  /**\n   571→   * Specify values to update\n   572→   */\n   573→  set(values: TableToUpdateValues<TTable>): this {\n   574→    this.#setValues = values;\n   575→    return this;\n   576→  }\n   577→\n   578→  /**\n   579→   * Enable version checking for optimistic concurrency control\n   580→   * @throws Error if the ID is just a string (no version available)\n   581→   */\n   582→  check(): this {\n   583→    if (typeof this.#id === \"string\") {\n   584→      throw new Error(\n   585→        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n   586→          `Version checking requires a FragnoId with version information.`,\n   587→      );\n   588→    }\n   589→    this.#checkVersion = true;\n   590→    return this;\n   591→  }\n   592→\n   593→  /**\n   594→   * @internal\n   595→   */\n   596→  build(): {\n   597→    id: FragnoId | string;\n   598→    checkVersion: boolean;\n   599→    set: TableToUpdateValues<TTable>;\n   600→  } {\n   601→    if (!this.#setValues) {\n   602→      throw new Error(\n   603→        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n   604→      );\n   605→    }\n   606→\n   607→    return {\n   608→      id: this.#id,\n   609→      checkVersion: this.#checkVersion,\n   610→      set: this.#setValues,\n   611→    };\n   612→  }\n   613→}\n   614→\n   615→/**\n   616→ * Builder for delete operations in Unit of Work\n   617→ */\n   618→export class DeleteBuilder {\n   619→  readonly #tableName: string;\n   620→  readonly #id: FragnoId | string;\n   621→\n   622→  #checkVersion = false;\n   623→\n   624→  constructor(tableName: string, id: FragnoId | string) {\n   625→    this.#tableName = tableName;\n   626→    this.#id = id;\n   627→  }\n   628→\n   629→  /**\n   630→   * Enable version checking for optimistic concurrency control\n   631→   * @throws Error if the ID is just a string (no version available)\n   632→   */\n   633→  check(): this {\n   634→    if (typeof this.#id === \"string\") {\n   635→      throw new Error(\n   636→        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n   637→          `Version checking requires a FragnoId with version information.`,\n   638→      );\n   639→    }\n   640→    this.#checkVersion = true;\n   641→    return this;\n   642→  }\n   643→\n   644→  /**\n   645→   * @internal\n   646→   */\n   647→  build(): { id: FragnoId | string; checkVersion: boolean } {\n   648→    return {\n   649→      id: this.#id,\n   650→      checkVersion: this.#checkVersion,\n   651→    };\n   652→  }\n   653→}\n   654→\n   655→/**\n   656→ * Builder for join operations in Unit of Work\n   657→ * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n   658→ */\n   659→export class JoinFindBuilder<\n   660→  TTable extends AnyTable,\n   661→  TSelect extends SelectClause<TTable> = true,\n   662→  TJoinOut = {},\n   663→> {\n   664→  readonly #table: TTable;\n   665→  readonly #tableName: string;\n   666→\n   667→  #indexName?: string;\n   668→  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n   669→  #orderByIndexClause?: {\n   670→    indexName: string;\n   671→    direction: \"asc\" | \"desc\";\n   672→  };\n   673→  #pageSizeValue?: number;\n   674→  #selectClause?: TSelect;\n   675→  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n   676→\n   677→  constructor(tableName: string, table: TTable) {\n   678→    this.#tableName = tableName;\n   679→    this.#table = table;\n   680→  }\n   681→\n   682→  /**\n   683→   * Specify which index to use and optionally filter the results\n   684→   */\n   685→  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n   686→    indexName: TIndexName,\n   687→    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n   688→  ): this {\n   689→    // Validate index exists (primary is always valid)\n   690→    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n   691→      throw new Error(\n   692→        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n   693→          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n   694→      );\n   695→    }\n   696→\n   697→    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n   698→    if (condition) {\n   699→      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n   700→      // The condition will only reference columns in the specific index, which are also indexed columns.\n   701→      this.#whereClause = condition as unknown as (\n   702→        eb: IndexedConditionBuilder<TTable>,\n   703→      ) => Condition | boolean;\n   704→    }\n   705→    return this;\n   706→  }\n   707→\n   708→  /**\n   709→   * Specify columns to select\n   710→   */\n   711→  select<const TNewSelect extends SelectClause<TTable>>(\n   712→    columns: TNewSelect,\n   713→  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n   714→    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   715→    (this as any).#selectClause = columns;\n   716→    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n   717→  }\n   718→\n   719→  /**\n   720→   * Order results by index in ascending or descending order\n   721→   */\n   722→  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n   723→    indexName: TIndexName,\n   724→    direction: \"asc\" | \"desc\",\n   725→  ): this {\n   726→    // Validate index exists (primary is always valid)\n   727→    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n   728→      throw new Error(\n   729→        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n   730→          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n   731→      );\n   732→    }\n   733→\n   734→    this.#orderByIndexClause = {\n   735→      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n   736→      direction,\n   737→    };\n   738→    return this;\n   739→  }\n   740→\n   741→  /**\n   742→   * Set the number of results to return\n   743→   * @throws {RangeError} If size is not a positive integer\n   744→   */\n   745→  pageSize(size: number): this {\n   746→    if (!Number.isInteger(size) || size <= 0) {\n   747→      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n   748→    }\n   749→    this.#pageSizeValue = size;\n   750→    return this;\n   751→  }\n   752→\n   753→  /**\n   754→   * Add joins to include related data\n   755→   * Join where clauses are restricted to indexed columns only\n   756→   */\n   757→  join<TNewJoinOut>(\n   758→    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n   759→  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n   760→    this.#joinClause = joinFn;\n   761→    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n   762→  }\n   763→\n   764→  /**\n   765→   * @internal\n   766→   */\n   767→  build(): {\n   768→    indexName: string | undefined;\n   769→    select: TSelect | undefined;\n   770→    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n   771→    orderByIndex:\n   772→      | {\n   773→          indexName: string;\n   774→          direction: \"asc\" | \"desc\";\n   775→        }\n   776→      | undefined;\n   777→    pageSize: number | undefined;\n   778→    joins: CompiledJoin[] | undefined;\n   779→  } {\n   780→    // Compile joins if provided\n   781→    let compiledJoins: CompiledJoin[] | undefined;\n   782→    if (this.#joinClause) {\n   783→      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n   784→    }\n   785→\n   786→    return {\n   787→      indexName: this.#indexName,\n   788→      select: this.#selectClause,\n   789→      where: this.#whereClause,\n   790→      orderByIndex: this.#orderByIndexClause,\n   791→      pageSize: this.#pageSizeValue,\n   792→      joins: compiledJoins,\n   793→    };\n   794→  }\n   795→}\n   796→\n   797→interface MapRelationType<T> {\n   798→  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n   799→  one: RemoveEmptyObject<T> | null;\n   800→  many: RemoveEmptyObject<T>[];\n   801→}\n   802→\n   803→/**\n   804→ * Join builder with indexed-only where clauses for Unit of Work\n   805→ * TJoinOut accumulates the types of all joined relations\n   806→ */\n   807→export type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n   808→  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n   809→    infer TRelationType,\n   810→    infer TTargetTable\n   811→  >\n   812→    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n   813→        builderFn?: (\n   814→          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n   815→        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n   816→      ) => IndexedJoinBuilder<\n   817→        TTable,\n   818→        TJoinOut & {\n   819→          [P in K]: MapRelationType<\n   820→            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n   821→          >[TRelationType];\n   822→        }\n   823→      >\n   824→    : never;\n   825→};\n   826→\n   827→/**\n   828→ * Build join operations with indexed-only where clauses for Unit of Work\n   829→ * This ensures all join conditions can leverage indexes for optimal performance\n   830→ */\n   831→export function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n   832→  table: TTable,\n   833→  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n   834→): CompiledJoin[] {\n   835→  const compiled: CompiledJoin[] = [];\n   836→  const builder: Record<string, unknown> = {};\n   837→\n   838→  for (const name in table.relations) {\n   839→    const relation = table.relations[name]!;\n   840→\n   841→    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n   842→      // Create join builder for this relation's table\n   843→      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n   844→      if (builderFn) {\n   845→        builderFn(joinBuilder);\n   846→      }\n   847→      const config = joinBuilder.build();\n   848→\n   849→      // Build condition with indexed columns only\n   850→      let conditions: Condition | undefined;\n   851→      if (config.where) {\n   852→        const cond = buildCondition(relation.table.columns, config.where);\n   853→        if (cond === true) {\n   854→          conditions = undefined;\n   855→        } else if (cond === false) {\n   856→          // If condition evaluates to false, skip this join\n   857→          compiled.push({\n   858→            relation,\n   859→            options: false,\n   860→          });\n   861→          delete builder[name];\n   862→          return builder;\n   863→        } else {\n   864→          conditions = cond;\n   865→        }\n   866→      }\n   867→\n   868→      // Build orderBy from orderByIndex if provided\n   869→      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n   870→      if (config.orderByIndex) {\n   871→        const index = relation.table.indexes[config.orderByIndex.indexName];\n   872→        if (index) {\n   873→          // Use all columns from the index for ordering\n   874→          orderBy = index.columns.map(\n   875→            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n   876→          );\n   877→        } else {\n   878→          // Fallback to ID column if index not found\n   879→          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n   880→        }\n   881→      }\n   882→\n   883→      compiled.push({\n   884→        relation,\n   885→        options: {\n   886→          select: config.select ?? true,\n   887→          where: conditions,\n   888→          orderBy,\n   889→          join: config.joins,\n   890→          limit: config.pageSize,\n   891→        },\n   892→      });\n   893→\n   894→      delete builder[name];\n   895→      return builder;\n   896→    };\n   897→  }\n   898→\n   899→  fn(builder as IndexedJoinBuilder<TTable, {}>);\n   900→  return compiled;\n   901→}\n   902→\n   903→/**\n   904→ * Full Unit of Work interface with all operations including execution.\n   905→ * This allows UOW instances to be passed between different contexts that use different schemas.\n   906→ */\n   907→export interface IUnitOfWork {\n   908→  // Getters (schema-agnostic)\n   909→  readonly state: UOWState;\n   910→  readonly name: string | undefined;\n   911→  readonly idempotencyKey: string;\n   912→  readonly retrievalPhase: Promise<unknown[]>;\n   913→  readonly mutationPhase: Promise<void>;\n   914→\n   915→  // Execution (schema-agnostic)\n   916→  executeRetrieve(): Promise<unknown[]>;\n   917→  executeMutations(): Promise<{ success: boolean }>;\n   918→\n   919→  // Inspection (schema-agnostic)\n   920→  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n   921→  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n   922→  getCreatedIds(): FragnoId[];\n   923→\n   924→  // Parent-child relationships\n   925→  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n   926→\n   927→  // Coordination for restricted UOWs\n   928→  signalReadyForRetrieval(): void;\n   929→  signalReadyForMutation(): void;\n   930→\n   931→  // Reset for retry support\n   932→  reset(): void;\n   933→\n   934→  // Schema-specific view (for cross-schema operations)\n   935→  // The optional hooks parameter is for type inference only - pass your hooks map\n   936→  // to get proper typing for triggerHook. The value is not used at runtime.\n   937→  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n   938→    schema: TOtherSchema,\n   939→    hooks?: TOtherHooks,\n   940→    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   941→  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n   942→\n   943→  // Schema registration (for cross-fragment operations like hooks)\n   944→  registerSchema(schema: AnySchema, namespace: string | null): void;\n   945→\n   946→  // Hook triggering (schema-agnostic, string-based hook names)\n   947→  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n   948→\n   949→  getTriggeredHooks(): readonly TriggeredHook[];\n   950→}\n   951→\n   952→/**\n   953→ * Restricted UOW interface without execute methods.\n   954→ * Useful when you want to allow building operations but not executing them,\n   955→ * to prevent deadlocks or enforce execution control at a higher level.\n   956→ *\n   957→ * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n   958→ */\n   959→export interface IUnitOfWorkRestricted\n   960→  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n   961→\n   962→export type UOWInstrumentationPhase =\n   963→  | \"beforeRetrieve\"\n   964→  | \"afterRetrieve\"\n   965→  | \"beforeMutate\"\n   966→  | \"afterMutate\";\n   967→\n   968→export type UOWInstrumentationInjection =\n   969→  | { type: \"conflict\"; reason?: string }\n   970→  | { type: \"error\"; error: Error };\n   971→\n   972→export type UOWInstrumentationContext = {\n   973→  phase: UOWInstrumentationPhase;\n   974→  uowName?: string;\n   975→  idempotencyKey: string;\n   976→  retrievalOpsCount: number;\n   977→  mutationOpsCount: number;\n   978→  uow: IUnitOfWork;\n   979→};\n   980→\n   981→export type UOWInstrumentation = {\n   982→  beforeRetrieve?: (\n   983→    ctx: UOWInstrumentationContext,\n   984→  ) => void | Promise<void> | UOWInstrumentationInjection;\n   985→  afterRetrieve?: (\n   986→    ctx: UOWInstrumentationContext,\n   987→  ) => void | Promise<void> | UOWInstrumentationInjection;\n   988→  beforeMutate?: (\n   989→    ctx: UOWInstrumentationContext,\n   990→  ) => void | Promise<void> | UOWInstrumentationInjection;\n   991→  afterMutate?: (\n   992→    ctx: UOWInstrumentationContext,\n   993→  ) => void | Promise<void> | UOWInstrumentationInjection;\n   994→};\n   995→\n   996→export type UOWInstrumentationFinalizer = {\n   997→  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n   998→  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n   999→};\n  1000→\n  1001→export function createUnitOfWork(\n  1002→  compiler: UOWCompiler<unknown>,\n  1003→  executor: UOWExecutor<unknown, unknown>,\n  1004→  decoder: UOWDecoder<unknown>,\n  1005→  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  1006→  name?: string,\n  1007→): UnitOfWork {\n  1008→  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);\n  1009→}\n  1010→\n  1011→export interface UnitOfWorkConfig {\n  1012→  dryRun?: boolean;\n  1013→  onQuery?: (query: unknown) => void;\n  1014→  idempotencyKey?: string;\n  1015→  instrumentation?: UOWInstrumentation;\n  1016→  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n  1017→}\n  1018→\n  1019→function isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  1020→  if (!value || typeof value !== \"object\") {\n  1021→    return false;\n  1022→  }\n  1023→  const injection = value as UOWInstrumentationInjection;\n  1024→  return injection.type === \"conflict\" || injection.type === \"error\";\n  1025→}\n  1026→\n  1027→/**\n  1028→ * Encapsulates a promise with its resolver/rejecter functions.\n  1029→ * Simplifies management of deferred promises with built-in error handling.\n  1030→ */\n  1031→class DeferredPromise<T> {\n  1032→  #resolve?: (value: T) => void;\n  1033→  #reject?: (error: Error) => void;\n  1034→  #promise: Promise<T>;\n  1035→\n  1036→  constructor() {\n  1037→    const { promise, resolve, reject } = Promise.withResolvers<T>();\n  1038→    this.#promise = promise;\n  1039→    this.#resolve = resolve;\n  1040→    this.#reject = reject;\n  1041→    // Attach no-op error handler to prevent unhandled rejection warnings\n  1042→    this.#promise.catch(() => {});\n  1043→  }\n  1044→\n  1045→  get promise(): Promise<T> {\n  1046→    return this.#promise;\n  1047→  }\n  1048→\n  1049→  resolve(value: T): void {\n  1050→    this.#resolve?.(value);\n  1051→  }\n  1052→\n  1053→  reject(error: Error): void {\n  1054→    this.#reject?.(error);\n  1055→  }\n  1056→\n  1057→  /**\n  1058→   * Reset to a new promise\n  1059→   */\n  1060→  reset(): void {\n  1061→    const { promise, resolve, reject } = Promise.withResolvers<T>();\n  1062→    this.#promise = promise;\n  1063→    this.#resolve = resolve;\n  1064→    this.#reject = reject;\n  1065→    // Attach no-op error handler to prevent unhandled rejection warnings\n  1066→    this.#promise.catch(() => {});\n  1067→  }\n  1068→}\n  1069→\n  1070→/**\n  1071→ * Tracks readiness signals from a group of children.\n  1072→ * Maintains a promise that resolves when all registered children have signaled.\n  1073→ */\n  1074→class ReadinessTracker {\n  1075→  #expectedCount = 0;\n  1076→  #signalCount = 0;\n  1077→  #resolve?: () => void;\n  1078→  #promise: Promise<void> = Promise.resolve();\n  1079→\n  1080→  get promise(): Promise<void> {\n  1081→    return this.#promise;\n  1082→  }\n  1083→\n  1084→  /**\n  1085→   * Register that we're expecting a signal from a child\n  1086→   */\n  1087→  registerChild(): void {\n  1088→    if (this.#expectedCount === 0) {\n  1089→      // First child - create new promise\n  1090→      const { promise, resolve } = Promise.withResolvers<void>();\n  1091→      this.#promise = promise;\n  1092→      this.#resolve = resolve;\n  1093→    }\n  1094→    this.#expectedCount++;\n  1095→  }\n  1096→\n  1097→  /**\n  1098→   * Signal that one child is ready\n  1099→   */\n  1100→  signal(): void {\n  1101→    this.#signalCount++;\n  1102→    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n  1103→      this.#resolve();\n  1104→    }\n  1105→  }\n  1106→\n  1107→  /**\n  1108→   * Reset to initial state\n  1109→   */\n  1110→  reset(): void {\n  1111→    this.#expectedCount = 0;\n  1112→    this.#signalCount = 0;\n  1113→    this.#resolve = undefined;\n  1114→    this.#promise = Promise.resolve();\n  1115→  }\n  1116→}\n  1117→\n  1118→/**\n  1119→ * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n  1120→ * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n  1121→ */\n  1122→class UOWChildCoordinator<TRawInput> {\n  1123→  #parent: UnitOfWork<TRawInput> | null = null;\n  1124→  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  1125→  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  1126→  #isRestricted = false;\n  1127→\n  1128→  #retrievalTracker = new ReadinessTracker();\n  1129→  #mutationTracker = new ReadinessTracker();\n  1130→\n  1131→  get isRestricted(): boolean {\n  1132→    return this.#isRestricted;\n  1133→  }\n  1134→\n  1135→  get parent(): UnitOfWork<TRawInput> | null {\n  1136→    return this.#parent;\n  1137→  }\n  1138→\n  1139→  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n  1140→    return this.#children;\n  1141→  }\n  1142→\n  1143→  get retrievalReadinessPromise(): Promise<void> {\n  1144→    return this.#retrievalTracker.promise;\n  1145→  }\n  1146→\n  1147→  get mutationReadinessPromise(): Promise<void> {\n  1148→    return this.#mutationTracker.promise;\n  1149→  }\n  1150→\n  1151→  /**\n  1152→   * Mark this UOW as a restricted child of the given parent\n  1153→   */\n  1154→  setAsRestricted(\n  1155→    parent: UnitOfWork<TRawInput>,\n  1156→    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  1157→  ): void {\n  1158→    this.#parent = parent;\n  1159→    this.#parentCoordinator = parentCoordinator;\n  1160→    this.#isRestricted = true;\n  1161→  }\n  1162→\n  1163→  /**\n  1164→   * Register a child UOW\n  1165→   */\n  1166→  addChild(child: UnitOfWork<TRawInput>): void {\n  1167→    this.#children.add(child);\n  1168→    this.#retrievalTracker.registerChild();\n  1169→    this.#mutationTracker.registerChild();\n  1170→  }\n  1171→\n  1172→  /**\n  1173→   * Signal that this child is ready for retrieval phase execution.\n  1174→   * Only valid for restricted (child) UOWs.\n  1175→   */\n  1176→  signalReadyForRetrieval(): void {\n  1177→    if (!this.#parentCoordinator) {\n  1178→      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n  1179→    }\n  1180→\n  1181→    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  1182→  }\n  1183→\n  1184→  /**\n  1185→   * Signal that this child is ready for mutation phase execution.\n  1186→   * Only valid for restricted (child) UOWs.\n  1187→   */\n  1188→  signalReadyForMutation(): void {\n  1189→    if (!this.#parentCoordinator) {\n  1190→      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n  1191→    }\n  1192→\n  1193→    this.#parentCoordinator.notifyChildReadyForMutation();\n  1194→  }\n  1195→\n  1196→  /**\n  1197→   * Notify this coordinator that a child is ready for retrieval (internal use).\n  1198→   * Called by child UOWs when they signal readiness.\n  1199→   */\n  1200→  notifyChildReadyForRetrieval(): void {\n  1201→    this.#retrievalTracker.signal();\n  1202→  }\n  1203→\n  1204→  /**\n  1205→   * Notify this coordinator that a child is ready for mutation (internal use).\n  1206→   * Called by child UOWs when they signal readiness.\n  1207→   */\n  1208→  notifyChildReadyForMutation(): void {\n  1209→    this.#mutationTracker.signal();\n  1210→  }\n  1211→\n  1212→  /**\n  1213→   * Reset coordination state for retry support\n  1214→   */\n  1215→  reset(): void {\n  1216→    this.#children.clear();\n  1217→    this.#retrievalTracker.reset();\n  1218→    this.#mutationTracker.reset();\n  1219→  }\n  1220→}\n  1221→\n  1222→/**\n  1223→ * Unit of Work implementation with optimistic concurrency control\n  1224→ *\n  1225→ * UOW has two phases:\n  1226→ * 1. Retrieval phase: Read operations to fetch entities with their versions\n  1227→ * 2. Mutation phase: Write operations that check versions before committing\n  1228→ *\n  1229→ * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n  1230→ *\n  1231→ * @example\n  1232→ * ```ts\n  1233→ * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n  1234→ * const typedUow = uow.forSchema(mySchema);\n  1235→ *\n  1236→ * // Retrieval phase\n  1237→ * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n  1238→ *\n  1239→ * // Execute retrieval and transition to mutation phase\n  1240→ * const [users] = await uow.executeRetrieve();\n  1241→ *\n  1242→ * // Mutation phase with version check\n  1243→ * const user = users[0];\n  1244→ * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n  1245→ *\n  1246→ * // Execute mutations\n  1247→ * const { success } = await uow.executeMutations();\n  1248→ * if (!success) {\n  1249→ *   // Handle version conflict\n  1250→ * }\n  1251→ * ```\n  1252→ */\n  1253→export class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  1254→  #name?: string;\n  1255→  #config?: UnitOfWorkConfig;\n  1256→  #idempotencyKey: string;\n  1257→\n  1258→  #state: UOWState = \"building-retrieval\";\n  1259→\n  1260→  // Operations can come from any schema\n  1261→  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  1262→  #mutationOps: MutationOperation<AnySchema>[] = [];\n  1263→\n  1264→  #compiler: UOWCompiler<unknown>;\n  1265→  #executor: UOWExecutor<unknown, TRawInput>;\n  1266→  #decoder: UOWDecoder<TRawInput>;\n  1267→  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n  1268→\n  1269→  #retrievalResults?: unknown[];\n  1270→  #createdInternalIds: (bigint | null)[] = [];\n  1271→\n  1272→  // Phase coordination promises\n  1273→  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  1274→  #mutationPhaseDeferred = new DeferredPromise<void>();\n  1275→\n  1276→  // Error tracking\n  1277→  #retrievalError: Error | null = null;\n  1278→  #mutationError: Error | null = null;\n  1279→\n  1280→  // Child coordination\n  1281→  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n  1282→\n  1283→  // Hook triggers\n  1284→  #triggeredHooks: TriggeredHook[] = [];\n  1285→\n  1286→  constructor(\n  1287→    compiler: UOWCompiler<unknown>,\n  1288→    executor: UOWExecutor<unknown, TRawInput>,\n  1289→    decoder: UOWDecoder<TRawInput>,\n  1290→    name?: string,\n  1291→    config?: UnitOfWorkConfig,\n  1292→    schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  1293→  ) {\n  1294→    this.#compiler = compiler;\n  1295→    this.#executor = executor;\n  1296→    this.#decoder = decoder;\n  1297→    this.#schemaNamespaceMap = schemaNamespaceMap ?? new WeakMap();\n  1298→    this.#name = name;\n  1299→    this.#config = config;\n  1300→    this.#idempotencyKey = config?.idempotencyKey ?? crypto.randomUUID();\n  1301→  }\n  1302→\n  1303→  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n  1304→    return {\n  1305→      phase,\n  1306→      uowName: this.#name,\n  1307→      idempotencyKey: this.#idempotencyKey,\n  1308→      retrievalOpsCount: this.#retrievalOps.length,\n  1309→      mutationOpsCount: this.#mutationOps.length,\n  1310→      uow: this,\n  1311→    };\n  1312→  }\n  1313→\n  1314→  async #runInstrumentation(\n  1315→    phase: UOWInstrumentationPhase,\n  1316→  ): Promise<UOWInstrumentationInjection | null> {\n  1317→    const hook = this.#config?.instrumentation?.[phase];\n  1318→    if (!hook) {\n  1319→      return null;\n  1320→    }\n  1321→\n  1322→    const result = await hook(this.#createInstrumentationContext(phase));\n  1323→    if (isUowInstrumentationInjection(result)) {\n  1324→      return result;\n  1325→    }\n  1326→\n  1327→    return null;\n  1328→  }\n  1329→\n  1330→  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n  1331→    const hook = this.#config?.instrumentationFinalizer?.[phase];\n  1332→    if (!hook) {\n  1333→      return;\n  1334→    }\n  1335→\n  1336→    await hook(this.#createInstrumentationContext(phase));\n  1337→  }\n  1338→\n  1339→  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n  1340→    if (injection.type === \"error\") {\n  1341→      throw injection.error;\n  1342→    }\n  1343→\n  1344→    throw new Error(injection.reason ?? \"Injected conflict\");\n  1345→  }\n  1346→\n  1347→  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n  1348→    if (injection.type === \"error\") {\n  1349→      throw injection.error;\n  1350→    }\n  1351→\n  1352→    this.#state = \"executed\";\n  1353→    this.#createdInternalIds.length = 0;\n  1354→    this.#mutationPhaseDeferred.resolve();\n  1355→    return { success: false };\n  1356→  }\n  1357→\n  1358→  /**\n  1359→   * Register a schema with its namespace for cross-fragment operations.\n  1360→   * This is used for internal fragments like hooks that need to create\n  1361→   * records in a different schema during the same transaction.\n  1362→   */\n  1363→  registerSchema(schema: AnySchema, namespace: string | null): void {\n  1364→    this.#schemaNamespaceMap.set(schema, namespace);\n  1365→  }\n  1366→\n  1367→  /**\n  1368→   * Get a schema-specific typed view of this UOW for type-safe operations.\n  1369→   * Returns a wrapper that provides typed operations for the given schema.\n  1370→   * The namespace is automatically resolved from the schema-namespace map.\n  1371→   * The optional hooks parameter is for type inference only - pass your hooks map\n  1372→   * to get proper typing for triggerHook. The value is not used at runtime.\n  1373→   */\n  1374→  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n  1375→    schema: TOtherSchema,\n  1376→    _hooks?: TOtherHooks,\n  1377→  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n  1378→    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n  1379→\n  1380→    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n  1381→      schema,\n  1382→      resolvedNamespace,\n  1383→      this,\n  1384→    );\n  1385→  }\n  1386→\n  1387→  /**\n  1388→   * Create a restricted child UOW that cannot execute phases.\n  1389→   * The child shares the same operation storage but must signal readiness\n  1390→   * before the parent can execute each phase.\n  1391→   *\n  1392→   * @param options.readyFor - Controls automatic readiness signaling:\n  1393→   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n  1394→   *   - \"retrieval\": Signals ready for retrieval only\n  1395→   *   - \"none\": No automatic signaling, caller must signal manually\n  1396→   */\n  1397→  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n  1398→    const readyFor = options?.readyFor ?? \"mutation\";\n  1399→\n  1400→    const child = new UnitOfWork(\n  1401→      this.#compiler,\n  1402→      this.#executor,\n  1403→      this.#decoder,\n  1404→      this.#name,\n  1405→      { ...this.#config, idempotencyKey: this.#idempotencyKey },\n  1406→      this.#schemaNamespaceMap,\n  1407→    );\n  1408→    child.#coordinator.setAsRestricted(this, this.#coordinator);\n  1409→\n  1410→    child.#retrievalOps = this.#retrievalOps;\n  1411→    child.#mutationOps = this.#mutationOps;\n  1412→    child.#retrievalResults = this.#retrievalResults;\n  1413→    child.#createdInternalIds = this.#createdInternalIds;\n  1414→    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n  1415→    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n  1416→    child.#retrievalError = this.#retrievalError;\n  1417→    child.#mutationError = this.#mutationError;\n  1418→    child.#triggeredHooks = this.#triggeredHooks;\n  1419→\n  1420→    this.#coordinator.addChild(child);\n  1421→\n  1422→    // Signal readiness based on options\n  1423→    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n  1424→      child.signalReadyForRetrieval();\n  1425→    }\n  1426→    if (readyFor === \"mutation\") {\n  1427→      child.signalReadyForMutation();\n  1428→    }\n  1429→\n  1430→    return child;\n  1431→  }\n  1432→\n  1433→  /**\n  1434→   * Signal that this child is ready for retrieval phase execution.\n  1435→   * Only valid for restricted (child) UOWs.\n  1436→   */\n  1437→  signalReadyForRetrieval(): void {\n  1438→    this.#coordinator.signalReadyForRetrieval();\n  1439→  }\n  1440→\n  1441→  /**\n  1442→   * Signal that this child is ready for mutation phase execution.\n  1443→   * Only valid for restricted (child) UOWs.\n  1444→   */\n  1445→  signalReadyForMutation(): void {\n  1446→    this.#coordinator.signalReadyForMutation();\n  1447→  }\n  1448→\n  1449→  /**\n  1450→   * Reset the UOW to initial state for retry support.\n  1451→   * Clears operations, resets state, and resets phase promises.\n  1452→   */\n  1453→  reset(): void {\n  1454→    if (this.#coordinator.isRestricted) {\n  1455→      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n  1456→    }\n  1457→\n  1458→    // Clear operations\n  1459→    this.#retrievalOps = [];\n  1460→    this.#mutationOps = [];\n  1461→    this.#retrievalResults = undefined;\n  1462→    this.#createdInternalIds = [];\n  1463→\n  1464→    // Reset state\n  1465→    this.#state = \"building-retrieval\";\n  1466→    this.#retrievalError = null;\n  1467→    this.#mutationError = null;\n  1468→\n  1469→    // Reset phase promises\n  1470→    this.#retrievalPhaseDeferred.reset();\n  1471→    this.#mutationPhaseDeferred.reset();\n  1472→\n  1473→    // Reset child coordination\n  1474→    this.#coordinator.reset();\n  1475→\n  1476→    // Reset hooks\n  1477→    this.#triggeredHooks = [];\n  1478→  }\n  1479→\n  1480→  /**\n  1481→   * Trigger a hook to be executed after the transaction commits.\n  1482→   */\n  1483→  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n  1484→    this.#triggeredHooks.push({\n  1485→      hookName,\n  1486→      payload,\n  1487→      options,\n  1488→    });\n  1489→  }\n  1490→\n  1491→  /**\n  1492→   * Get all triggered hooks for this UOW.\n  1493→   */\n  1494→  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n  1495→    return this.#triggeredHooks;\n  1496→  }\n  1497→\n  1498→  get state(): UOWState {\n  1499→    return this.#coordinator.parent?.state ?? this.#state;\n  1500→  }\n  1501→\n  1502→  get name(): string | undefined {\n  1503→    return this.#name;\n  1504→  }\n  1505→\n  1506→  get idempotencyKey(): string {\n  1507→    return this.#idempotencyKey;\n  1508→  }\n  1509→\n  1510→  /**\n  1511→   * Promise that resolves when the retrieval phase is executed\n  1512→   * Service methods can await this to coordinate multi-phase logic\n  1513→   */\n  1514→  get retrievalPhase(): Promise<unknown[]> {\n  1515→    return this.#retrievalPhaseDeferred.promise;\n  1516→  }\n  1517→\n  1518→  /**\n  1519→   * Promise that resolves when the mutation phase is executed\n  1520→   * Service methods can await this to coordinate multi-phase logic\n  1521→   */\n  1522→  get mutationPhase(): Promise<void> {\n  1523→    return this.#mutationPhaseDeferred.promise;\n  1524→  }\n  1525→\n  1526→  /**\n  1527→   * Execute the retrieval phase and transition to mutation phase\n  1528→   * Returns all results from find operations\n  1529→   */\n  1530→  async executeRetrieve(): Promise<unknown[]> {\n  1531→    if (this.#coordinator.isRestricted) {\n  1532→      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n  1533→    }\n  1534→\n  1535→    if (this.#state !== \"building-retrieval\") {\n  1536→      throw new Error(\n  1537→        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n  1538→      );\n  1539→    }\n  1540→\n  1541→    let afterRan = false;\n  1542→    let failed = false;\n  1543→    try {\n  1544→      // Wait for all children to signal readiness\n  1545→      await this.#coordinator.retrievalReadinessPromise;\n  1546→\n  1547→      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n  1548→      if (beforeInjection) {\n  1549→        return this.#handleRetrieveInjection(beforeInjection);\n  1550→      }\n  1551→\n  1552→      if (this.#retrievalOps.length === 0) {\n  1553→        this.#state = \"building-mutation\";\n  1554→        const emptyResults: unknown[] = [];\n  1555→        afterRan = true;\n  1556→        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1557→        if (afterInjection) {\n  1558→          return this.#handleRetrieveInjection(afterInjection);\n  1559→        }\n  1560→        this.#retrievalPhaseDeferred.resolve(emptyResults);\n  1561→        return emptyResults;\n  1562→      }\n  1563→\n  1564→      // Compile retrieval operations using single compiler\n  1565→      const retrievalBatch: unknown[] = [];\n  1566→      for (const op of this.#retrievalOps) {\n  1567→        const compiled = this.#compiler.compileRetrievalOperation(op);\n  1568→        if (compiled !== null) {\n  1569→          this.#config?.onQuery?.(compiled);\n  1570→          retrievalBatch.push(compiled);\n  1571→        }\n  1572→      }\n  1573→\n  1574→      if (this.#config?.dryRun) {\n  1575→        this.#state = \"executed\";\n  1576→        const emptyResults: unknown[] = [];\n  1577→        afterRan = true;\n  1578→        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1579→        if (afterInjection) {\n  1580→          return this.#handleRetrieveInjection(afterInjection);\n  1581→        }\n  1582→        this.#retrievalPhaseDeferred.resolve(emptyResults);\n  1583→        return emptyResults;\n  1584→      }\n  1585→\n  1586→      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n  1587→\n  1588→      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n  1589→\n  1590→      // Store results and transition to mutation phase\n  1591→      this.#retrievalResults = results;\n  1592→      this.#state = \"building-mutation\";\n  1593→\n  1594→      afterRan = true;\n  1595→      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1596→      if (afterInjection) {\n  1597→        return this.#handleRetrieveInjection(afterInjection);\n  1598→      }\n  1599→\n  1600→      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n  1601→\n  1602→      return this.#retrievalResults;\n  1603→    } catch (error) {\n  1604→      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n  1605→      failed = true;\n  1606→      throw error;\n  1607→    } finally {\n  1608→      try {\n  1609→        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n  1610→      } catch {\n  1611→        // Ignore finalizer errors when unwinding failures.\n  1612→      }\n  1613→\n  1614→      if (!afterRan && failed) {\n  1615→        try {\n  1616→          await this.#runInstrumentation(\"afterRetrieve\");\n  1617→        } catch {\n  1618→          // Ignore after-retrieve hook errors when unwinding failures.\n  1619→        }\n  1620→      }\n  1621→    }\n  1622→  }\n  1623→\n  1624→  /**\n  1625→   * Execute the mutation phase\n  1626→   * Returns success flag indicating if mutations completed without conflicts\n  1627→   */\n  1628→  async executeMutations(): Promise<{ success: boolean }> {\n  1629→    if (this.#coordinator.isRestricted) {\n  1630→      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n  1631→    }\n  1632→\n  1633→    if (this.#state === \"executed\") {\n  1634→      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n  1635→    }\n  1636→\n  1637→    let afterRan = false;\n  1638→    let failed = false;\n  1639→    try {\n  1640→      // Wait for all children to signal readiness\n  1641→      await this.#coordinator.mutationReadinessPromise;\n  1642→\n  1643→      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n  1644→      if (beforeInjection) {\n  1645→        return this.#handleMutationInjection(beforeInjection);\n  1646→      }\n  1647→\n  1648→      // Compile mutation operations using single compiler\n  1649→      const mutationBatch: CompiledMutation<unknown>[] = [];\n  1650→      for (const op of this.#mutationOps) {\n  1651→        const compiled = this.#compiler.compileMutationOperation(op);\n  1652→        if (compiled !== null) {\n  1653→          compiled.uowId = this.#idempotencyKey;\n  1654→          this.#config?.onQuery?.(compiled);\n  1655→          mutationBatch.push(compiled);\n  1656→        }\n  1657→      }\n  1658→\n  1659→      if (this.#config?.dryRun) {\n  1660→        this.#state = \"executed\";\n  1661→        afterRan = true;\n  1662→        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n  1663→        if (afterInjection) {\n  1664→          return this.#handleMutationInjection(afterInjection);\n  1665→        }\n  1666→        this.#mutationPhaseDeferred.resolve();\n  1667→        return {\n  1668→          success: true,\n  1669→        };\n  1670→      }\n  1671→\n  1672→      // Execute mutation phase\n  1673→      const result = await this.#executor.executeMutationPhase(mutationBatch);\n  1674→      this.#state = \"executed\";\n  1675→\n  1676→      if (result.success) {\n  1677→        // Mutate array in-place to preserve shared references with child UOWs\n  1678→        this.#createdInternalIds.length = 0;\n  1679→        this.#createdInternalIds.push(...result.createdInternalIds);\n  1680→      }\n  1681→\n  1682→      afterRan = true;\n  1683→      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n  1684→      if (afterInjection) {\n  1685→        return this.#handleMutationInjection(afterInjection);\n  1686→      }\n  1687→\n  1688→      // Resolve the mutation phase promise to unblock waiting service methods\n  1689→      this.#mutationPhaseDeferred.resolve();\n  1690→\n  1691→      return {\n  1692→        success: result.success,\n  1693→      };\n  1694→    } catch (error) {\n  1695→      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n  1696→      failed = true;\n  1697→      throw error;\n  1698→    } finally {\n  1699→      try {\n  1700→        await this.#runInstrumentationFinalizer(\"afterMutate\");\n  1701→      } catch {\n  1702→        // Ignore finalizer errors when unwinding failures.\n  1703→      }\n  1704→\n  1705→      if (!afterRan && failed) {\n  1706→        try {\n  1707→          await this.#runInstrumentation(\"afterMutate\");\n  1708→        } catch {\n  1709→          // Ignore after-mutate hook errors when unwinding failures.\n  1710→        }\n  1711→      }\n  1712→    }\n  1713→  }\n  1714→\n  1715→  /**\n  1716→   * Get the retrieval operations (for inspection/debugging)\n  1717→   */\n  1718→  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n  1719→    return this.#retrievalOps;\n  1720→  }\n  1721→\n  1722→  /**\n  1723→   * Get the mutation operations (for inspection/debugging)\n  1724→   */\n  1725→  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n  1726→    return this.#mutationOps;\n  1727→  }\n  1728→\n  1729→  /**\n  1730→   * @internal\n  1731→   * Add a retrieval operation (used by TypedUnitOfWork)\n  1732→   */\n  1733→  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n  1734→    if (this.state !== \"building-retrieval\") {\n  1735→      throw new Error(\n  1736→        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n  1737→      );\n  1738→    }\n  1739→    this.#retrievalOps.push(op);\n  1740→    return this.#retrievalOps.length - 1;\n  1741→  }\n  1742→\n  1743→  /**\n  1744→   * @internal\n  1745→   * Add a mutation operation (used by TypedUnitOfWork)\n  1746→   */\n  1747→  addMutationOperation(op: MutationOperation<AnySchema>): void {\n  1748→    if (this.state === \"executed\") {\n  1749→      throw new Error(`Cannot add mutation operation in executed state.`);\n  1750→    }\n  1751→    this.#mutationOps.push(op);\n  1752→  }\n  1753→\n  1754→  /**\n  1755→   * Get the IDs of created entities after executeMutations() has been called.\n  1756→   * Returns FragnoId objects with external IDs (always available) and internal IDs\n  1757→   * (available when database supports RETURNING).\n  1758→   *\n  1759→   * @throws Error if called before executeMutations()\n  1760→   * @returns Array of FragnoIds in the same order as create() calls\n  1761→   */\n  1762→  getCreatedIds(): FragnoId[] {\n  1763→    if (this.state !== \"executed\") {\n  1764→      throw new Error(\n  1765→        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n  1766→      );\n  1767→    }\n  1768→\n  1769→    const createdIds: FragnoId[] = [];\n  1770→    let createIndex = 0;\n  1771→\n  1772→    for (const op of this.#mutationOps) {\n  1773→      if (op.type === \"create\") {\n  1774→        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n  1775→        createdIds.push(\n  1776→          new FragnoId({\n  1777→            externalId: op.generatedExternalId,\n  1778→            internalId,\n  1779→            version: 0, // New records always start at version 0\n  1780→          }),\n  1781→        );\n  1782→        createIndex++;\n  1783→      }\n  1784→    }\n  1785→\n  1786→    return createdIds;\n  1787→  }\n  1788→\n  1789→  /**\n  1790→   * @internal\n  1791→   * Compile the unit of work to executable queries for testing\n  1792→   */\n  1793→  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n  1794→    name?: string;\n  1795→    retrievalBatch: TOutput[];\n  1796→    mutationBatch: CompiledMutation<TOutput>[];\n  1797→  } {\n  1798→    const retrievalBatch: TOutput[] = [];\n  1799→    for (const op of this.#retrievalOps) {\n  1800→      const compiled = compiler.compileRetrievalOperation(op);\n  1801→      if (compiled !== null) {\n  1802→        retrievalBatch.push(compiled);\n  1803→      }\n  1804→    }\n  1805→\n  1806→    const mutationBatch: CompiledMutation<TOutput>[] = [];\n  1807→    for (const op of this.#mutationOps) {\n  1808→      const compiled = compiler.compileMutationOperation(op);\n  1809→      if (compiled !== null) {\n  1810→        compiled.uowId = this.#idempotencyKey;\n  1811→        mutationBatch.push(compiled);\n  1812→      }\n  1813→    }\n  1814→\n  1815→    return {\n  1816→      name: this.#name,\n  1817→      retrievalBatch,\n  1818→      mutationBatch,\n  1819→    };\n  1820→  }\n  1821→}\n  1822→\n  1823→/**\n  1824→ * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n  1825→ * All operations are stored in the underlying UOW, but this facade ensures type safety and\n  1826→ * filters retrieval results to only include operations added through this facade.\n  1827→ */\n  1828→export class TypedUnitOfWork<\n  1829→  const TSchema extends AnySchema,\n  1830→  const TRetrievalResults extends unknown[] = [],\n  1831→  const TRawInput = unknown,\n  1832→  const THooks extends HooksMap = {},\n  1833→> implements IUnitOfWork\n  1834→{\n  1835→  #schema: TSchema;\n  1836→  #namespace?: string | null;\n  1837→  #uow: UnitOfWork<TRawInput>;\n  1838→  #operationIndices: number[] = [];\n  1839→  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n  1840→\n  1841→  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n  1842→    this.#schema = schema;\n  1843→    this.#namespace = namespace;\n  1844→    this.#uow = uow;\n  1845→  }\n  1846→\n  1847→  get $results(): Prettify<TRetrievalResults> {\n  1848→    throw new Error(\"type only\");\n  1849→  }\n  1850→\n  1851→  get schema(): TSchema {\n  1852→    return this.#schema;\n  1853→  }\n  1854→\n  1855→  get name(): string | undefined {\n  1856→    return this.#uow.name;\n  1857→  }\n  1858→\n  1859→  get idempotencyKey(): string {\n  1860→    return this.#uow.idempotencyKey;\n  1861→  }\n  1862→\n  1863→  get state() {\n  1864→    return this.#uow.state;\n  1865→  }\n  1866→\n  1867→  get retrievalPhase(): Promise<TRetrievalResults> {\n  1868→    // Cache the filtered promise to avoid recreating it on every access\n  1869→    if (!this.#cachedRetrievalPhase) {\n  1870→      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n  1871→        const allOperations = this.#uow.getRetrievalOperations();\n  1872→        const filteredResults = this.#operationIndices.map((opIndex) => {\n  1873→          const result = allResults[opIndex];\n  1874→          const operation = allOperations[opIndex];\n  1875→          // Transform array to single item for findFirst operations\n  1876→          if (operation?.type === \"find\" && operation.withSingleResult) {\n  1877→            return Array.isArray(result) ? (result[0] ?? null) : result;\n  1878→          }\n  1879→          return result;\n  1880→        });\n  1881→        return filteredResults as TRetrievalResults;\n  1882→      });\n  1883→    }\n  1884→    return this.#cachedRetrievalPhase;\n  1885→  }\n  1886→\n  1887→  get mutationPhase(): Promise<void> {\n  1888→    return this.#uow.mutationPhase;\n  1889→  }\n  1890→\n  1891→  getRetrievalOperations() {\n  1892→    return this.#uow.getRetrievalOperations();\n  1893→  }\n  1894→\n  1895→  getMutationOperations() {\n  1896→    return this.#uow.getMutationOperations();\n  1897→  }\n  1898→\n  1899→  getCreatedIds() {\n  1900→    return this.#uow.getCreatedIds();\n  1901→  }\n  1902→\n  1903→  async executeRetrieve(): Promise<TRetrievalResults> {\n  1904→    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  1905→  }\n  1906→\n  1907→  async executeMutations(): Promise<{ success: boolean }> {\n  1908→    return this.#uow.executeMutations();\n  1909→  }\n  1910→\n  1911→  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n  1912→    return this.#uow.restrict(options);\n  1913→  }\n  1914→\n  1915→  signalReadyForRetrieval(): void {\n  1916→    this.#uow.signalReadyForRetrieval();\n  1917→  }\n  1918→\n  1919→  signalReadyForMutation(): void {\n  1920→    this.#uow.signalReadyForMutation();\n  1921→  }\n  1922→\n  1923→  reset(): void {\n  1924→    return this.#uow.reset();\n  1925→  }\n  1926→\n  1927→  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n  1928→    schema: TOtherSchema,\n  1929→    hooks?: TOtherHooks,\n  1930→  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n  1931→    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  1932→  }\n  1933→\n  1934→  registerSchema(schema: AnySchema, namespace: string | null): void {\n  1935→    this.#uow.registerSchema(schema, namespace);\n  1936→  }\n  1937→\n  1938→  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n  1939→    name?: string;\n  1940→    retrievalBatch: TOutput[];\n  1941→    mutationBatch: CompiledMutation<TOutput>[];\n  1942→  } {\n  1943→    return this.#uow.compile(compiler);\n  1944→  }\n  1945→\n  1946→  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n  1947→    tableName: TTableName,\n  1948→    builderFn: (\n  1949→      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n  1950→    ) => TBuilderResult,\n  1951→  ): TypedUnitOfWork<\n  1952→    TSchema,\n  1953→    [\n  1954→      ...TRetrievalResults,\n  1955→      SelectResult<\n  1956→        TSchema[\"tables\"][TTableName],\n  1957→        ExtractJoinOut<TBuilderResult>,\n  1958→        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n  1959→      >[],\n  1960→    ],\n  1961→    TRawInput,\n  1962→    THooks\n  1963→  >;\n  1964→  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n  1965→    tableName: TTableName,\n  1966→  ): TypedUnitOfWork<\n  1967→    TSchema,\n  1968→    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n  1969→    TRawInput,\n  1970→    THooks\n  1971→  >;\n  1972→  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n  1973→    tableName: TTableName,\n  1974→    builderFn?: (\n  1975→      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n  1976→    ) => TBuilderResult,\n  1977→  ): TypedUnitOfWork<\n  1978→    TSchema,\n  1979→    [\n  1980→      ...TRetrievalResults,\n  1981→      SelectResult<\n  1982→        TSchema[\"tables\"][TTableName],\n  1983→        ExtractJoinOut<TBuilderResult>,\n  1984→        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n  1985→      >[],\n  1986→    ],\n  1987→    TRawInput,\n  1988→    THooks\n  1989→  > {\n  1990→    const table = this.#schema.tables[tableName];\n  1991→    if (!table) {\n  1992→      throw new Error(`Table ${tableName} not found in schema`);\n  1993→    }\n  1994→\n  1995→    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n  1996→    if (builderFn) {\n  1997→      builderFn(builder);\n  1998→    } else {\n  1999→      builder.whereIndex(\"primary\");\n  2000→    }\n  2001→    const { indexName, options, type } = builder.build();\n  2002→\n  2003→    const operationIndex = this.#uow.addRetrievalOperation({\n  2004→      type,\n  2005→      schema: this.#schema,\n  2006→      namespace: this.#namespace,\n  2007→      table: table as TSchema[\"tables\"][TTableName],\n  2008→      indexName,\n  2009→      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  2010→      options: options as any,\n  2011→    });\n  2012→\n  2013→    // Track which operation index belongs to this view\n  2014→    this.#operationIndices.push(operationIndex);\n  2015→\n  2016→    // Safe: return type is correctly specified in the method signature\n  2017→    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  2018→    return this as any;\n  2019→  }\n  2020→\n  2021→  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n  2022→    tableName: TTableName,\n  2023→    builderFn: (\n  2024→      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n  2025→    ) => TBuilderResult,\n  2026→  ): TypedUnitOfWork<\n  2027→    TSchema,\n  2028→    [\n  2029→      ...TRetrievalResults,\n  2030→      SelectResult<\n  2031→        TSchema[\"tables\"][TTableName],\n  2032→        ExtractJoinOut<TBuilderResult>,\n  2033→        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n  2034→      > | null,\n  2035→    ],\n  2036→    TRawInput,\n  2037→    THooks\n  2038→  >;\n  2039→  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n  2040→    tableName: TTableName,\n  2041→  ): TypedUnitOfWork<\n  2042→    TSchema,\n  2043→    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n  2044→    TRawInput,\n  2045→    THooks\n  2046→  >;\n  2047→  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n  2048→    tableName: TTableName,\n  2049→    builderFn?: (\n  2050→      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n  2051→    ) => TBuilderResult,\n  2052→  ): TypedUnitOfWork<\n  2053→    TSchema,\n  2054→    [\n  2055→      ...TRetrievalResults,\n  2056→      SelectResult<\n  2057→        TSchema[\"tables\"][TTableName],\n  2058→        ExtractJoinOut<TBuilderResult>,\n  2059→        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n  2060→      > | null,\n  2061→    ],\n  2062→    TRawInput,\n  2063→    THooks\n  2064→  > {\n  2065→    const table = this.#schema.tables[tableName];\n  2066→    if (!table) {\n  2067→      throw new Error(`Table ${tableName} not found in schema`);\n  2068→    }\n  2069→\n  2070→    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n  2071→    if (builderFn) {\n  2072→      builderFn(builder);\n  2073→    } else {\n  2074→      builder.whereIndex(\"primary\");\n  2075→    }\n  2076→    // Automatically set pageSize to 1 for findFirst\n  2077→    builder.pageSize(1);\n  2078→    const { indexName, options, type } = builder.build();\n  2079→\n  2080→    const operationIndex = this.#uow.addRetrievalOperation({\n  2081→      type,\n  2082→      schema: this.#schema,\n  2083→      namespace: this.#namespace,\n  2084→      table: table as TSchema[\"tables\"][TTableName],\n  2085→      indexName,\n  2086→      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  2087→      options: options as any,\n  2088→      withSingleResult: true,\n  2089→    });\n  2090→\n  2091→    // Track which operation index belongs to this view\n  2092→    this.#operationIndices.push(operationIndex);\n  2093→\n  2094→    // Safe: return type is correctly specified in the method signature\n  2095→    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  2096→    return this as any;\n  2097→  }\n  2098→\n  2099→  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n  2100→    tableName: TTableName,\n  2101→    builderFn: (\n  2102→      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n  2103→    ) => TBuilderResult,\n  2104→  ): TypedUnitOfWork<\n  2105→    TSchema,\n  2106→    [\n  2107→      ...TRetrievalResults,\n  2108→      CursorResult<\n  2109→        SelectResult<\n  2110→          TSchema[\"tables\"][TTableName],\n  2111→          ExtractJoinOut<TBuilderResult>,\n  2112→          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n  2113→        >\n  2114→      >,\n  2115→    ],\n  2116→    TRawInput,\n  2117→    THooks\n  2118→  > {\n  2119→    const table = this.#schema.tables[tableName];\n  2120→    if (!table) {\n  2121→      throw new Error(`Table ${tableName} not found in schema`);\n  2122→    }\n  2123→\n  2124→    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n  2125→    builderFn(builder);\n  2126→    const { indexName, options, type } = builder.build();\n  2127→\n  2128→    const operationIndex = this.#uow.addRetrievalOperation({\n  2129→      type,\n  2130→      schema: this.#schema,\n  2131→      namespace: this.#namespace,\n  2132→      table: table as TSchema[\"tables\"][TTableName],\n  2133→      indexName,\n  2134→      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  2135→      options: options as any,\n  2136→      withCursor: true,\n  2137→    });\n  2138→\n  2139→    // Track which operation index belongs to this view\n  2140→    this.#operationIndices.push(operationIndex);\n  2141→\n  2142→    // Safe: return type is correctly specified in the method signature\n  2143→    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  2144→    return this as any;\n  2145→  }\n  2146→\n  2147→  /**\n  2148→   * Generate a new ID for a table without creating a record.\n  2149→   * This is useful when you need to reference an ID before actually creating the record,\n  2150→   * or when you need to pass the ID to external services.\n  2151→   *\n  2152→   * @example\n  2153→   * ```ts\n  2154→   * const userId = uow.generateId(\"users\");\n  2155→   * // Use userId in related records or pass to external services\n  2156→   * uow.create(\"users\", { id: userId, name: \"John\" });\n  2157→   * ```\n  2158→   */\n  2159→  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n  2160→    return generateId(this.#schema, tableName);\n  2161→  }\n  2162→\n  2163→  create<TableName extends keyof TSchema[\"tables\"] & string>(\n  2164→    tableName: TableName,\n  2165→    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  2166→  ): FragnoId {\n  2167→    const tableSchema = this.#schema.tables[tableName];\n  2168→    if (!tableSchema) {\n  2169→      throw new Error(`Table ${tableName} not found in schema`);\n  2170→    }\n  2171→\n  2172→    const idColumn = tableSchema.getIdColumn();\n  2173→    let externalId: string;\n  2174→    let updatedValues = values;\n  2175→\n  2176→    // Check if ID value is provided in values\n  2177→    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n  2178→\n  2179→    if (providedIdValue !== undefined) {\n  2180→      // Extract string from FragnoId or use string directly\n  2181→      if (\n  2182→        typeof providedIdValue === \"object\" &&\n  2183→        providedIdValue !== null &&\n  2184→        \"externalId\" in providedIdValue\n  2185→      ) {\n  2186→        externalId = (providedIdValue as FragnoId).externalId;\n  2187→      } else {\n  2188→        externalId = providedIdValue as string;\n  2189→      }\n  2190→    } else {\n  2191→      // Generate using the column's default configuration\n  2192→      const generated = idColumn.generateDefaultValue();\n  2193→      if (generated === undefined) {\n  2194→        throw new Error(\n  2195→          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n  2196→        );\n  2197→      }\n  2198→      externalId = generated as string;\n  2199→\n  2200→      // Add the generated ID to values so it's used in the insert\n  2201→      updatedValues = {\n  2202→        ...values,\n  2203→        [idColumn.name]: externalId,\n  2204→      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n  2205→    }\n  2206→\n  2207→    this.#uow.addMutationOperation({\n  2208→      type: \"create\",\n  2209→      schema: this.#schema,\n  2210→      namespace: this.#namespace,\n  2211→      table: tableName,\n  2212→      values: updatedValues,\n  2213→      generatedExternalId: externalId,\n  2214→    });\n  2215→\n  2216→    return FragnoId.fromExternal(externalId, 0);\n  2217→  }\n  2218→\n  2219→  update<TableName extends keyof TSchema[\"tables\"] & string>(\n  2220→    tableName: TableName,\n  2221→    id: FragnoId | string,\n  2222→    builderFn: (\n  2223→      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n  2224→    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  2225→  ): void {\n  2226→    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n  2227→    builderFn(builder);\n  2228→    const { id: opId, checkVersion, set } = builder.build();\n  2229→\n  2230→    this.#uow.addMutationOperation({\n  2231→      type: \"update\",\n  2232→      schema: this.#schema,\n  2233→      namespace: this.#namespace,\n  2234→      table: tableName,\n  2235→      id: opId,\n  2236→      checkVersion,\n  2237→      set,\n  2238→    });\n  2239→  }\n  2240→\n  2241→  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n  2242→    tableName: TableName,\n  2243→    id: FragnoId | string,\n  2244→    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  2245→  ): void {\n  2246→    const builder = new DeleteBuilder(tableName, id);\n  2247→    builderFn?.(builder);\n  2248→    const { id: opId, checkVersion } = builder.build();\n  2249→\n  2250→    this.#uow.addMutationOperation({\n  2251→      type: \"delete\",\n  2252→      schema: this.#schema,\n  2253→      namespace: this.#namespace,\n  2254→      table: tableName,\n  2255→      id: opId,\n  2256→      checkVersion,\n  2257→    });\n  2258→  }\n  2259→\n  2260→  /**\n  2261→   * Check that a record's version hasn't changed since retrieval.\n  2262→   * This is useful for ensuring related records remain unchanged during a transaction.\n  2263→   *\n  2264→   * @param tableName - The table name\n  2265→   * @param id - The FragnoId with version information (string IDs are not allowed)\n  2266→   * @throws Error if the ID is a string without version information\n  2267→   *\n  2268→   * @example\n  2269→   * ```ts\n  2270→   * // Ensure both accounts haven't changed before creating a transfer\n  2271→   * uow.check(\"accounts\", fromAccount.id);\n  2272→   * uow.check(\"accounts\", toAccount.id);\n  2273→   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n  2274→   * ```\n  2275→   */\n  2276→  check<TableName extends keyof TSchema[\"tables\"] & string>(\n  2277→    tableName: TableName,\n  2278→    id: FragnoId,\n  2279→  ): void {\n  2280→    this.#uow.addMutationOperation({\n  2281→      type: \"check\",\n  2282→      schema: this.#schema,\n  2283→      namespace: this.#namespace,\n  2284→      table: tableName,\n  2285→      id,\n  2286→    });\n  2287→  }\n  2288→\n  2289→  get $hooks(): THooks {\n  2290→    throw new Error(\"type only\");\n  2291→  }\n  2292→\n  2293→  /**\n  2294→   * Trigger a hook to be executed after the transaction commits.\n  2295→   */\n  2296→  triggerHook<K extends keyof THooks & string>(\n  2297→    hookName: K,\n  2298→    payload: HookPayload<THooks[K]>,\n  2299→    options?: TriggerHookOptions,\n  2300→  ): void {\n  2301→    this.#uow.triggerHook(hookName, payload, options);\n  2302→  }\n  2303→\n  2304→  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n  2305→    return this.#uow.getTriggeredHooks();\n  2306→  }\n  2307→}\n  2308→"}]},"uuid":"7fca265a-12a4-4185-a999-afc5b3dfe264","timestamp":"2026-02-12T10:36:31.805Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","content":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(\n    compiler: UOWCompiler<unknown>,\n    executor: UOWExecutor<unknown, TRawInput>,\n    decoder: UOWDecoder<TRawInput>,\n    name?: string,\n    config?: UnitOfWorkConfig,\n    schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  ) {\n    this.#compiler = compiler;\n    this.#executor = executor;\n    this.#decoder = decoder;\n    this.#schemaNamespaceMap = schemaNamespaceMap ?? new WeakMap();\n    this.#name = name;\n    this.#config = config;\n    this.#idempotencyKey = config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork(\n      this.#compiler,\n      this.#executor,\n      this.#decoder,\n      this.#name,\n      { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      this.#schemaNamespaceMap,\n    );\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","numLines":2308,"startLine":1,"totalLines":2308}},"sourceToolAssistantUUID":"01262647-313c-4cf9-a6b4-934ba2bd8b36"}
{"parentUuid":"7fca265a-12a4-4185-a999-afc5b3dfe264","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01TiTJEaYbvodeaHs3UcCufZ","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Now I understand the file. Let me analyze the specific issues:\n\n1. **`buildJoinIndexed`** (line ~831) — 3 bumps of nested conditional logic\n2. **`UnitOfWork.executeRetrieve`** (line ~1530) — cc=21, 75 lines, 3 bumps\n3. **`UnitOfWork.executeMutations`** (line ~1628) — cc=20, 2 bumps\n4. **`createUnitOfWork`** (line ~1001) — 5 arguments\n5. **`UnitOfWork.constructor`** (line ~1286) — 6 arguments\n\n\nI can see both `executeRetrieve` and `executeMutations` follow the same pattern—checking state, waiting for children, running instrumentation hooks, compiling operations, handling dry-runs, executing, and managing errors. I'll extract the common compilation logic into separate private methods and consolidate the try/catch/finally pattern to reduce duplication. the instrumentation wrapping is similar, but different enough that extracting a single wrapper might be over-engineering. Let me focus on the inner chunks.\n\nLooking at the structure more carefully, `executeRetrieve` breaks down into guard checks, waiting for children with before instrumentation, an early return for empty ops, compiling the retrieval batch, a dry-run early return, the actual execution and decode, after instrumentation, and error handling with finally. `executeMutations` follows a similar pattern with its own guard checks, waiting, batch compilation, dry-run, execution, instrumentation, and error handling.\n\nThe real complexity is how instrumentation gets interleaved throughout. I think the best approach is to extract the compilation logic and the core execution separately—so `#compileRetrievalBatch()` and `#executeRetrievalCore()` for retrieval, and `#compileMutationBatch()` and `#executeMutationCore()` for mutations. This keeps the instrumentation wrapping in the main methods where it belongs while pulling out the repetitive compilation and execution logic.\n\nFor `buildJoinIndexed`, the nested conditionals around the where clause and orderBy handling are the main pain points. I can flatten those with guard clauses and extract `#buildJoinCondition()` and `#buildJoinOrderBy()` to handle those pieces separately.\n\nThen for `createUnitOfWork` and its constructor, I'm looking at whether a parameter object makes sense to compress the arguments.\n\nLet me step back and check what the issue is actually asking for, then find the existing tests to make sure I don't break anything.","signature":"EtEgCkYICxgCKkDoXD939HcTlwaYKCpc9ZUWffBuX6DuLJVZ6SLB8szf/sjaEnK2ZXMyD7TD4jIgjYMhKoMO4FXqJj0OyTyFxIuzEgww8ArElJ7spv8vkBMaDCsVHJYdgVX5ibFmpCIwGeQmPHuq7QUQeHrXVZFUTwobKYxtivVGjYTXuJnKqWJwMUKmYUbOWhW9ht2fJRD8KrgfqPALyLFbs4KkvR3kFKo4WIsOMIjMzjs6IajYpBJO1oyYyoKn1NWX4zLMhnCDEoQmjLhf8M1WbZszzqQwORmAumw5dJwpbu4mEwmZ52PUaBXC0hB9bYkdbYgApngLtoPnSf3LXzfrFNrPwlunvuSn3YX47aHJXk38Af5Mu28yUWnogzJxaKh9roMV9Bc8wgZMZm3T4P/UmpJOMdTT4oKqJp4HB9xQuCGmjA5jQUL5ZBSOgpQDYw679UWkbmUrwqWSg6EM/fwa4+7+5hP3/CUj0HfIH93oKzTiZexS+9DuqNx0h8R8sl1ExiwPA+yrBN0o1xjKyJYbspzEZGDzIMIz+PbHFx9ml/Wk9nUW42+vZwutqdJCf4l8wAto+ThMdrw8InYgWnlrolG/+s+gKQjoBLol04O8xg6nJykdP3iBbTF6SdkYb2y2fBkfs4CovakUAheNLoBG1BupWYumejr13nM6AR/ZhTWM+5hsNzlJsQp5wjCjpnQSJlorrGGpcN2XxCtr3GiDBHiAguyMUkUWjzh6ux+ImcFEhVRDi7+cFbDKM8qPqn+JgXwPXdfu5JVjtnCOO+Xx6n/8Akv1LG8LUlrahjhByR/svh6H3Uai2kNYq0KHPH9GTv7XTwf+TwKmt7CT88NpcR7Xrea0hzEvAaHfdTj8r//ElgiVYeMUcU70cskKdBL7NBJ6/aItK2Xq/1mLE12QbpkEV+oDDpBlGqsXg59utl1YHe0O4PBY/RXXBUusFdldeFdpMM5hwxvNnDo6ix411XpJ7dzHbBWgniGKv2ZVi5cPOUgzvGJocPKK+RGLImxEJCHNQNt4AEUOl74V/PlFu8lzFMrMQIJV8tI+UtF+IWLUr2NAddbCpyVLcZhrDOHaCILlW3/PEYOwa9MVzwbnPGZ1hmENpyU96xXe6WEz5LBKGS4JODz2qQYRuovUF3Dd8p4U+57UqZmTUgTbWFy8kyqnVgi+7OZlREOz8Au7NLgIDK27mdo23pL9Yc/1FEW4F4+0TxjeYAzmsNWdbndBwe1lof4BkIlMJT8WnPbc5MvfgGHOvLWRkf/oqkDet3VtuMAkzyuUbdxbTMoSPEK5mWw+E1D+JVQ0cNAx26zapIVqlDurx9KLC7hWaimYqordBUmV8/+ZBemGVVxDFee8g+zBMMy86M4RaxXTMO5PhwyCd0MwUuivuPj+5yB1UY6SJkZHqnhHi9OjuFLgCHpRixUcqoP0Uu2FwqNu+DdAOBMwWkvH/eUmSQ5udqtk6EoJLn5RhKQ9H5do72Cr5K1Ebvz+kgPh+O5dUzvg0XVaKSiKXgCY+z0dEfiOrZP9YWTWCBgpZakH3rwfch+sxusJPaHdVmgjtc/WxXoekYZfX0h2v++TPBd4F/GausI4PfEWEDkZnKuDAOCAEJFuHWt1I/UN7plgKljHahu69YF2YEdYCvnFvT5CuLFCcQ63nP9PYdU39NbRSmOT9MkAs3nS3x9ljRDFRwTrg7NyYRRNjvsaTo4XcLjEYuDMbJwL+nSCpMY1DmzWmzQKNSDCsOwHzts2kNsS11xVurznHy+PpO0/qi8RcNZ3gDsOTcaeg1+kkAv/ExyigcRTh5E00/6LbEitEUT2VrJ2ICIJD+2peKPJppREdYY6heL738b4rSzGKd5dl0AQ5bu1q3Z2aUeg2BQdAZqGatDvA36CMQQD+2v8XhF3VqLWoV2DKEdhxv0DlDMaO4r6drmWosqDDxyW9x32uWNEL1NU6ewCqu0pnQMdu5Ttr7l432HofHc7OJWWv4QbKBhAAnkaVaFpVQfPN9/XDajoJclFC6m9qMg9j5cBaMsy8NB6Bxod/qlvj9BJNTrF+f+3ITQRik+gluT7urIoGATqJjNIYc+5BP+X+ohVytL9tHRxvzPXnoPfFFiLTYHQorSInsxpSXfDbeSyVErK2gKY16SbUkbs63aL+tNZKsItWoZNPVSZmH/O52Ti+D2AXv8eqoE3hp7ddZUS5SnybGIz6CPBoB2W5yLu5d5LDFBCqvEL/+r7ponLA92CvVOVzjTE0LmBsCig177YAYWh/8zj0zcGTV9/LQIeVajB/nbQaZgipb6CG98CgL1aX5xUiGatbJx6z4szghUTCrhGaedDDs+SK3N80M7c8mUyUEyy5ysjfy84DLc4jLmoeItrf0Ok+vXcrIlVXDu3VJ/Tk9DVaxkRY7tN/xlrbxkxa52Leh6UihvesyhzdHnlPl6G5S7uKrslWGCDOz0l8bGR/RMGvo04BJu84u7OuKWLpF7wrY/xbab2sHtEYDRFKhYARuvZcGmE+WFf/dnV9iNzXrKEEAHWBioesaK1mbB68BztiT3eOfXXbVUV0+aZlWDaYHqUt1sbFXlT1vsHhC+3cPFzdc/pUuZHt4U3AOR6khm6dNkqrYFlfnuZsMQvJLo5eCyNz45STrwEGo73yNBuVlmpL2Mp+xdtp4Vg0Mph+21JvQO2+6VW0vfzDyavzhoGrxKgsPM/TUfZAS9yijk53ib9n2Js1eJe1u+r1GwlT8zaTCeZB2l+F8CKb26GvY3WYGZe17jXOJj2YzqJISvkHuZ8SbrIZ1J10qQEDx6IIGRK0oB19jQS+gIkehuexTtXVpuMZgT3WR+8TM6C20e1iVmL0HFUQptn6IafFGJ8I5ErzwNaFhg+k0g4IiUa6toUb5TrOBR4WBT7cmZaM31omx5mnn6m67QXaVPSlJhxKoAZTk33VMNhReRpYanVsZWvxZ5AbwlSwJjg8m7/AGQGPhpvBKkK1Unbgic84NVpYB/sSFsqmlFVjO59a/Gy77tMoLGZZRUexE0D+gRViihIDViOmaq7PKWHReujrmo0FeyNfKe2TDmLb5PoPX30g2UDEDWs8WyDpsucK0eNBBEp5EMU0RDhjj8JucU1K7giWtVSzPfrcctDmK7YBlO/F6JAoQCXwC4L7mO5md8nsE9LqnD4JD+8qqpaBDOM9vNnLRysj46XeEgOFTh/Cj3SOUX4c0985DkCoPZ30n1b0xfG1qnUkUV2KkvvYhrFvWHsXUHkdyrH1uDgTQhamJ8GgWzzsk7UrONedW7zcLDogRJojRBjA6hBFW9YFv++kdarUuXEhL98ReQeKVG1CMeTub/0xlLyIDPXUGB2fOwX2S4RdWiN1CcjYAPSzJtG4aLr8ZGXYL8aYnCn+UZTmIyuUpA6/Z/5aOjdVwha36WJ/ZAflfES7etzK1WS0o1PNoW2U/cCIQ4PUYQgByO98v+C25nNvhPbXFnqVmHCuSi6JmPfDa7+4vvj8E72kDpoykon9CSsCWoeUs4ATM3wKZsf9LU7R++Hrj5/oiTCQCUbiHtXCAraWtNsbuFxsUbnQxiPBkM92vRkNb+FqLrwK8DKFJI84BGEe/zM3BB+SB6tyupxO6yBZRb0DQE78fg2GnfDFnwOzXygLPIj+unMpg+GNcADlt78U5sC4xdeGlfh6ujtGUkAx/8wC/nHgqWmP0GFvi7vQSfs4QQhe5BWIVMPSoVd4cMG3whUoBs/hDDTDN+0fi6lQhs94jDsZRxqTz4mIGEtNCAdVnSOK60XQcjBpOcH/KUF9XToM1orq3ZLIVPKNX3BAbYneBQ20PhZdq4FRsN8phCixlX/8/fYGYPHfkh2gGVCoAdCM7lyMpB/utHYeyFJSltHLcJhZLxYLBaCFal5QlKBLnCT2A5KcC6pepRtFjkHz5HRirgdCd3FnvljW+xpc3JXtWnbme0q/oWhMTmZIrZOrBVpzTOQgnhcBGySnk1CQ9lxcykGuxYcc0tdeckz6QRFXPxRn+k+OiB6O3Lnnk6cc5EN4alzNjNIS7KyVYvsvAJJyEbn9ZZQC+VH7eds8xBJxt6hwZXsuyFHkBKiUI5DmzGErRjvhFKVU3/FnST7i9eln0SqKPwhJjPCgUVeRUKSWlfWw/IbpZ38V7pmyySJ5cnuVfDQX6RAHpjHC0ex/8JUHmYByGx54HSiHU/XXwmX7mpsxJVwv9dwZiE1foDYKi1v+6d4ENXBfaINoSvty9gqdJ+WrrP47g0BHujWWp7ciWfYLD8wQM0Mkfz5D+JTJpeeKYrWSmFSOb40hvsKLaUoQdliL4aW+G/PYsDI6r/XjDn+vNK2Lv2py2269wEvXWkxGx0TDtm0KM2PZknFVdQs5EF3f+mMuvJOb7bpgYlh0B7Wux+DelsJzWNoKVqunYMr7NkMR3GGPsOGQrdOHSSGfrHP62dwxKc03f8p9thOwvQko7sHXkEKoM2wb0HkijPZjuxgNS1x0oviSHF+kicm0Wv9MNfFUEf8R/PyIksNDasjyDPrqd19bbAj5dlhfPTfTGI5D04J/UyVkOIPAleqZMb41M9uYd0sNf8uR6ybAgfr1H7F1LqZQDcTZTLDeKhufGmOmTZv2/51lD4PLAzBFF1PcS3wo2FQnDw4SLdX/eBNsHBFqtIo8LAi5tK1Rw/gnpBAgBp7ONJcqglpvcixbmglz44QjevVdCJHd1YyCCjIpJ0AFqF0UOu6PR79jFdgI31s5n4YwYBUGbHZhKBUtPXSo2W4neUxGedOWzvazbbbdl4O3bJphnrehyykbBn5GMubTSdHKjjknASs7SFhh+Ulefg6h46TiKjTQ9dGQkY0NBv9Ws7pKOPzR8mmeufrqDDUwHFDqYTWgVoGwqdNWY43zxv6fgg+Zrlx9+trmmHRHYmk7Tsf3pl2jCWN7NghB6SsNRNgKhrM4VPcCAPIFoFeUy07rG+nN8uVYkK9RwVdpjYgL8781/OuNqLuzToHL5oC9H7rvLDWJOCNiaKKR5raTEN/ergzUMkD9RLUCI+O3gklVaj24AV+063eITEqBL2Jb3n++uB4gdZcZ0jvckvgYI2URdKNY+xABXPyRJFfnmjhsD0jI4RlDKRXJuRb8dx2brKu7nVPR0Qf7i9RciRRNa5Mu72oHu15PABT+7f1dKh8KH1WWuWD+onEZVwsN8bop6/p4fwnxudfIuhpDDs4/7ouUeobg8HeVDzfL/HIJ/3FQHyKANvJlOkM7ClWSiIivAJ10+CJYbwIetQgWW6vxRISGYzJ9JU1MzJ0QWrTZe+faSMHmvVp6OJ1DDuRcgltAYQKvpRXjymgQsu+/O7ClVStdtAIoU9UkfvU73NKI4uYrGAncQ9Wnd6nacD4JMYwR+v2wnlUD/FudMZD7Ldz1OsNCNIlxYdqyuSpZbaCAlrnxmjnUZ7PrDfRf4ACqpvMqlCnn4J7UT7GxvRPhV2qEjRw/3s+Imu/DPP0ntMg6rCYKgHNUddQxhCUw0mjWX8hKL0/QHumrSb2eNZsNQELu6z0xniOu92pStZUHUCxDcl+yzDtpq9NaiJgoAia6FXeh5XNsBgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":30183,"cache_read_input_tokens":22849,"cache_creation":{"ephemeral_5m_input_tokens":30183,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42ZtiMeRnjy6QwbzU5R","type":"assistant","uuid":"8f46b1be-1294-4a44-876f-ac1370c3956b","timestamp":"2026-02-12T10:36:56.273Z"}
{"parentUuid":"8f46b1be-1294-4a44-876f-ac1370c3956b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01TiTJEaYbvodeaHs3UcCufZ","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me find the test files and understand the test coverage."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":30183,"cache_read_input_tokens":22849,"cache_creation":{"ephemeral_5m_input_tokens":30183,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42ZtiMeRnjy6QwbzU5R","type":"assistant","uuid":"02b1277a-a00d-4900-9032-25199d33b6a8","timestamp":"2026-02-12T10:36:56.281Z"}
{"parentUuid":"02b1277a-a00d-4900-9032-25199d33b6a8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01TiTJEaYbvodeaHs3UcCufZ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014EXk73LqEYu2d4Ad48uDPe","name":"Glob","input":{"pattern":"**/unit-of-work/**/*.test.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":30183,"cache_read_input_tokens":22849,"cache_creation":{"ephemeral_5m_input_tokens":30183,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42ZtiMeRnjy6QwbzU5R","type":"assistant","uuid":"b217f60b-88b7-4d9f-852e-82d7fa631dae","timestamp":"2026-02-12T10:36:56.502Z"}
{"parentUuid":"b217f60b-88b7-4d9f-852e-82d7fa631dae","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Glob","command":"callback"},"parentToolUseID":"toolu_014EXk73LqEYu2d4Ad48uDPe","toolUseID":"toolu_014EXk73LqEYu2d4Ad48uDPe","timestamp":"2026-02-12T10:36:56.900Z","uuid":"e9af2808-d94f-4ada-949f-ed55d9ce5e5c"}
{"parentUuid":"b217f60b-88b7-4d9f-852e-82d7fa631dae","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014EXk73LqEYu2d4Ad48uDPe","type":"tool_result","content":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/retry-policy.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/tx-builder.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts"}]},"uuid":"4d35e695-a22e-47e4-9759-a29af28c83d7","timestamp":"2026-02-12T10:36:56.899Z","toolUseResult":{"filenames":["/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/retry-policy.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/tx-builder.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts"],"durationMs":393,"numFiles":6,"truncated":false},"sourceToolAssistantUUID":"b217f60b-88b7-4d9f-852e-82d7fa631dae"}
{"parentUuid":"4d35e695-a22e-47e4-9759-a29af28c83d7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01TiTJEaYbvodeaHs3UcCufZ","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01YEM4k5NAwv1RPoDUnCuTCT","name":"Glob","input":{"pattern":"packages/fragno-db/src/query/unit-of-work/*.ts"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":30183,"cache_read_input_tokens":22849,"cache_creation":{"ephemeral_5m_input_tokens":30183,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42ZtiMeRnjy6QwbzU5R","type":"assistant","uuid":"799c8106-5b41-4b05-92a0-caa6bf37614f","timestamp":"2026-02-12T10:36:57.167Z"}
{"parentUuid":"799c8106-5b41-4b05-92a0-caa6bf37614f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Glob","command":"callback"},"parentToolUseID":"toolu_01YEM4k5NAwv1RPoDUnCuTCT","toolUseID":"toolu_01YEM4k5NAwv1RPoDUnCuTCT","timestamp":"2026-02-12T10:36:57.551Z","uuid":"ad09bc81-de1a-4088-8532-d2074348405b"}
{"parentUuid":"799c8106-5b41-4b05-92a0-caa6bf37614f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01YEM4k5NAwv1RPoDUnCuTCT","type":"tool_result","content":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/retry-policy.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/retry-policy.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/tx-builder.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts\n/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.ts"}]},"uuid":"2f1dcf7a-a978-44e4-a637-3569b643a427","timestamp":"2026-02-12T10:36:57.550Z","toolUseResult":{"filenames":["/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/retry-policy.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/retry-policy.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/tx-builder.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.ts"],"durationMs":380,"numFiles":9,"truncated":false},"sourceToolAssistantUUID":"799c8106-5b41-4b05-92a0-caa6bf37614f"}
{"parentUuid":"2f1dcf7a-a978-44e4-a637-3569b643a427","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01U9EBT2kHzMP9e2LkMWcWuD","type":"message","role":"assistant","content":[{"type":"text","text":"Let me first run the existing tests to establish a baseline, then plan the refactoring."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1826,"cache_read_input_tokens":53032,"cache_creation":{"ephemeral_5m_input_tokens":1826,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42bnphmx9FfaGFpj7vu","type":"assistant","uuid":"1c5c430e-593a-41b5-bb37-1b4f718d8c73","timestamp":"2026-02-12T10:37:00.181Z"}
{"parentUuid":"1c5c430e-593a-41b5-bb37-1b4f718d8c73","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01U9EBT2kHzMP9e2LkMWcWuD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Tx8d3FYJYXMRsq3d73eejx","name":"Bash","input":{"command":"pnpm exec turbo test --filter=@fragno-dev/db --output-logs=errors-only 2>&1","description":"Run existing tests as baseline","timeout":120000}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1826,"cache_read_input_tokens":53032,"cache_creation":{"ephemeral_5m_input_tokens":1826,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42bnphmx9FfaGFpj7vu","type":"assistant","uuid":"fb06035a-f2b8-4d3f-8755-3717ef64ae7e","timestamp":"2026-02-12T10:37:01.807Z"}
{"parentUuid":"fb06035a-f2b8-4d3f-8755-3717ef64ae7e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Tx8d3FYJYXMRsq3d73eejx","type":"tool_result","content":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled\n\n Tasks:    3 successful, 3 total\nCached:    3 cached, 3 total\n  Time:    156ms >>> FULL TURBO","is_error":false}]},"uuid":"6d677232-3e90-4181-9bbe-892b8216f6f5","timestamp":"2026-02-12T10:37:02.575Z","toolUseResult":{"stdout":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled\n\n Tasks:    3 successful, 3 total\nCached:    3 cached, 3 total\n  Time:    156ms >>> FULL TURBO","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"fb06035a-f2b8-4d3f-8755-3717ef64ae7e"}
{"parentUuid":"6d677232-3e90-4181-9bbe-892b8216f6f5","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01A2E1Vaj6hzST5UQmoXpqp1","type":"message","role":"assistant","content":[{"type":"text","text":"All tests pass. Now let me create a task list and start the refactoring."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":338,"cache_read_input_tokens":54858,"cache_creation":{"ephemeral_5m_input_tokens":338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42cAKGc67TWCWWfRkSw","type":"assistant","uuid":"0b211ff0-3730-482f-b0a7-189649b2ff2f","timestamp":"2026-02-12T10:37:05.032Z"}
{"parentUuid":"0b211ff0-3730-482f-b0a7-189649b2ff2f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01A2E1Vaj6hzST5UQmoXpqp1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01LeRhjBNp649Kp38hUdXtX3","name":"TaskCreate","input":{"subject":"Introduce parameter object for createUnitOfWork and constructor","description":"Group the 5-6 arguments of createUnitOfWork and UnitOfWork.constructor into an options object to reduce argument count below the threshold of 4.","activeForm":"Introducing parameter object"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":338,"cache_read_input_tokens":54858,"cache_creation":{"ephemeral_5m_input_tokens":338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42cAKGc67TWCWWfRkSw","type":"assistant","uuid":"17230557-157b-4270-a894-d481a0de8b08","timestamp":"2026-02-12T10:37:06.918Z"}
{"parentUuid":"17230557-157b-4270-a894-d481a0de8b08","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01LeRhjBNp649Kp38hUdXtX3","type":"tool_result","content":"Task #1 created successfully: Introduce parameter object for createUnitOfWork and constructor"}]},"uuid":"ba4679de-6230-47f7-a7d2-8abaa99f3317","timestamp":"2026-02-12T10:37:06.934Z","toolUseResult":{"task":{"id":"1","subject":"Introduce parameter object for createUnitOfWork and constructor"}},"sourceToolAssistantUUID":"17230557-157b-4270-a894-d481a0de8b08"}
{"parentUuid":"ba4679de-6230-47f7-a7d2-8abaa99f3317","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01A2E1Vaj6hzST5UQmoXpqp1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01DkhQPHGAxHQquc7UfabrVb","name":"TaskCreate","input":{"subject":"Decompose conditionals in buildJoinIndexed","description":"Flatten nested conditionals in buildJoinIndexed by extracting helper functions for condition building and orderBy building. Target: reduce from 3 bumps to 0-1.","activeForm":"Decomposing buildJoinIndexed conditionals"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":338,"cache_read_input_tokens":54858,"cache_creation":{"ephemeral_5m_input_tokens":338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42cAKGc67TWCWWfRkSw","type":"assistant","uuid":"8f33ddea-8db6-47c3-822e-18c4d0b21027","timestamp":"2026-02-12T10:37:08.416Z"}
{"parentUuid":"8f33ddea-8db6-47c3-822e-18c4d0b21027","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01DkhQPHGAxHQquc7UfabrVb","type":"tool_result","content":"Task #2 created successfully: Decompose conditionals in buildJoinIndexed"}]},"uuid":"f663d4d0-9de8-4a45-aa5d-f36be152bb75","timestamp":"2026-02-12T10:37:08.419Z","toolUseResult":{"task":{"id":"2","subject":"Decompose conditionals in buildJoinIndexed"}},"sourceToolAssistantUUID":"8f33ddea-8db6-47c3-822e-18c4d0b21027"}
{"parentUuid":"f663d4d0-9de8-4a45-aa5d-f36be152bb75","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01A2E1Vaj6hzST5UQmoXpqp1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01JVeKbFA75Hra59HZ8jgYac","name":"TaskCreate","input":{"subject":"Extract functions from executeRetrieve","description":"Extract natural chunks from executeRetrieve (cc=21, 75 lines) into well-named private methods: compilation batch, dry-run handling, etc. Target: reduce cyclomatic complexity below threshold of 9.","activeForm":"Extracting executeRetrieve functions"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":338,"cache_read_input_tokens":54858,"cache_creation":{"ephemeral_5m_input_tokens":338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42cAKGc67TWCWWfRkSw","type":"assistant","uuid":"eab42ff8-f727-41c2-b55f-1883d8140045","timestamp":"2026-02-12T10:37:10.069Z"}
{"parentUuid":"eab42ff8-f727-41c2-b55f-1883d8140045","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01JVeKbFA75Hra59HZ8jgYac","type":"tool_result","content":"Task #3 created successfully: Extract functions from executeRetrieve"}]},"uuid":"5f392489-8f83-4f45-bb65-3126542e82cb","timestamp":"2026-02-12T10:37:10.071Z","toolUseResult":{"task":{"id":"3","subject":"Extract functions from executeRetrieve"}},"sourceToolAssistantUUID":"eab42ff8-f727-41c2-b55f-1883d8140045"}
{"parentUuid":"5f392489-8f83-4f45-bb65-3126542e82cb","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01A2E1Vaj6hzST5UQmoXpqp1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0198F3XS15PQMAsUUEzPwaG7","name":"TaskCreate","input":{"subject":"Extract functions from executeMutations","description":"Extract natural chunks from executeMutations (cc=20) into well-named private methods. Target: reduce cyclomatic complexity below threshold of 9.","activeForm":"Extracting executeMutations functions"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":338,"cache_read_input_tokens":54858,"cache_creation":{"ephemeral_5m_input_tokens":338,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42cAKGc67TWCWWfRkSw","type":"assistant","uuid":"ac690dcf-c856-4bb0-a0cc-a935a61b7ce9","timestamp":"2026-02-12T10:37:10.883Z"}
{"parentUuid":"ac690dcf-c856-4bb0-a0cc-a935a61b7ce9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0198F3XS15PQMAsUUEzPwaG7","type":"tool_result","content":"Task #4 created successfully: Extract functions from executeMutations"}]},"uuid":"2c38329a-ee82-4071-9785-b644a1cab4db","timestamp":"2026-02-12T10:37:10.886Z","toolUseResult":{"task":{"id":"4","subject":"Extract functions from executeMutations"}},"sourceToolAssistantUUID":"ac690dcf-c856-4bb0-a0cc-a935a61b7ce9"}
{"parentUuid":"2c38329a-ee82-4071-9785-b644a1cab4db","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01A2E1Vaj6hzST5UQmoXpqp1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0155u1RgKucEdojt5dQWrHnK","name":"TaskCreate","input":{"subject":"Run tests and type-check after refactoring","description":"Run all tests for @fragno-dev/db and type-check to verify no regressions from the refactoring.","activeForm":"Running tests and type-checks"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":338,"cache_read_input_tokens":54858,"output_tokens":633,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":338},"inference_geo":"","iterations":[]}},"requestId":"req_011CY42cAKGc67TWCWWfRkSw","type":"assistant","uuid":"acb6207f-bff2-4860-8786-5e488623fafd","timestamp":"2026-02-12T10:37:12.201Z"}
{"parentUuid":"acb6207f-bff2-4860-8786-5e488623fafd","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0155u1RgKucEdojt5dQWrHnK","type":"tool_result","content":"Task #5 created successfully: Run tests and type-check after refactoring"}]},"uuid":"7e6d772a-e21b-4da8-9095-a122d98746d4","timestamp":"2026-02-12T10:37:12.204Z","toolUseResult":{"task":{"id":"5","subject":"Run tests and type-check after refactoring"}},"sourceToolAssistantUUID":"acb6207f-bff2-4860-8786-5e488623fafd"}
{"parentUuid":"7e6d772a-e21b-4da8-9095-a122d98746d4","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Gcq3zrPJXfMAmCvoHn1o9E","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_018ro285WaGyrdR4RrVMN5MQ","name":"TaskUpdate","input":{"taskId":"5","addBlockedBy":["1","2","3","4"]}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":848,"cache_read_input_tokens":55196,"cache_creation":{"ephemeral_5m_input_tokens":848,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42csUmg3bNCyJS7B8Rz","type":"assistant","uuid":"b6b0b1df-f238-4a50-ac89-0bcfa41b1616","timestamp":"2026-02-12T10:37:15.236Z"}
{"parentUuid":"b6b0b1df-f238-4a50-ac89-0bcfa41b1616","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018ro285WaGyrdR4RrVMN5MQ","type":"tool_result","content":"Updated task #5 blockedBy"}]},"uuid":"30ee98c0-4b35-4f9c-842f-60a3b145a4e2","timestamp":"2026-02-12T10:37:15.238Z","toolUseResult":{"success":true,"taskId":"5","updatedFields":["blockedBy"]},"sourceToolAssistantUUID":"b6b0b1df-f238-4a50-ac89-0bcfa41b1616"}
{"parentUuid":"30ee98c0-4b35-4f9c-842f-60a3b145a4e2","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01L4hUXR3d6gc7tdPaoAn8r7","type":"message","role":"assistant","content":[{"type":"text","text":"Let me first check how `createUnitOfWork` and the `UnitOfWork` constructor are used across the codebase."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":104,"cache_read_input_tokens":56044,"cache_creation":{"ephemeral_5m_input_tokens":104,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42d6rSSy99nVagop4vT","type":"assistant","uuid":"da68e8e7-3a71-47ae-a491-c67cd4dab7ea","timestamp":"2026-02-12T10:37:18.044Z"}
{"parentUuid":"da68e8e7-3a71-47ae-a491-c67cd4dab7ea","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01L4hUXR3d6gc7tdPaoAn8r7","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01NR7kLnkVHirqQRTL4q8UR2","name":"TaskUpdate","input":{"taskId":"1","status":"in_progress"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":104,"cache_read_input_tokens":56044,"cache_creation":{"ephemeral_5m_input_tokens":104,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42d6rSSy99nVagop4vT","type":"assistant","uuid":"04b0d37c-d700-404e-9f71-5bc560de0679","timestamp":"2026-02-12T10:37:18.614Z"}
{"parentUuid":"04b0d37c-d700-404e-9f71-5bc560de0679","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NR7kLnkVHirqQRTL4q8UR2","type":"tool_result","content":"Updated task #1 status"}]},"uuid":"6360ec75-aa66-498d-b650-957c8cd163fc","timestamp":"2026-02-12T10:37:18.616Z","toolUseResult":{"success":true,"taskId":"1","updatedFields":["status"],"statusChange":{"from":"pending","to":"in_progress"}},"sourceToolAssistantUUID":"04b0d37c-d700-404e-9f71-5bc560de0679"}
{"parentUuid":"6360ec75-aa66-498d-b650-957c8cd163fc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01L4hUXR3d6gc7tdPaoAn8r7","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01XAGj27WPqkjG8JDE8HKSnZ","name":"Grep","input":{"pattern":"createUnitOfWork\\(","path":"/home/jan/rejot/fragno","type":"ts","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":104,"cache_read_input_tokens":56044,"cache_creation":{"ephemeral_5m_input_tokens":104,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42d6rSSy99nVagop4vT","type":"assistant","uuid":"39ffe106-ae4f-4327-9301-35ff25673a49","timestamp":"2026-02-12T10:37:19.596Z"}
{"parentUuid":"39ffe106-ae4f-4327-9301-35ff25673a49","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01XAGj27WPqkjG8JDE8HKSnZ","toolUseID":"toolu_01XAGj27WPqkjG8JDE8HKSnZ","timestamp":"2026-02-12T10:37:19.718Z","uuid":"17e5483a-4de6-41a1-8bb8-583e3a424685"}
{"parentUuid":"39ffe106-ae4f-4327-9301-35ff25673a49","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01XAGj27WPqkjG8JDE8HKSnZ","type":"tool_result","content":"<persisted-output>\nOutput too large (54.4KB). Full output saved to: /home/jan/.REDACTED.txt\n\nPreview (first 2KB):\npackages/fragno-db/src/db-fragment-definition-builder.test.ts:718:          uow: mockAdapter.createQueryEngine(testSchema, \"test\").createUnitOfWork(),\npackages/fragno-db/src/db-fragment-definition-builder.test.ts:889:          uow: mockAdapter.createQueryEngine(testSchema, \"test\").createUnitOfWork(),\npackages/fragno-db/src/db-fragment-instantiator.test.ts:209:          createUow: () => deps.createUnitOfWork(),\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:307:    createUnitOfWork(name, nestedUowConfig) {\npackages/fragno-test/src/model-checker-adapter.ts:153:        return engine.createUnitOfWork(name, config);\npackages/fragno-test/src/model-checker-adapter.ts:175:      return engine.createUnitOfWork(name, configWithInstrumentation);\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:170:    const createUow = queryEngine.createUnitOfWork(\"create-prisma-storage-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:212:      const createUow = queryEngine.createUnitOfWork(\"create-fragno-storage-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:239:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:263:      .createUnitOfWork(\"get-created-users\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:276:      .createUnitOfWork(\"update-user-age\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:289:      .createUnitOfWork(\"get-updated-user\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:301:    const uow2 = queryEngine.createUnitOfWork(\"update-user-stale\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:308:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:323:    const createUow = queryEngine.createUnitOfWork(\"create-count-users\");\n...\n</persisted-output>"}]},"uuid":"1a20aadf-5ead-47c1-b4df-e62e9df16d86","timestamp":"2026-02-12T10:37:19.717Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"packages/fragno-db/src/db-fragment-definition-builder.test.ts:718:          uow: mockAdapter.createQueryEngine(testSchema, \"test\").createUnitOfWork(),\npackages/fragno-db/src/db-fragment-definition-builder.test.ts:889:          uow: mockAdapter.createQueryEngine(testSchema, \"test\").createUnitOfWork(),\npackages/fragno-db/src/db-fragment-instantiator.test.ts:209:          createUow: () => deps.createUnitOfWork(),\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:307:    createUnitOfWork(name, nestedUowConfig) {\npackages/fragno-test/src/model-checker-adapter.ts:153:        return engine.createUnitOfWork(name, config);\npackages/fragno-test/src/model-checker-adapter.ts:175:      return engine.createUnitOfWork(name, configWithInstrumentation);\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:170:    const createUow = queryEngine.createUnitOfWork(\"create-prisma-storage-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:212:      const createUow = queryEngine.createUnitOfWork(\"create-fragno-storage-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:239:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:263:      .createUnitOfWork(\"get-created-users\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:276:      .createUnitOfWork(\"update-user-age\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:289:      .createUnitOfWork(\"get-updated-user\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:301:    const uow2 = queryEngine.createUnitOfWork(\"update-user-stale\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:308:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:323:    const createUow = queryEngine.createUnitOfWork(\"create-count-users\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:330:      .createUnitOfWork(\"count-all\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:342:    const createUow = queryEngine.createUnitOfWork(\"create-cursor-users\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:352:      .createUnitOfWork(\"first-page\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:373:      .createUnitOfWork(\"second-page\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:444:    const uow = queryEngine.createUnitOfWork(\"cursor-test\").findWithCursor(\"users\", (b) =>\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:462:    const createUsersUow = queryEngine1.createUnitOfWork(\"create-users-for-multi-schema\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:468:    const createProductsUow = queryEngine2.createUnitOfWork(\"create-products-for-multi-schema\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:474:    const uow = queryEngine1.createUnitOfWork(\"multi-schema-query\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:540:    const createUserUow = queryEngine.createUnitOfWork(\"create-join-user\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:547:      .createUnitOfWork(\"get-created-user\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:557:    const createEmailUow = queryEngine.createUnitOfWork(\"create-test-email\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:566:      .createUnitOfWork(\"test-joins\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:599:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-external-id\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:604:      .createUnitOfWork(\"get-user-for-external-id\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:610:    const createEmailUow = queryEngine.createUnitOfWork(\"create-email-with-external-id\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:621:      .createUnitOfWork(\"get-email-by-external-id\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:649:    const uow = queryEngine.createUnitOfWork(\"create-user-and-post\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:668:      .createUnitOfWork(\"verify-user\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:673:      .createUnitOfWork(\"verify-post\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:687:    const createAuthorUow = queryEngine.createUnitOfWork(\"create-author\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:692:      .createUnitOfWork(\"get-author\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:698:    const createPostUow = queryEngine.createUnitOfWork(\"create-post\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:707:      .createUnitOfWork(\"get-post\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:711:    const createCommenterUow = queryEngine.createUnitOfWork(\"create-commenter\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:716:      .createUnitOfWork(\"get-commenter\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:722:    const createCommentUow = queryEngine.createUnitOfWork(\"create-comment\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:730:    const uow = queryEngine.createUnitOfWork(\"test-complex-joins\").find(\"comments\", (b) =>\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:782:    const uow1 = queryEngine.createUnitOfWork(\"create-multiple-users\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:843:    const uow2 = queryEngine.createUnitOfWork(\"mixed-operations\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:858:    const uow3 = queryEngine.createUnitOfWork(\"create-with-custom-id\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:885:    const createUow = queryEngine.createUnitOfWork(\"create-event-for-timestamp\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:895:      .createUnitOfWork(\"get-event-for-timestamp\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:920:    const createUow = queryEngine.createUnitOfWork(\"create-iso-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:940:    const createUow = queryEngine.createUnitOfWork(\"create-user-for-execute-uow\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:945:      .createUnitOfWork(\"get-user-for-execute-uow\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:964:        currentUow = queryEngine.createUnitOfWork(\"execute-uow-update\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1006:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-version-conflict\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1014:      .createUnitOfWork(\"get-user-for-version-conflict\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1020:    const updateUow = queryEngine.createUnitOfWork(\"update-user-version\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1024:    const uow = queryEngine.createUnitOfWork(\"check-stale-version\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1036:      .createUnitOfWork(\"get-posts-for-version-conflict\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1051:    const createUow = queryEngine.createUnitOfWork(\"create-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1061:      .createUnitOfWork(\"get-event\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1083:    const createUow = queryEngine.createUnitOfWork(\"create-utc-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1097:      .createUnitOfWork(\"get-utc-event\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1114:      const createUow = queryEngine.createUnitOfWork(\"create-safe-bigint-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1124:        .createUnitOfWork(\"get-safe-bigint-event\")\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1142:      const createUow = queryEngine.createUnitOfWork(\"create-unsafe-event\");\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:1153:          .createUnitOfWork(\"get-unsafe-event\")\npackages/fragno-test/src/adapter-conformance.test.ts:96:        const createUow = db.createUnitOfWork(\"create-user\");\npackages/fragno-test/src/adapter-conformance.test.ts:104:        const updateUow = db.createUnitOfWork(\"update-user\");\npackages/fragno-test/src/adapter-conformance.test.ts:110:          .createUnitOfWork(\"verify-update\")\npackages/fragno-test/src/adapter-conformance.test.ts:119:        const staleUow = db.createUnitOfWork(\"stale-update\");\npackages/fragno-test/src/adapter-conformance.test.ts:276:      const uow = db.createUnitOfWork(\"instrumented\");\npackages/fragno-test/src/adapter-conformance.test.ts:309:      const uow = db.createUnitOfWork(\"conflict-injected\");\npackages/fragno-test/src/model-checker-actors.test.ts:41:            const uow = queryEngine.createUnitOfWork(\"tx-a\");\npackages/fragno-test/src/model-checker-actors.test.ts:54:            const uow = queryEngine.createUnitOfWork(\"tx-b\");\npackages/fragno-test/src/model-checker.test.ts:49:          let uow = ctx.createUnitOfWork(`${label}-retrieve`);\npackages/fragno-test/src/model-checker.test.ts:156:          return queryEngine.createUnitOfWork(name, config);\npackages/fragno-test/src/model-checker.ts:134:      uow = ctx.createUnitOfWork(builder.name, builder.config);\npackages/fragno-test/src/model-checker.ts:449:    const uow = createUnitOfWork(name, config);\nexample-fragments/fragno-db-library/src/upvote.ts:25:          .createUnitOfWork()\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:132:    const createUow = queryEngine.createUnitOfWork(\"create-user\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:150:      .createUnitOfWork(\"get-created-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:162:      .createUnitOfWork(\"update-user-age\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:181:      .createUnitOfWork(\"get-updated-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:195:    const uow2 = queryEngine.createUnitOfWork(\"update-user-stale\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:207:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:223:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:231:      .createUnitOfWork(\"count-all\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:242:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:253:      .createUnitOfWork(\"first-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:271:      .createUnitOfWork(\"second-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:291:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:298:      .createUnitOfWork(\"get-existing-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:303:    const createEmailUow = queryEngine.createUnitOfWork(\"create-test-email\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:313:      .createUnitOfWork(\"test-joins\", { onQuery: (query) => queries.push(query) })\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:352:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-external-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:358:      .createUnitOfWork(\"get-user-for-external-id\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:365:    const createEmailUow = queryEngine.createUnitOfWork(\"create-email-with-external-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:377:      .createUnitOfWork(\"get-email-by-external-id\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:405:    const createAuthorUow = queryEngine.createUnitOfWork(\"create-author\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:411:      .createUnitOfWork(\"get-author\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:416:    const createPostUow = queryEngine.createUnitOfWork(\"create-post\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:425:    const [[post]] = await queryEngine.createUnitOfWork(\"get-post\").find(\"posts\").executeRetrieve();\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:428:    const createCommenterUow = queryEngine.createUnitOfWork(\"create-commenter\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:434:      .createUnitOfWork(\"get-commenter\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:439:    const createCommentUow = queryEngine.createUnitOfWork(\"create-comment\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:449:      .createUnitOfWork(\"test-complex-joins\", { onQuery: (query) => queries.push(query) })\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:513:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-timestamp\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:518:      .createUnitOfWork(\"get-user-for-timestamp\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:523:    const createPostUow = queryEngine.createUnitOfWork(\"create-post-with-timestamp\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:538:      .createUnitOfWork(\"get-post-with-timestamp\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:570:    const uow = queryEngine.createUnitOfWork(\"create-user-and-post\", {\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:597:      .createUnitOfWork(\"verify-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:605:      .createUnitOfWork(\"verify-post\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:697:      .createUnitOfWork(\"cursor-test\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:718:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-version-conflict\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:727:      .createUnitOfWork(\"get-user-for-version-conflict\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:734:    const updateUow = queryEngine.createUnitOfWork(\"update-user-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:739:    const uow = queryEngine.createUnitOfWork(\"check-stale-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts:753:      .createUnitOfWork(\"get-posts-for-version-conflict\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlocal.test.ts:81:      .createUnitOfWork(\"balance-transfer\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlocal.test.ts:160:      .createUnitOfWork(\"update-account-balance\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlocal.test.ts:192:    const uow2 = queryEngine.createUnitOfWork(\"update-account-stale\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlocal.test.ts:204:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:236:      .createUnitOfWork(\"update-user-age\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:268:    const uow2 = queryEngine.createUnitOfWork(\"update-user-stale\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:280:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:292:      .createUnitOfWork(\"get-all-emails\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:304:      .createUnitOfWork(\"count-users\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:315:      .createUnitOfWork(\"count-young-users\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:340:      .createUnitOfWork(\"page-1\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:358:      .createUnitOfWork(\"page-2\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:433:      .createUnitOfWork(\"get-post-tags\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:506:      .createUnitOfWork(\"get-post-tags-with-authors\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:568:    const uow = queryEngine.createUnitOfWork(\"test-complex-joins\").find(\"comments\", (b) =>\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:626:    const uow1 = queryEngine.createUnitOfWork(\"create-multiple-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:694:    const uow2 = queryEngine.createUnitOfWork(\"mixed-operations\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:713:    const uow3 = queryEngine.createUnitOfWork(\"create-with-custom-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:789:    const uow = queryEngine.createUnitOfWork(\"create-user-and-post\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:917:      .createUnitOfWork(\"cursor-test\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts:949:    const uow = queryEngine.createUnitOfWork(\"check-stale-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:112:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:138:      .createUnitOfWork(\"update-user-age\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:151:      .createUnitOfWork(\"get-updated-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:163:    const uow2 = queryEngine.createUnitOfWork(\"update-user-stale\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:170:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:185:    const createUow = queryEngine.createUnitOfWork(\"create-users-count\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:192:      .createUnitOfWork(\"count-all\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:204:    const createUow = queryEngine.createUnitOfWork(\"create-cursor-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:214:      .createUnitOfWork(\"first-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:235:      .createUnitOfWork(\"second-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:318:    const uow = queryEngine.createUnitOfWork(\"cursor-test\").findWithCursor(\"users\", (b) =>\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:336:    const createUow = queryEngine.createUnitOfWork(\"create-join-user\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:342:      .createUnitOfWork(\"get-created-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:352:    const createEmailUow = queryEngine.createUnitOfWork(\"create-test-email\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:361:      .createUnitOfWork(\"test-joins\", { onQuery: (query) => queries.push(query) })\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:399:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-external-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:404:      .createUnitOfWork(\"get-user-for-external-id\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:410:    const createEmailUow = queryEngine.createUnitOfWork(\"create-email-with-external-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:421:      .createUnitOfWork(\"get-email-by-external-id\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:449:    const uow = queryEngine.createUnitOfWork(\"create-user-and-post\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:468:      .createUnitOfWork(\"verify-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:473:      .createUnitOfWork(\"verify-post\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:488:    const createAuthorUow = queryEngine.createUnitOfWork(\"create-author\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:493:      .createUnitOfWork(\"get-author\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:499:    const createPostUow = queryEngine.createUnitOfWork(\"create-post\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:508:      .createUnitOfWork(\"get-post\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:512:    const createCommenterUow = queryEngine.createUnitOfWork(\"create-commenter\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:517:      .createUnitOfWork(\"get-commenter\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:523:    const createCommentUow = queryEngine.createUnitOfWork(\"create-comment\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:532:      .createUnitOfWork(\"test-complex-joins\", { onQuery: (query) => queries.push(query) })\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:590:    const uow1 = queryEngine.createUnitOfWork(\"create-multiple-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:651:    const uow2 = queryEngine.createUnitOfWork(\"mixed-operations\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:666:    const uow3 = queryEngine.createUnitOfWork(\"create-with-custom-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:693:    const createUow = queryEngine.createUnitOfWork(\"create-event-for-timestamp\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:703:      .createUnitOfWork(\"get-event-for-timestamp\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:727:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-version-conflict\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:735:      .createUnitOfWork(\"get-user-for-version-conflict\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:743:    const updateUow = queryEngine.createUnitOfWork(\"update-user-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:747:    const uow = queryEngine.createUnitOfWork(\"check-stale-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:759:      .createUnitOfWork(\"get-posts-for-version-conflict\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:776:    const createUow = queryEngine.createUnitOfWork(\"create-event\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts:786:      .createUnitOfWork(\"get-event\")\napps/docs/app/components/database-integration.tsx:102:          code={`const uow = orm.createUnitOfWork();\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:54:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:73:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:90:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:110:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:130:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:150:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:174:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:185:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:200:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:213:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:223:    const uow2 = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:242:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:278:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:312:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:351:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:400:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:439:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:474:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:533:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:736:      const baseUow = createUnitOfWork(\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:779:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:796:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:815:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:831:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:850:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:865:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:883:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:897:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:922:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:948:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:972:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:995:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1010:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1056:    const parentUow = createUnitOfWork(\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1112:    const parentUow = createUnitOfWork(\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1163:    const parentUow = createUnitOfWork(\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1218:    const parentUow = createUnitOfWork(\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1406:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1420:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1434:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1464:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1491:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1521:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1551:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1578:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1604:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1634:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1657:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1704:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1730:    const uow = createUnitOfWork(createMockCompiler(), emptyExecutor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1743:    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1764:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1787:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1813:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1845:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1873:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1895:    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:140:      const baseUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:175:      const baseUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:202:      const baseUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:229:      const baseUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:259:      const baseUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:292:      const baseUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:327:      const baseUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:381:        createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:402:        createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:427:          createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:463:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:500:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:550:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:608:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:651:        createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:717:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:792:        createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:822:          createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:844:          createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:871:          return createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:904:          createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:951:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:989:        createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1028:        createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1046:        createUnitOfWork: () => createUnitOfWork(compiler, executor, decoder),\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1081:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1122:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1167:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1240:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1326:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1402:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1484:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1549:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1618:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1671:            currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1713:            currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1805:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.test.ts:1871:          currentUow = createUnitOfWork(compiler, executor, decoder);\npackages/fragno-db/src/query/unit-of-work/execute-unit-of-work.ts:740:      const baseUow = options.createUnitOfWork();\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts:1001:export function createUnitOfWork(\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts:1233: * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\npackages/stripe/src/definition.ts:100:        .createUnitOfWork()\npackages/stripe/src/definition.ts:130:        .createUnitOfWork()\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:69:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:121:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:206:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:328:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:441:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:564:    const parentUow = createUnitOfWork(createCompiler(), customExecutor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:655:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:727:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:757:    const parentUow1 = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:758:    const parentUow2 = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:791:    const parentUow = createUnitOfWork(createCompiler(), failingExecutor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:840:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:875:    const parentUow = createUnitOfWork(createCompiler(), executor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:944:    const parentUow = createUnitOfWork(createCompiler(), customExecutor, createMockDecoder());\npackages/fragno-db/src/query/unit-of-work/unit-of-work-coordinator.test.ts:1024:    const parentUow = createUnitOfWork(createCompiler(), customExecutor, createMockDecoder());\npackages/fragno/src/api/fragment-definition-builder.ts:822:   *   uow: options.databaseAdapter.db.createUnitOfWork()\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:138:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:163:      .createUnitOfWork(\"get-all-users\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:194:      .createUnitOfWork(\"update-user-age\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:214:      .createUnitOfWork(\"get-updated-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:228:    const uow2 = queryEngine.createUnitOfWork(\"update-user-stale\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:240:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:255:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:263:      .createUnitOfWork(\"count-all\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:275:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:286:      .createUnitOfWork(\"first-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:305:      .createUnitOfWork(\"second-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:325:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:333:      .createUnitOfWork(\"get-created-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:343:    const createEmailUow = queryEngine.createUnitOfWork(\"create-test-email\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:353:      .createUnitOfWork(\"test-joins\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:387:    const createAuthorUow = queryEngine.createUnitOfWork(\"create-author\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:393:      .createUnitOfWork(\"get-author\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:398:    const createPostUow = queryEngine.createUnitOfWork(\"create-post\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:408:      .createUnitOfWork(\"get-post\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:413:    const createCommenterUow = queryEngine.createUnitOfWork(\"create-commenter\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:419:      .createUnitOfWork(\"get-commenter\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:424:    const createCommentUow = queryEngine.createUnitOfWork(\"create-comment\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:433:    const uow = queryEngine.createUnitOfWork(\"test-complex-joins\").find(\"comments\", (b) =>\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:491:    const uow1 = queryEngine.createUnitOfWork(\"create-multiple-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:558:    const uow2 = queryEngine.createUnitOfWork(\"mixed-operations\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:577:    const uow3 = queryEngine.createUnitOfWork(\"create-with-custom-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:608:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-timestamp\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:613:      .createUnitOfWork(\"get-user-for-timestamp\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:618:    const createPostUow = queryEngine.createUnitOfWork(\"create-post-for-timestamp\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:628:      .createUnitOfWork(\"get-post-for-timestamp\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:666:    const createUsersUow = queryEngine1.createUnitOfWork(\"create-users-for-multi-schema\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:673:    const createProductsUow = queryEngine2.createUnitOfWork(\"create-products-for-multi-schema\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:680:    const uow = queryEngine1.createUnitOfWork(\"multi-schema-query\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:803:    const createUow = queryEngine.createUnitOfWork(\"create-user-for-execute-uow\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:809:      .createUnitOfWork(\"get-user-for-execute-uow\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:828:        currentUow = queryEngine.createUnitOfWork(\"execute-uow-update\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:874:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-version-conflict\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:883:      .createUnitOfWork(\"get-user-for-version-conflict\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:890:    const updateUow = queryEngine.createUnitOfWork(\"update-user-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:895:    const uow = queryEngine.createUnitOfWork(\"check-stale-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:908:      .createUnitOfWork(\"get-posts-for-version-conflict\")\npackages/fragno-db/src/outbox/outbox.test.ts:224:    const uow1 = db.createUnitOfWork(\"uow-1\");\npackages/fragno-db/src/outbox/outbox.test.ts:225:    const uow2 = db.createUnitOfWork(\"uow-2\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:136:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:161:      .createUnitOfWork(\"get-all-users\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:192:      .createUnitOfWork(\"update-user-age\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:212:      .createUnitOfWork(\"get-updated-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:226:    const uow2 = queryEngine.createUnitOfWork(\"update-user-stale\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:238:      .createUnitOfWork(\"verify-unchanged\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:253:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:261:      .createUnitOfWork(\"count-all\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:273:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:284:      .createUnitOfWork(\"first-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:303:      .createUnitOfWork(\"second-page\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:323:    const createUow = queryEngine.createUnitOfWork(\"create-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:331:      .createUnitOfWork(\"get-created-user\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:341:    const createEmailUow = queryEngine.createUnitOfWork(\"create-test-email\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:351:      .createUnitOfWork(\"test-joins\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:385:    const createAuthorUow = queryEngine.createUnitOfWork(\"create-author\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:391:      .createUnitOfWork(\"get-author\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:396:    const createPostUow = queryEngine.createUnitOfWork(\"create-post\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:406:      .createUnitOfWork(\"get-post\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:411:    const createCommenterUow = queryEngine.createUnitOfWork(\"create-commenter\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:417:      .createUnitOfWork(\"get-commenter\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:422:    const createCommentUow = queryEngine.createUnitOfWork(\"create-comment\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:431:    const uow = queryEngine.createUnitOfWork(\"test-complex-joins\").find(\"comments\", (b) =>\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:489:    const uow1 = queryEngine.createUnitOfWork(\"create-multiple-users\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:556:    const uow2 = queryEngine.createUnitOfWork(\"mixed-operations\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:575:    const uow3 = queryEngine.createUnitOfWork(\"create-with-custom-id\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:606:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-timestamp\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:611:      .createUnitOfWork(\"get-user-for-timestamp\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:616:    const createPostUow = queryEngine.createUnitOfWork(\"create-post-for-timestamp\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:626:      .createUnitOfWork(\"get-post-for-timestamp\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:664:    const createUsersUow = queryEngine1.createUnitOfWork(\"create-users-for-multi-schema\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:671:    const createProductsUow = queryEngine2.createUnitOfWork(\"create-products-for-multi-schema\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:678:    const uow = queryEngine1.createUnitOfWork(\"multi-schema-query\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:801:    const createUow = queryEngine.createUnitOfWork(\"create-user-for-execute-uow\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:807:      .createUnitOfWork(\"get-user-for-execute-uow\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:826:        currentUow = queryEngine.createUnitOfWork(\"execute-uow-update\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:872:    const createUserUow = queryEngine.createUnitOfWork(\"create-user-for-version-conflict\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:881:      .createUnitOfWork(\"get-user-for-version-conflict\")\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:888:    const updateUow = queryEngine.createUnitOfWork(\"update-user-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:893:    const uow = queryEngine.createUnitOfWork(\"check-stale-version\");\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts:906:      .createUnitOfWork(\"get-posts-for-version-conflict\")\npackages/fragno-db/src/db-fragment-definition-builder.ts:341:      const createUow = () => dbContext.db.createUnitOfWork();\npackages/fragno-db/src/db-fragment-definition-builder.ts:700:        createUnitOfWork: () => db.createUnitOfWork(),\npackages/fragno-db/src/db-fragment-definition-builder.ts:724:        const uow: IUnitOfWork = dbContextForStorage.db.createUnitOfWork();\npackages/fragno-db/src/db-fragment-definition-builder.ts:774:              const uow = dbContextForHooks.db.createUnitOfWork();\npackages/forms/src/definition.ts:75:          .createUnitOfWork()\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts:278:      createUnitOfWork(name, config) {","numLines":387},"sourceToolAssistantUUID":"39ffe106-ae4f-4327-9301-35ff25673a49"}
{"parentUuid":"1a20aadf-5ead-47c1-b4df-e62e9df16d86","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01UA1yArKqNaaRxdit25BXzp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Jrg99E2C4V85JqWmqaAvuk","name":"Grep","input":{"pattern":"new UnitOfWork\\(","path":"/home/jan/rejot/fragno","type":"ts","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1067,"cache_read_input_tokens":56148,"cache_creation":{"ephemeral_5m_input_tokens":1067,"ephemeral_1h_input_tokens":0},"output_tokens":19,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42dRc45zw4kzCC1ypUu","type":"assistant","uuid":"14caff62-10ac-4a6a-92c8-3a9140b51b74","timestamp":"2026-02-12T10:37:22.594Z"}
{"parentUuid":"14caff62-10ac-4a6a-92c8-3a9140b51b74","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01Jrg99E2C4V85JqWmqaAvuk","toolUseID":"toolu_01Jrg99E2C4V85JqWmqaAvuk","timestamp":"2026-02-12T10:37:22.715Z","uuid":"cc245abc-8eba-4bbe-a92c-f7d85e17362a"}
{"parentUuid":"14caff62-10ac-4a6a-92c8-3a9140b51b74","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Jrg99E2C4V85JqWmqaAvuk","type":"tool_result","content":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:140:    return new UnitOfWork(\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:40:  return () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchema);\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:50:  return () => new UnitOfWork(compiler, executor, decoder).forSchema(fkSchema);\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:64:    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchemaToUse),\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts:130:      new UnitOfWork(\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts:43:    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(joinSchema),\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1282:    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1351:    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1378:    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts:100:    return new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(testSchema);\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts:1008:  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts:1400:    const child = new UnitOfWork("}]},"uuid":"f99a1534-bedd-4cc8-872c-e1796dcdd6b4","timestamp":"2026-02-12T10:37:22.714Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:140:    return new UnitOfWork(\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:40:  return () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchema);\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:50:  return () => new UnitOfWork(compiler, executor, decoder).forSchema(fkSchema);\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:64:    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchemaToUse),\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts:130:      new UnitOfWork(\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts:43:    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(joinSchema),\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1282:    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1351:    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts:1378:    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts:100:    return new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(testSchema);\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts:1008:  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts:1400:    const child = new UnitOfWork(","numLines":12},"sourceToolAssistantUUID":"14caff62-10ac-4a6a-92c8-3a9140b51b74"}
{"parentUuid":"f99a1534-bedd-4cc8-872c-e1796dcdd6b4","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Qqr8rfUjTxdXa8ZMLPfS6n","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01RYQVgytqtTjraxLh1S75BG","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts","offset":130,"limit":25}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":758,"cache_read_input_tokens":57215,"cache_creation":{"ephemeral_5m_input_tokens":758,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42deQVoAHeT15EPo7VT","type":"assistant","uuid":"de0ca1c3-0376-4391-808b-7511d12d89e8","timestamp":"2026-02-12T10:37:25.663Z"}
{"parentUuid":"de0ca1c3-0376-4391-808b-7511d12d89e8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01RYQVgytqtTjraxLh1S75BG","toolUseID":"toolu_01RYQVgytqtTjraxLh1S75BG","timestamp":"2026-02-12T10:37:25.666Z","uuid":"87e4a51a-3982-4fc2-b652-5130303f72bc"}
{"parentUuid":"de0ca1c3-0376-4391-808b-7511d12d89e8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RYQVgytqtTjraxLh1S75BG","type":"tool_result","content":"   130→ */\n   131→export function fromUnitOfWorkCompiler<T extends AnySchema>(\n   132→  schema: T,\n   133→  factory: UnitOfWorkFactory,\n   134→): SimpleQueryInterface<T, UnitOfWorkConfig> {\n   135→  const { compiler, executor, decoder, uowConfig, schemaNamespaceMap } = factory;\n   136→\n   137→  function createUOW(opts: { name?: string; config?: UnitOfWorkConfig }) {\n   138→    const { onQuery, ...restUowConfig } = opts.config ?? {};\n   139→\n   140→    return new UnitOfWork(\n   141→      compiler,\n   142→      executor,\n   143→      decoder,\n   144→      opts.name,\n   145→      {\n   146→        ...restUowConfig,\n   147→        onQuery: onQuery\n   148→          ? (query) => {\n   149→              // Extract the actual query from CompiledMutation if needed\n   150→              const actualQuery = isCompiledMutation(query)\n   151→                ? query.query\n   152→                : (query as CompiledQuery);\n   153→              onQuery(actualQuery);\n   154→            }"}]},"uuid":"5b5e30f1-b90f-4dbb-8fb1-234aec7da80d","timestamp":"2026-02-12T10:37:25.666Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts","content":" */\nexport function fromUnitOfWorkCompiler<T extends AnySchema>(\n  schema: T,\n  factory: UnitOfWorkFactory,\n): SimpleQueryInterface<T, UnitOfWorkConfig> {\n  const { compiler, executor, decoder, uowConfig, schemaNamespaceMap } = factory;\n\n  function createUOW(opts: { name?: string; config?: UnitOfWorkConfig }) {\n    const { onQuery, ...restUowConfig } = opts.config ?? {};\n\n    return new UnitOfWork(\n      compiler,\n      executor,\n      decoder,\n      opts.name,\n      {\n        ...restUowConfig,\n        onQuery: onQuery\n          ? (query) => {\n              // Extract the actual query from CompiledMutation if needed\n              const actualQuery = isCompiledMutation(query)\n                ? query.query\n                : (query as CompiledQuery);\n              onQuery(actualQuery);\n            }","numLines":25,"startLine":130,"totalLines":318}},"sourceToolAssistantUUID":"de0ca1c3-0376-4391-808b-7511d12d89e8"}
{"parentUuid":"5b5e30f1-b90f-4dbb-8fb1-234aec7da80d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Qqr8rfUjTxdXa8ZMLPfS6n","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014VPgcYrBEDArCaXDQct2Tz","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts","offset":125,"limit":15}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":758,"cache_read_input_tokens":57215,"cache_creation":{"ephemeral_5m_input_tokens":758,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42deQVoAHeT15EPo7VT","type":"assistant","uuid":"3dc767f2-bd98-477a-b88a-fc897157577a","timestamp":"2026-02-12T10:37:26.495Z"}
{"parentUuid":"3dc767f2-bd98-477a-b88a-fc897157577a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_014VPgcYrBEDArCaXDQct2Tz","toolUseID":"toolu_014VPgcYrBEDArCaXDQct2Tz","timestamp":"2026-02-12T10:37:26.499Z","uuid":"c5bb080d-73d2-4fc4-b0d8-acfa8fa2d72e"}
{"parentUuid":"3dc767f2-bd98-477a-b88a-fc897157577a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014VPgcYrBEDArCaXDQct2Tz","type":"tool_result","content":"   125→      this.#schemaByNamespace,\n   126→    );\n   127→    const decoder = new InMemoryUowDecoder(resolverFactory);\n   128→\n   129→    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n   130→      new UnitOfWork(\n   131→        compiler,\n   132→        executor,\n   133→        decoder,\n   134→        opts?.name,\n   135→        opts?.config,\n   136→        this.#schemaNamespaceMap,\n   137→      ).forSchema(schema);\n   138→\n   139→    const queryEngine = {"}]},"uuid":"d688665c-8648-459e-9519-142bc2467939","timestamp":"2026-02-12T10:37:26.498Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts","content":"      this.#schemaByNamespace,\n    );\n    const decoder = new InMemoryUowDecoder(resolverFactory);\n\n    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n      new UnitOfWork(\n        compiler,\n        executor,\n        decoder,\n        opts?.name,\n        opts?.config,\n        this.#schemaNamespaceMap,\n      ).forSchema(schema);\n\n    const queryEngine = {","numLines":15,"startLine":125,"totalLines":285}},"sourceToolAssistantUUID":"3dc767f2-bd98-477a-b88a-fc897157577a"}
{"parentUuid":"d688665c-8648-459e-9519-142bc2467939","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01CaLQ87P6hipPM12jFVXTP4","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"Now I understand all the call sites. Let me plan the parameter object refactoring carefully.\n\nCurrent `UnitOfWork` constructor:\n```ts\nconstructor(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, TRawInput>,\n  decoder: UOWDecoder<TRawInput>,\n  name?: string,\n  config?: UnitOfWorkConfig,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n)\n```\n\nThe first three (compiler, executor, decoder) form a natural group - they're the \"execution pipeline\". \n\nThe remaining three are optional configuration. I'm considering two approaches: either grouping the core dependencies into a separate interface while folding `name` and `schemaNamespaceMap` into the config object, or consolidating everything into a single options object that includes all parameters.\n\nLooking at how this gets called across the codebase, I need to refactor the call sites to use the new object-based API instead of positional arguments. Defining the interface...","signature":"Ev4VCkYICxgCKkA1jCCXgVC0iaG/pFgLD/7yXoYwIzjSVKoZXgysSy7JUzV9qKk2LqOdOP3JnIieqOCdqzobu/XZn+TkxvL4CYgqEgwvOWqpL9JJgg0RQMcaDLP4mjL5y89ykYbnaCIw17IDlzwn37tTDU918knngSVbfUJzg/x6CaGOCuHk8+4Q8hb7u4DuN6HyhcSiQg2rKuUUU/dNOEufU5j873kU681PQ24z8DWq1a2NspZEHgspH4hx30JJAzVUMuwwitsSK8B7T3g7Rgc7ABqIB5grhJzSL+6A6wTjJuVg2SgMppEmnKToL4kuTVeqNIEjNbMpD5xSxEuvFobTfzZTNfAe+CCAh72QWlgcTfFfyAjzO/0Fo6Cx5SwBDEviij8GKV9oPn+MfaaQEfHxXciAckLK+3iEqdctWit8DCMY1qemfyjPrLhn71j05eNG5XNdIWrfLohsQjBEW1s8sANT7Bu5rZPoCNwoPR/nqluk50GM5XY1wIWmeIKBJRLrvf8W3oXWFCxHREm4JQM+DHAcrp9K7pDkRBD1i7rb/NnvI0ExEAc/SdDGrWq7mYanKDBk3g3BiI9cAJhAGqmfTz+Vsy1y2ptSH6OlzQ7TI+zt+S4U78hFdZ0VN+//Z4xPyMofugnTMq21q/bTv8WoTjCthVwl54XrUJ/ZW5c2R6Z+C5EQkR9QKVUxNGzJhwaAzn0SbnDSQoqbtXxdZzvGEbHP+Zezdz5TiIvPIeCb0KaeO5+yT9gWBVu3mFwgfTDZxZ3UlcOJHgagR4I7SzdNvnoSzB3oZ7yOQsdoltjcG5zvXyoPkrGRtwDf289pt2N8v1MjeoP4iKJ/IBHEvWwM5pJ3hGfQ7m2ypvx65b90mBI38W6JieQlSYlZRD39C+L5+3uYT8W4lj2T6ru0ZIU+XwzicA55OVyqwzIEXt0sy+P86gBqylAzCAa1/IJs0Lx6lsWjdhcSiGLuA7uY6PrgBIUWLqvDfSudqOjgIo6vfxnCENhn24vOV+zkBQb7P4+hyDu1DqHfCOKUSgZGrHmnhNLAIEiOHIQVQKGfJoHKP4kzyxJ/8NnWM0yAQc4pSs/MPJhgJuywztDa2CRlckqOWgo+IffjtySuefrP+iTZrBkueSuFeZMsA/HTxrAr1NCQGI2BBVWUqWwPjqw8UwOR0qFm1aO6H9lPJFnAA4VT9drVXNpHXPEk09Op1q4NGh0hq1XenDnQJnJKDkExZPVyIssLbDGtwQmnFX55Kyqu34nDkXcZvj5197Aw4J4boX/6zHE7CEEG+qldfIUjfY0tcAD2cNWgZ+rbcQgy2yXsPre+9lXHyaIzP15+sWxw9xxXKdPxfkgrGHIcZK8Nw+qBDJobmoTioaoDp24YLksrdsqYSpQH31hUscUq1LWei+bGNNg/yrxSehnYx45pSn0OxrJQ3Xn12OsrtnK4VaVD2zA1WUyTA3eata32QaoEw+azX1zS3RfdsOzYkcGX38qCtemzFX1ggo7gmVLxZHz9ADON3al1tGbRR2ZCeIZDs9jzWvuMSH5GPmih04+LeTvhfVZKsh6tauQWZDWk2vKf53FQT3+ni/tQnjggZzxSinb9OLQAhxsO9B+YVsnif9VpAjFw10ZRDTdCSlBKkzx/jNwuyz3wcOAL9UuRh4RLDLIBXscGIaBIR7An03naoeGUqkwSUZmr6Hgiv0/mR8GrfmRIcGKpaSccYHAq4dMV+DpnRPtL7hYyIEY/ZStad8xF9tPEr7WStQY9e46BAQzRehXNVk/+I2bI0Qv0hkyt/B+OTFRJmex78bq1Z2gYt9HZgCb5Wfh35ykLf58jX5rsHrzyhTns5PCvOm521ZDJCgz9HfxoykDpn0EQoQWmvVfCUv/Kjy71kbWM6/YbOqZ/NcjsMqP/f6FRWs57Os++u5csfFybEXouHUNIA8ZVPxV97J9EV6vCZApNY7Ya+aTfYCE4mVmCK/KAMWyRLS0BsJDRgFz1lrnfDbN6bpEfvOox2UFxAwmHP2Sgj+Bkf9FqZRm4WQn1sJIY7oYnxn+iEkALAvX6hQ24+B/jh8xVQV/LkPFl0ilwC0R5YG34UK9UIDwo3k5VeJPbZqnaFnDokHNrpoIft/Y9Ftj2yhJWYJONvAzoF9hieGXkLq6hEJyKY3d7DIj5B9HFc/ggeR1ig0wa6uXqew8/jCTqSuAmDOaxmZyvl/5m7R0kKndajl7QjIuUCQXcztGI0cliHR8Ov8D8IzRC0AIZ0zOs6/de1/yPmxC5c15VRrQKW6ZbDBBKDumH/A5GVlU80VSYtwrOF8GeLA9KpRRLSwqefW4FooOXuc5COG+LIA4+ttImjt/8MILTIY1FtCjTLfBviG/2zIzoS0VpgX1JOF9PCUjHmly5BehRdWqyFNCxBEDX0tJOHf2bWlXzOdvJANUrg5hWLZD82Y4VehfveGu3djfRLKqf5nisXX1LTUyfnKWK9dv6j+6pXiAZryD/7A8jWMSGv4IoOcduuhooBgvXZ2ojIthh/wMNSRLnMF17mIGTXsNXezRQnY5/uUcg5kc/Gzqx3/17Rpi0NGufOuk8yrNdXduqXGwRlWdK3uQ2lKcODh1O0XnZ4N601ymLNpZA5xPxwBmku6kFv/Y7XIcK27qrpIs+xyNDSnV4z7yhPtGaYhj1Do8mgNWKZ74nQuJr3aId0l+9lu1as58Hi34rU9UEXrlN1k/llLOz/NunVmuzgloGINcsVLF4prL2PjH7NkhwGqE5kpyVEnyGip+pzaIU/Bbh/V6rTPty86P6z7R7iTUR19FIB/BH3Ov6NS5TMIjaLJiH1FEWDq0vdm9su621K1lRdcUpENfsN91KDRtvAZXQPJslodguQ0irSYmzp2C853CxbYBLkMP31tYHyrM5MAw+Vf5hP4THxitPEkvVk91N8hwVBS6jmnF47Sy0XS642Rp338myPzCro99NnNOWWHqquwew6b0G+7Y2VmXm4hpb/0rB1XcsSrX3I2Z4Ver5VWu+00aAavxWGoVjaxfwTxKh3xLf5ovpfHq4wrDfWUEoSRhrrO4bTPrThCrHnragXROeVcf1wjv+riYlTqWJsfBOmgQJF6/3FyBYDYlONPUAfWhLoZnXDj9LKvsNwbrKDyUnRMoOXzWwesSYsoDLWSAlBnszRMnpxK2GFP804Gm2VzOISciOQBsLIHaG8xJMRwsrLASmCXpwIUZIrikv/hOOsjZPHFKg6Zmoe9MQqG9PfVtyhbuh2fQi0Bdv2aPE3wnOGWUJ3rcYqxePlK8WlHtSqzKCM6cT3hIF0zUEofy8uGDUVT7OM4dZgZTxLJ0kQBt8z1kLZh/IFjL0KjYyrvwrJDh88mWYfR4gzH7WJytBt1MtU4GtTIicmadiXxkR4LM1hrS/adPb2EwJ4+WBbil5l53yuTTKNQuRsUvBv62XvALJwgfOmjdpdCnpOM+KhHLiY84cZ+9V0C0ZZCCTigBkI7fb03CFBYSCjcDQUqSbK7IjCi1gDKsgATbsEUh5ZDZEoSLy5F+xmmEXbK6iQNY83xYwbp+e9a+0EIKC9fXqNY+8UOtRol5+Mv3i2rUpxzHBhl3+jiPTF+4WAcl874Hb3xLp6K/NUyJcRDNiTZLRowBMbFB3/joi9Jxf2Sy6VcImeWi7AB+38NCbUqwHEmmfyXqGDSks8BlUg4N88YGdppom87ZpV0pvbL5eDoz18lJwWetFc/IHAQwQRIANStlnvyb+WV1C8kJtve4b5r5qGAE="}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":750,"cache_read_input_tokens":57973,"cache_creation":{"ephemeral_5m_input_tokens":750,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42dvkFjwNoAYQxdnHz5","type":"assistant","uuid":"6e749e55-baee-439f-b382-467826e7c5c7","timestamp":"2026-02-12T10:37:40.621Z"}
{"parentUuid":"6e749e55-baee-439f-b382-467826e7c5c7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01CaLQ87P6hipPM12jFVXTP4","type":"message","role":"assistant","content":[{"type":"text","text":"Good, I have a clear picture. Let me start implementing the refactoring.\n\n**Task 1: Introduce Parameter Object**"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":750,"cache_read_input_tokens":57973,"cache_creation":{"ephemeral_5m_input_tokens":750,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY42dvkFjwNoAYQxdnHz5","type":"assistant","uuid":"fb444137-d227-43b0-ac02-a01e199bbcfe","timestamp":"2026-02-12T10:37:40.864Z"}
{"parentUuid":"fb444137-d227-43b0-ac02-a01e199bbcfe","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01CaLQ87P6hipPM12jFVXTP4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013zjKq5HxD8cEGpYUsNbVT3","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","old_string":"export function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);\n}","new_string":"export interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":750,"cache_read_input_tokens":57973,"output_tokens":1327,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":750},"inference_geo":"","iterations":[]}},"requestId":"req_011CY42dvkFjwNoAYQxdnHz5","type":"assistant","uuid":"193ab586-f899-42f1-8155-c0d0e0a09e16","timestamp":"2026-02-12T10:37:44.238Z"}
{"type":"file-history-snapshot","messageId":"193ab586-f899-42f1-8155-c0d0e0a09e16","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"193ab586-f899-42f1-8155-c0d0e0a09e16","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_013zjKq5HxD8cEGpYUsNbVT3","toolUseID":"toolu_013zjKq5HxD8cEGpYUsNbVT3","timestamp":"2026-02-12T10:52:16.451Z","uuid":"9ada6e74-8827-470f-ab0a-475720940a5f"}
{"parentUuid":"193ab586-f899-42f1-8155-c0d0e0a09e16","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013zjKq5HxD8cEGpYUsNbVT3","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts has been updated successfully."}]},"uuid":"8338226c-30b5-4fed-850a-c4e47f47dce1","timestamp":"2026-02-12T10:52:16.450Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","oldString":"export function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);\n}","newString":"export interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}","originalFile":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(\n    compiler: UOWCompiler<unknown>,\n    executor: UOWExecutor<unknown, TRawInput>,\n    decoder: UOWDecoder<TRawInput>,\n    name?: string,\n    config?: UnitOfWorkConfig,\n    schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  ) {\n    this.#compiler = compiler;\n    this.#executor = executor;\n    this.#decoder = decoder;\n    this.#schemaNamespaceMap = schemaNamespaceMap ?? new WeakMap();\n    this.#name = name;\n    this.#config = config;\n    this.#idempotencyKey = config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork(\n      this.#compiler,\n      this.#executor,\n      this.#decoder,\n      this.#name,\n      { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      this.#schemaNamespaceMap,\n    );\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","structuredPatch":[{"oldStart":998,"oldLines":6,"newStart":998,"newLines":15,"lines":["   afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;"," };"," ","+export interface UnitOfWorkInit<TRawInput = unknown> {","+  compiler: UOWCompiler<unknown>;","+  executor: UOWExecutor<unknown, TRawInput>;","+  decoder: UOWDecoder<TRawInput>;","+  name?: string;","+  config?: UnitOfWorkConfig;","+  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;","+}","+"," export function createUnitOfWork(","   compiler: UOWCompiler<unknown>,","   executor: UOWExecutor<unknown, unknown>,"]},{"oldStart":1005,"oldLines":7,"newStart":1014,"newLines":7,"lines":["   schemaNamespaceMap?: WeakMap<AnySchema, string | null>,","   name?: string,"," ): UnitOfWork {","-  return new UnitOfWork(compiler, executor, decoder, name, undefined, schemaNamespaceMap);","+  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });"," }"," "," export interface UnitOfWorkConfig {"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"193ab586-f899-42f1-8155-c0d0e0a09e16"}
{"parentUuid":"8338226c-30b5-4fed-850a-c4e47f47dce1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_014sgYPYs6r3r4zHWa1Bfedz","type":"message","role":"assistant","content":[{"type":"text","text":"Now update the `UnitOfWork` constructor to accept the options object:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":49726,"cache_read_input_tokens":10384,"cache_creation":{"ephemeral_5m_input_tokens":49726,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43mXfmuqYN1i2yU8Tas","type":"assistant","uuid":"afb4db9d-31b5-4eae-bb44-088a35d85aa2","timestamp":"2026-02-12T10:52:19.431Z"}
{"parentUuid":"afb4db9d-31b5-4eae-bb44-088a35d85aa2","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_014sgYPYs6r3r4zHWa1Bfedz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_015R3LyKcktNVc43XxMCLFNN","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","old_string":"  constructor(\n    compiler: UOWCompiler<unknown>,\n    executor: UOWExecutor<unknown, TRawInput>,\n    decoder: UOWDecoder<TRawInput>,\n    name?: string,\n    config?: UnitOfWorkConfig,\n    schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  ) {\n    this.#compiler = compiler;\n    this.#executor = executor;\n    this.#decoder = decoder;\n    this.#schemaNamespaceMap = schemaNamespaceMap ?? new WeakMap();\n    this.#name = name;\n    this.#config = config;\n    this.#idempotencyKey = config?.idempotencyKey ?? crypto.randomUUID();\n  }","new_string":"  constructor(init: UnitOfWorkInit<TRawInput>) {\n    this.#compiler = init.compiler;\n    this.#executor = init.executor;\n    this.#decoder = init.decoder;\n    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();\n    this.#name = init.name;\n    this.#config = init.config;\n    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();\n  }"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":49726,"cache_read_input_tokens":10384,"output_tokens":453,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":49726},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43mXfmuqYN1i2yU8Tas","type":"assistant","uuid":"c6c11f64-48ba-4e15-afaa-b9f1e07c0375","timestamp":"2026-02-12T10:52:22.685Z"}
{"parentUuid":"c6c11f64-48ba-4e15-afaa-b9f1e07c0375","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_015R3LyKcktNVc43XxMCLFNN","toolUseID":"toolu_015R3LyKcktNVc43XxMCLFNN","timestamp":"2026-02-12T10:52:22.703Z","uuid":"b3527a08-8ce1-44e1-8bbf-50475633729c"}
{"parentUuid":"c6c11f64-48ba-4e15-afaa-b9f1e07c0375","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_015R3LyKcktNVc43XxMCLFNN","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts has been updated successfully."}]},"uuid":"6c5c8054-c230-426b-903a-740dbceed56e","timestamp":"2026-02-12T10:52:22.702Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","oldString":"  constructor(\n    compiler: UOWCompiler<unknown>,\n    executor: UOWExecutor<unknown, TRawInput>,\n    decoder: UOWDecoder<TRawInput>,\n    name?: string,\n    config?: UnitOfWorkConfig,\n    schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  ) {\n    this.#compiler = compiler;\n    this.#executor = executor;\n    this.#decoder = decoder;\n    this.#schemaNamespaceMap = schemaNamespaceMap ?? new WeakMap();\n    this.#name = name;\n    this.#config = config;\n    this.#idempotencyKey = config?.idempotencyKey ?? crypto.randomUUID();\n  }","newString":"  constructor(init: UnitOfWorkInit<TRawInput>) {\n    this.#compiler = init.compiler;\n    this.#executor = init.executor;\n    this.#decoder = init.decoder;\n    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();\n    this.#name = init.name;\n    this.#config = init.config;\n    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();\n  }","originalFile":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(\n    compiler: UOWCompiler<unknown>,\n    executor: UOWExecutor<unknown, TRawInput>,\n    decoder: UOWDecoder<TRawInput>,\n    name?: string,\n    config?: UnitOfWorkConfig,\n    schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  ) {\n    this.#compiler = compiler;\n    this.#executor = executor;\n    this.#decoder = decoder;\n    this.#schemaNamespaceMap = schemaNamespaceMap ?? new WeakMap();\n    this.#name = name;\n    this.#config = config;\n    this.#idempotencyKey = config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork(\n      this.#compiler,\n      this.#executor,\n      this.#decoder,\n      this.#name,\n      { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      this.#schemaNamespaceMap,\n    );\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","structuredPatch":[{"oldStart":1292,"oldLines":21,"newStart":1292,"newLines":14,"lines":["   // Hook triggers","   #triggeredHooks: TriggeredHook[] = [];"," ","-  constructor(","-    compiler: UOWCompiler<unknown>,","-    executor: UOWExecutor<unknown, TRawInput>,","-    decoder: UOWDecoder<TRawInput>,","-    name?: string,","-    config?: UnitOfWorkConfig,","-    schemaNamespaceMap?: WeakMap<AnySchema, string | null>,","-  ) {","-    this.#compiler = compiler;","-    this.#executor = executor;","-    this.#decoder = decoder;","-    this.#schemaNamespaceMap = schemaNamespaceMap ?? new WeakMap();","-    this.#name = name;","-    this.#config = config;","-    this.#idempotencyKey = config?.idempotencyKey ?? crypto.randomUUID();","+  constructor(init: UnitOfWorkInit<TRawInput>) {","+    this.#compiler = init.compiler;","+    this.#executor = init.executor;","+    this.#decoder = init.decoder;","+    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();","+    this.#name = init.name;","+    this.#config = init.config;","+    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();","   }"," ","   #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"c6c11f64-48ba-4e15-afaa-b9f1e07c0375"}
{"parentUuid":"6c5c8054-c230-426b-903a-740dbceed56e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_0163p3XDBTivREeLibM96CUR","type":"message","role":"assistant","content":[{"type":"text","text":"That's expected — the `restrict()` method also calls `new UnitOfWork(...)`. Let me update it:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":600,"cache_read_input_tokens":60110,"cache_creation":{"ephemeral_5m_input_tokens":600,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43mzKekAedUPx2N9iSM","type":"assistant","uuid":"1e0ee3f3-b8ac-4c01-a5c1-31c71b02cb3c","timestamp":"2026-02-12T10:52:25.369Z"}
{"parentUuid":"1e0ee3f3-b8ac-4c01-a5c1-31c71b02cb3c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_0163p3XDBTivREeLibM96CUR","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01AfvXNiTP3dXVKT6ScT6vzt","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","old_string":"    const child = new UnitOfWork(\n      this.#compiler,\n      this.#executor,\n      this.#decoder,\n      this.#name,\n      { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      this.#schemaNamespaceMap,\n    );","new_string":"    const child = new UnitOfWork({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":600,"cache_read_input_tokens":60110,"output_tokens":340,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":600},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43mzKekAedUPx2N9iSM","type":"assistant","uuid":"586f224d-9c12-4c06-9216-ed396621f862","timestamp":"2026-02-12T10:52:27.791Z"}
{"parentUuid":"586f224d-9c12-4c06-9216-ed396621f862","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01AfvXNiTP3dXVKT6ScT6vzt","toolUseID":"toolu_01AfvXNiTP3dXVKT6ScT6vzt","timestamp":"2026-02-12T10:52:27.799Z","uuid":"50f4d498-688a-49ed-9d53-6c01afe616f3"}
{"parentUuid":"586f224d-9c12-4c06-9216-ed396621f862","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01AfvXNiTP3dXVKT6ScT6vzt","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts has been updated successfully."}]},"uuid":"0e405190-f920-4c4f-a080-3d9a005c03f7","timestamp":"2026-02-12T10:52:27.798Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","oldString":"    const child = new UnitOfWork(\n      this.#compiler,\n      this.#executor,\n      this.#decoder,\n      this.#name,\n      { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      this.#schemaNamespaceMap,\n    );","newString":"    const child = new UnitOfWork({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });","originalFile":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(init: UnitOfWorkInit<TRawInput>) {\n    this.#compiler = init.compiler;\n    this.#executor = init.executor;\n    this.#decoder = init.decoder;\n    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();\n    this.#name = init.name;\n    this.#config = init.config;\n    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork(\n      this.#compiler,\n      this.#executor,\n      this.#decoder,\n      this.#name,\n      { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      this.#schemaNamespaceMap,\n    );\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","structuredPatch":[{"oldStart":1399,"oldLines":14,"newStart":1399,"newLines":14,"lines":["   restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {","     const readyFor = options?.readyFor ?? \"mutation\";"," ","-    const child = new UnitOfWork(","-      this.#compiler,","-      this.#executor,","-      this.#decoder,","-      this.#name,","-      { ...this.#config, idempotencyKey: this.#idempotencyKey },","-      this.#schemaNamespaceMap,","-    );","+    const child = new UnitOfWork({","+      compiler: this.#compiler,","+      executor: this.#executor,","+      decoder: this.#decoder,","+      name: this.#name,","+      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },","+      schemaNamespaceMap: this.#schemaNamespaceMap,","+    });","     child.#coordinator.setAsRestricted(this, this.#coordinator);"," ","     child.#retrievalOps = this.#retrievalOps;"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"586f224d-9c12-4c06-9216-ed396621f862"}
{"parentUuid":"0e405190-f920-4c4f-a080-3d9a005c03f7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01VtCxMP4WjqyfdiWYwzXaSq","type":"message","role":"assistant","content":[{"type":"text","text":"The old constructor signature still exists somewhere. Let me check — the diagnostic says \"Expected 1 arguments, but got 6\" at line 1404, which is the `restrict()` method I just edited, but line numbers may have shifted. Let me re-read that area.\n\nWait, the diagnostic at line 1404 says \"Expected 1 arguments, but got 6\" — but I just changed that to the object form. The line numbers may be stale from the previous diagnostics run. Let me also check for the type issue with TRawInput:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":865,"cache_read_input_tokens":60710,"cache_creation":{"ephemeral_5m_input_tokens":865,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43nN56r9FuHZ5QuU9Ww","type":"assistant","uuid":"4d684873-fa1b-47fb-a046-1b1155a0ee43","timestamp":"2026-02-12T10:52:32.905Z"}
{"parentUuid":"4d684873-fa1b-47fb-a046-1b1155a0ee43","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01VtCxMP4WjqyfdiWYwzXaSq","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HQfJBZZwchGzbEDYnQfEGo","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","offset":1395,"limit":45}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":865,"cache_read_input_tokens":60710,"cache_creation":{"ephemeral_5m_input_tokens":865,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43nN56r9FuHZ5QuU9Ww","type":"assistant","uuid":"6c197e23-2c01-4052-a838-e3ba67cbcdfe","timestamp":"2026-02-12T10:52:33.681Z"}
{"parentUuid":"6c197e23-2c01-4052-a838-e3ba67cbcdfe","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01HQfJBZZwchGzbEDYnQfEGo","toolUseID":"toolu_01HQfJBZZwchGzbEDYnQfEGo","timestamp":"2026-02-12T10:52:33.685Z","uuid":"1084d41b-305a-428a-9cff-39ac3a184b84"}
{"parentUuid":"6c197e23-2c01-4052-a838-e3ba67cbcdfe","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HQfJBZZwchGzbEDYnQfEGo","type":"tool_result","content":"  1395→   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n  1396→   *   - \"retrieval\": Signals ready for retrieval only\n  1397→   *   - \"none\": No automatic signaling, caller must signal manually\n  1398→   */\n  1399→  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n  1400→    const readyFor = options?.readyFor ?? \"mutation\";\n  1401→\n  1402→    const child = new UnitOfWork({\n  1403→      compiler: this.#compiler,\n  1404→      executor: this.#executor,\n  1405→      decoder: this.#decoder,\n  1406→      name: this.#name,\n  1407→      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n  1408→      schemaNamespaceMap: this.#schemaNamespaceMap,\n  1409→    });\n  1410→    child.#coordinator.setAsRestricted(this, this.#coordinator);\n  1411→\n  1412→    child.#retrievalOps = this.#retrievalOps;\n  1413→    child.#mutationOps = this.#mutationOps;\n  1414→    child.#retrievalResults = this.#retrievalResults;\n  1415→    child.#createdInternalIds = this.#createdInternalIds;\n  1416→    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n  1417→    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n  1418→    child.#retrievalError = this.#retrievalError;\n  1419→    child.#mutationError = this.#mutationError;\n  1420→    child.#triggeredHooks = this.#triggeredHooks;\n  1421→\n  1422→    this.#coordinator.addChild(child);\n  1423→\n  1424→    // Signal readiness based on options\n  1425→    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n  1426→      child.signalReadyForRetrieval();\n  1427→    }\n  1428→    if (readyFor === \"mutation\") {\n  1429→      child.signalReadyForMutation();\n  1430→    }\n  1431→\n  1432→    return child;\n  1433→  }\n  1434→\n  1435→  /**\n  1436→   * Signal that this child is ready for retrieval phase execution.\n  1437→   * Only valid for restricted (child) UOWs.\n  1438→   */\n  1439→  signalReadyForRetrieval(): void {"}]},"uuid":"a1cccfea-0191-44fc-9d39-4761bbbc6437","timestamp":"2026-02-12T10:52:33.685Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","content":"   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {","numLines":45,"startLine":1395,"totalLines":2310}},"sourceToolAssistantUUID":"6c197e23-2c01-4052-a838-e3ba67cbcdfe"}
{"parentUuid":"a1cccfea-0191-44fc-9d39-4761bbbc6437","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_016H3n3t9gzuhWh6Afe7Nmfj","type":"message","role":"assistant","content":[{"type":"text","text":"The issue is that `new UnitOfWork({ ... })` creates a `UnitOfWork<unknown>` because the `UnitOfWorkInit` defaults to `unknown`. I need to assert the type. Let me look at the `UnitOfWorkInit` interface:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":975,"cache_read_input_tokens":61575,"cache_creation":{"ephemeral_5m_input_tokens":975,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43noKtBNjzZN1bqLP2i","type":"assistant","uuid":"d1e437b1-4822-4882-a891-cf7e2852f12f","timestamp":"2026-02-12T10:52:36.873Z"}
{"parentUuid":"d1e437b1-4822-4882-a891-cf7e2852f12f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_016H3n3t9gzuhWh6Afe7Nmfj","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014rdaTWz4Eoag8PFDssbZrX","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","old_string":"    const child = new UnitOfWork({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });","new_string":"    const child = new UnitOfWork<TRawInput>({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":975,"cache_read_input_tokens":61575,"output_tokens":397,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":975},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43noKtBNjzZN1bqLP2i","type":"assistant","uuid":"64da95d5-979b-4430-8a57-5e10b21082b7","timestamp":"2026-02-12T10:52:39.555Z"}
{"parentUuid":"64da95d5-979b-4430-8a57-5e10b21082b7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_014rdaTWz4Eoag8PFDssbZrX","toolUseID":"toolu_014rdaTWz4Eoag8PFDssbZrX","timestamp":"2026-02-12T10:52:39.570Z","uuid":"4a3d290c-80a8-4d47-8777-27d3cdaafadc"}
{"parentUuid":"64da95d5-979b-4430-8a57-5e10b21082b7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014rdaTWz4Eoag8PFDssbZrX","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts has been updated successfully."}]},"uuid":"a8a3a59a-93bd-4912-92e3-15fe27e86e81","timestamp":"2026-02-12T10:52:39.569Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","oldString":"    const child = new UnitOfWork({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });","newString":"    const child = new UnitOfWork<TRawInput>({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });","originalFile":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(init: UnitOfWorkInit<TRawInput>) {\n    this.#compiler = init.compiler;\n    this.#executor = init.executor;\n    this.#decoder = init.decoder;\n    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();\n    this.#name = init.name;\n    this.#config = init.config;\n    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","structuredPatch":[{"oldStart":1399,"oldLines":7,"newStart":1399,"newLines":7,"lines":["   restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {","     const readyFor = options?.readyFor ?? \"mutation\";"," ","-    const child = new UnitOfWork({","+    const child = new UnitOfWork<TRawInput>({","       compiler: this.#compiler,","       executor: this.#executor,","       decoder: this.#decoder,"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"64da95d5-979b-4430-8a57-5e10b21082b7"}
{"parentUuid":"a8a3a59a-93bd-4912-92e3-15fe27e86e81","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01MXb2MFGkGiZwfcBAbj3Frp","type":"message","role":"assistant","content":[{"type":"text","text":"Now update the external call sites. Let me update them all:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":450,"cache_read_input_tokens":62550,"cache_creation":{"ephemeral_5m_input_tokens":450,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43oEQG4fMqB3DpQnMmi","type":"assistant","uuid":"d77a5c7e-087a-4caf-92f5-fce1245a5c5e","timestamp":"2026-02-12T10:52:41.960Z"}
{"parentUuid":"d77a5c7e-087a-4caf-92f5-fce1245a5c5e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01MXb2MFGkGiZwfcBAbj3Frp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01VeK7WaUj4iFQRX6Bvg6cCp","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts","offset":135,"limit":30}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":450,"cache_read_input_tokens":62550,"cache_creation":{"ephemeral_5m_input_tokens":450,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43oEQG4fMqB3DpQnMmi","type":"assistant","uuid":"9ed499e7-bda4-434b-bbb0-b75409fc1d79","timestamp":"2026-02-12T10:52:42.858Z"}
{"parentUuid":"9ed499e7-bda4-434b-bbb0-b75409fc1d79","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01VeK7WaUj4iFQRX6Bvg6cCp","toolUseID":"toolu_01VeK7WaUj4iFQRX6Bvg6cCp","timestamp":"2026-02-12T10:52:42.863Z","uuid":"2fbaa303-8432-4f8b-b732-d7d3746ba50f"}
{"parentUuid":"9ed499e7-bda4-434b-bbb0-b75409fc1d79","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VeK7WaUj4iFQRX6Bvg6cCp","type":"tool_result","content":"   135→  const { compiler, executor, decoder, uowConfig, schemaNamespaceMap } = factory;\n   136→\n   137→  function createUOW(opts: { name?: string; config?: UnitOfWorkConfig }) {\n   138→    const { onQuery, ...restUowConfig } = opts.config ?? {};\n   139→\n   140→    return new UnitOfWork(\n   141→      compiler,\n   142→      executor,\n   143→      decoder,\n   144→      opts.name,\n   145→      {\n   146→        ...restUowConfig,\n   147→        onQuery: onQuery\n   148→          ? (query) => {\n   149→              // Extract the actual query from CompiledMutation if needed\n   150→              const actualQuery = isCompiledMutation(query)\n   151→                ? query.query\n   152→                : (query as CompiledQuery);\n   153→              onQuery(actualQuery);\n   154→            }\n   155→          : undefined,\n   156→      },\n   157→      schemaNamespaceMap,\n   158→    ).forSchema(schema);\n   159→  }\n   160→\n   161→  return {\n   162→    async find(tableName, builderFn) {\n   163→      const uow = createUOW({ config: uowConfig });\n   164→      uow.find(tableName, builderFn);"}]},"uuid":"bb15a2ba-5101-43a5-8f0f-13926a8b568d","timestamp":"2026-02-12T10:52:42.862Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts","content":"  const { compiler, executor, decoder, uowConfig, schemaNamespaceMap } = factory;\n\n  function createUOW(opts: { name?: string; config?: UnitOfWorkConfig }) {\n    const { onQuery, ...restUowConfig } = opts.config ?? {};\n\n    return new UnitOfWork(\n      compiler,\n      executor,\n      decoder,\n      opts.name,\n      {\n        ...restUowConfig,\n        onQuery: onQuery\n          ? (query) => {\n              // Extract the actual query from CompiledMutation if needed\n              const actualQuery = isCompiledMutation(query)\n                ? query.query\n                : (query as CompiledQuery);\n              onQuery(actualQuery);\n            }\n          : undefined,\n      },\n      schemaNamespaceMap,\n    ).forSchema(schema);\n  }\n\n  return {\n    async find(tableName, builderFn) {\n      const uow = createUOW({ config: uowConfig });\n      uow.find(tableName, builderFn);","numLines":30,"startLine":135,"totalLines":318}},"sourceToolAssistantUUID":"9ed499e7-bda4-434b-bbb0-b75409fc1d79"}
{"parentUuid":"bb15a2ba-5101-43a5-8f0f-13926a8b568d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01MXb2MFGkGiZwfcBAbj3Frp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01R9cWZq1dD9HM8FUfLziaH1","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts","offset":125,"limit":20}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":450,"cache_read_input_tokens":62550,"cache_creation":{"ephemeral_5m_input_tokens":450,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43oEQG4fMqB3DpQnMmi","type":"assistant","uuid":"48c36c51-bea1-4151-bdad-d375d722c6ac","timestamp":"2026-02-12T10:52:43.740Z"}
{"parentUuid":"48c36c51-bea1-4151-bdad-d375d722c6ac","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01R9cWZq1dD9HM8FUfLziaH1","toolUseID":"toolu_01R9cWZq1dD9HM8FUfLziaH1","timestamp":"2026-02-12T10:52:43.743Z","uuid":"c181307f-3a4a-4265-8ef5-79bce451feed"}
{"parentUuid":"48c36c51-bea1-4151-bdad-d375d722c6ac","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01R9cWZq1dD9HM8FUfLziaH1","type":"tool_result","content":"   125→      this.#schemaByNamespace,\n   126→    );\n   127→    const decoder = new InMemoryUowDecoder(resolverFactory);\n   128→\n   129→    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n   130→      new UnitOfWork(\n   131→        compiler,\n   132→        executor,\n   133→        decoder,\n   134→        opts?.name,\n   135→        opts?.config,\n   136→        this.#schemaNamespaceMap,\n   137→      ).forSchema(schema);\n   138→\n   139→    const queryEngine = {\n   140→      now: async () => this.options.clock.now(),\n   141→      async find(tableName, builderFn) {\n   142→        const uow = createUow();\n   143→        uow.find(tableName, builderFn);\n   144→        const [result]: unknown[][] = await uow.executeRetrieve();"}]},"uuid":"9132b8af-4b0c-4c02-8b8b-dd97e88a7b02","timestamp":"2026-02-12T10:52:43.743Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts","content":"      this.#schemaByNamespace,\n    );\n    const decoder = new InMemoryUowDecoder(resolverFactory);\n\n    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n      new UnitOfWork(\n        compiler,\n        executor,\n        decoder,\n        opts?.name,\n        opts?.config,\n        this.#schemaNamespaceMap,\n      ).forSchema(schema);\n\n    const queryEngine = {\n      now: async () => this.options.clock.now(),\n      async find(tableName, builderFn) {\n        const uow = createUow();\n        uow.find(tableName, builderFn);\n        const [result]: unknown[][] = await uow.executeRetrieve();","numLines":20,"startLine":125,"totalLines":285}},"sourceToolAssistantUUID":"48c36c51-bea1-4151-bdad-d375d722c6ac"}
{"parentUuid":"9132b8af-4b0c-4c02-8b8b-dd97e88a7b02","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01MXb2MFGkGiZwfcBAbj3Frp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_019QZwNZkFn5wUWc7VSeX3CK","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts","offset":35,"limit":35}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":450,"cache_read_input_tokens":62550,"cache_creation":{"ephemeral_5m_input_tokens":450,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43oEQG4fMqB3DpQnMmi","type":"assistant","uuid":"0c0d6084-ad10-486a-a45b-36b7e5d1478e","timestamp":"2026-02-12T10:52:44.687Z"}
{"parentUuid":"0c0d6084-ad10-486a-a45b-36b7e5d1478e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_019QZwNZkFn5wUWc7VSeX3CK","toolUseID":"toolu_019QZwNZkFn5wUWc7VSeX3CK","timestamp":"2026-02-12T10:52:44.691Z","uuid":"b1e46530-8eab-4c6a-9ce6-4b0432d875aa"}
{"parentUuid":"0c0d6084-ad10-486a-a45b-36b7e5d1478e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_019QZwNZkFn5wUWc7VSeX3CK","type":"tool_result","content":"    35→  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\" });\n    36→  const compiler = createInMemoryUowCompiler();\n    37→  const executor = createInMemoryUowExecutor(store, options);\n    38→  const decoder = new InMemoryUowDecoder();\n    39→\n    40→  return () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchema);\n    41→};\n    42→\n    43→const createFkUowFactory = () => {\n    44→  const store = createInMemoryStore();\n    45→  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\" });\n    46→  const compiler = createInMemoryUowCompiler();\n    47→  const executor = createInMemoryUowExecutor(store, options);\n    48→  const decoder = new InMemoryUowDecoder();\n    49→\n    50→  return () => new UnitOfWork(compiler, executor, decoder).forSchema(fkSchema);\n    51→};\n    52→\n    53→const createUowFactoryWithOptions = <TSchema extends AnySchema>(\n    54→  testSchemaToUse: TSchema,\n    55→  optionsOverrides: InMemoryAdapterOptions = {},\n    56→) => {\n    57→  const store = createInMemoryStore();\n    58→  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\", ...optionsOverrides });\n    59→  const compiler = createInMemoryUowCompiler();\n    60→  const executor = createInMemoryUowExecutor(store, options);\n    61→  const decoder = new InMemoryUowDecoder();\n    62→\n    63→  return {\n    64→    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchemaToUse),\n    65→    options,\n    66→    store,\n    67→  };\n    68→};\n    69→"}]},"uuid":"7c4e1110-5869-4f9c-ad8c-054b6fd4657c","timestamp":"2026-02-12T10:52:44.690Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts","content":"  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\" });\n  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchema);\n};\n\nconst createFkUowFactory = () => {\n  const store = createInMemoryStore();\n  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\" });\n  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return () => new UnitOfWork(compiler, executor, decoder).forSchema(fkSchema);\n};\n\nconst createUowFactoryWithOptions = <TSchema extends AnySchema>(\n  testSchemaToUse: TSchema,\n  optionsOverrides: InMemoryAdapterOptions = {},\n) => {\n  const store = createInMemoryStore();\n  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\", ...optionsOverrides });\n  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return {\n    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchemaToUse),\n    options,\n    store,\n  };\n};\n","numLines":35,"startLine":35,"totalLines":297}},"sourceToolAssistantUUID":"0c0d6084-ad10-486a-a45b-36b7e5d1478e"}
{"parentUuid":"7c4e1110-5869-4f9c-ad8c-054b6fd4657c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01MXb2MFGkGiZwfcBAbj3Frp","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01MR1jqd1t5TWupMLTpQ38aM","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts","offset":38,"limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":450,"cache_read_input_tokens":62550,"cache_creation":{"ephemeral_5m_input_tokens":450,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43oEQG4fMqB3DpQnMmi","type":"assistant","uuid":"6009d4bf-5df6-4087-8252-d6173415bdf7","timestamp":"2026-02-12T10:52:45.524Z"}
{"parentUuid":"6009d4bf-5df6-4087-8252-d6173415bdf7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01MR1jqd1t5TWupMLTpQ38aM","toolUseID":"toolu_01MR1jqd1t5TWupMLTpQ38aM","timestamp":"2026-02-12T10:52:45.527Z","uuid":"7c6145f8-eec4-4dcf-a796-18fde657b5e9"}
{"parentUuid":"6009d4bf-5df6-4087-8252-d6173415bdf7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01MR1jqd1t5TWupMLTpQ38aM","type":"tool_result","content":"    38→  const compiler = createInMemoryUowCompiler();\n    39→  const executor = createInMemoryUowExecutor(store, options);\n    40→  const decoder = new InMemoryUowDecoder();\n    41→\n    42→  return {\n    43→    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(joinSchema),\n    44→    executor,\n    45→  };\n    46→};\n    47→"}]},"uuid":"a07e4412-e30b-473f-a4c4-905466fd6677","timestamp":"2026-02-12T10:52:45.527Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts","content":"  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return {\n    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(joinSchema),\n    executor,\n  };\n};\n","numLines":10,"startLine":38,"totalLines":101}},"sourceToolAssistantUUID":"6009d4bf-5df6-4087-8252-d6173415bdf7"}
{"parentUuid":"a07e4412-e30b-473f-a4c4-905466fd6677","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01LUUpBEPgpBz4zxiELpRm8K","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01VNDpLjmRNREnEHbWuiq9p8","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","offset":1275,"limit":20}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1773,"cache_read_input_tokens":63000,"cache_creation":{"ephemeral_5m_input_tokens":1773,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43og5bRp4T6GwFDjP9w","type":"assistant","uuid":"ecaf8b71-dd45-4219-bc1e-73b6e22c6cbc","timestamp":"2026-02-12T10:52:48.425Z"}
{"parentUuid":"ecaf8b71-dd45-4219-bc1e-73b6e22c6cbc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01VNDpLjmRNREnEHbWuiq9p8","toolUseID":"toolu_01VNDpLjmRNREnEHbWuiq9p8","timestamp":"2026-02-12T10:52:48.430Z","uuid":"c7fd076d-a7cd-4668-989b-0d7c2a361349"}
{"parentUuid":"ecaf8b71-dd45-4219-bc1e-73b6e22c6cbc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VNDpLjmRNREnEHbWuiq9p8","type":"tool_result","content":"  1275→    }> = [];\n  1276→\n  1277→    const executor = {\n  1278→      executeRetrievalPhase: async () => [[]],\n  1279→      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n  1280→    };\n  1281→\n  1282→    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n  1283→      instrumentation: {\n  1284→        beforeRetrieve: (ctx) => {\n  1285→          calls.push(\"beforeRetrieve\");\n  1286→          contexts.push({\n  1287→            phase: ctx.phase,\n  1288→            idempotencyKey: ctx.idempotencyKey,\n  1289→            retrievalOpsCount: ctx.retrievalOpsCount,\n  1290→            mutationOpsCount: ctx.mutationOpsCount,\n  1291→          });\n  1292→        },\n  1293→        afterRetrieve: (ctx) => {\n  1294→          calls.push(\"afterRetrieve\");"}]},"uuid":"13425c1f-de4f-4723-aada-03727e6b3f6a","timestamp":"2026-02-12T10:52:48.429Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","content":"    }> = [];\n\n    const executor = {\n      executeRetrievalPhase: async () => [[]],\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: (ctx) => {\n          calls.push(\"beforeRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterRetrieve: (ctx) => {\n          calls.push(\"afterRetrieve\");","numLines":20,"startLine":1275,"totalLines":1912}},"sourceToolAssistantUUID":"ecaf8b71-dd45-4219-bc1e-73b6e22c6cbc"}
{"parentUuid":"13425c1f-de4f-4723-aada-03727e6b3f6a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01LUUpBEPgpBz4zxiELpRm8K","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01YYCz2ikETFvtZqi9NVuydk","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","offset":1345,"limit":45}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1773,"cache_read_input_tokens":63000,"cache_creation":{"ephemeral_5m_input_tokens":1773,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43og5bRp4T6GwFDjP9w","type":"assistant","uuid":"2dcec8a9-5d8b-4a05-b715-b2758366261b","timestamp":"2026-02-12T10:52:49.262Z"}
{"parentUuid":"2dcec8a9-5d8b-4a05-b715-b2758366261b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01YYCz2ikETFvtZqi9NVuydk","toolUseID":"toolu_01YYCz2ikETFvtZqi9NVuydk","timestamp":"2026-02-12T10:52:49.265Z","uuid":"9ea3b6f2-e173-4eb3-9ad5-9e9ce8c1f92e"}
{"parentUuid":"2dcec8a9-5d8b-4a05-b715-b2758366261b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01YYCz2ikETFvtZqi9NVuydk","type":"tool_result","content":"  1345→      executeMutationPhase: async () => {\n  1346→        mutationExecuted = true;\n  1347→        return { success: true, createdInternalIds: [] };\n  1348→      },\n  1349→    };\n  1350→\n  1351→    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n  1352→      instrumentation: {\n  1353→        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n  1354→        afterMutate: () => {\n  1355→          throw new Error(\"afterMutate should not run\");\n  1356→        },\n  1357→      },\n  1358→    });\n  1359→\n  1360→    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n  1361→\n  1362→    const result = await uow.executeMutations();\n  1363→    expect(result.success).toBe(false);\n  1364→    expect(mutationExecuted).toBe(false);\n  1365→  });\n  1366→\n  1367→  it(\"should throw on error injection before retrieval\", async () => {\n  1368→    let retrievalExecuted = false;\n  1369→\n  1370→    const executor = {\n  1371→      executeRetrievalPhase: async () => {\n  1372→        retrievalExecuted = true;\n  1373→        return [];\n  1374→      },\n  1375→      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n  1376→    };\n  1377→\n  1378→    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n  1379→      instrumentation: {\n  1380→        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n  1381→      },\n  1382→    });\n  1383→\n  1384→    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n  1385→\n  1386→    await expect(uow.executeRetrieve()).rejects.toThrow(\"Injected failure\");\n  1387→    expect(retrievalExecuted).toBe(false);\n  1388→  });\n  1389→});"}]},"uuid":"e5f3bc52-cdfa-4d19-8c13-e597f7c2b0da","timestamp":"2026-02-12T10:52:49.265Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","content":"      executeMutationPhase: async () => {\n        mutationExecuted = true;\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n        afterMutate: () => {\n          throw new Error(\"afterMutate should not run\");\n        },\n      },\n    });\n\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    const result = await uow.executeMutations();\n    expect(result.success).toBe(false);\n    expect(mutationExecuted).toBe(false);\n  });\n\n  it(\"should throw on error injection before retrieval\", async () => {\n    let retrievalExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        retrievalExecuted = true;\n        return [];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });\n\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Injected failure\");\n    expect(retrievalExecuted).toBe(false);\n  });\n});","numLines":45,"startLine":1345,"totalLines":1912}},"sourceToolAssistantUUID":"2dcec8a9-5d8b-4a05-b715-b2758366261b"}
{"parentUuid":"e5f3bc52-cdfa-4d19-8c13-e597f7c2b0da","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01LUUpBEPgpBz4zxiELpRm8K","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01L7gSdMHA6awedurY3LC12d","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts","offset":95,"limit":10}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1773,"cache_read_input_tokens":63000,"cache_creation":{"ephemeral_5m_input_tokens":1773,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43og5bRp4T6GwFDjP9w","type":"assistant","uuid":"cc0866d2-b02c-47cd-8263-c96606186244","timestamp":"2026-02-12T10:52:50.145Z"}
{"parentUuid":"cc0866d2-b02c-47cd-8263-c96606186244","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01L7gSdMHA6awedurY3LC12d","toolUseID":"toolu_01L7gSdMHA6awedurY3LC12d","timestamp":"2026-02-12T10:52:50.148Z","uuid":"dc21ad20-c697-48e6-a29a-0e189263c413"}
{"parentUuid":"cc0866d2-b02c-47cd-8263-c96606186244","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01L7gSdMHA6awedurY3LC12d","type":"tool_result","content":"    95→      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    96→    };\n    97→    const mockDecoder = {\n    98→      decode: () => [],\n    99→    };\n   100→    return new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(testSchema);\n   101→  }\n   102→\n   103→  it(\"should type find without joins correctly\", async () => {\n   104→    const uow = createTestUOW();"}]},"uuid":"d3f96866-95ae-4cee-aa7b-0269cb6f63f8","timestamp":"2026-02-12T10:52:50.148Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts","content":"      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n    const mockDecoder = {\n      decode: () => [],\n    };\n    return new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(testSchema);\n  }\n\n  it(\"should type find without joins correctly\", async () => {\n    const uow = createTestUOW();","numLines":10,"startLine":95,"totalLines":208}},"sourceToolAssistantUUID":"cc0866d2-b02c-47cd-8263-c96606186244"}
{"parentUuid":"d3f96866-95ae-4cee-aa7b-0269cb6f63f8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01HBXiFjWVjzzSY9pPhdE7w4","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me update all external call sites. I'll do them in parallel:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1666,"cache_read_input_tokens":64773,"cache_creation":{"ephemeral_5m_input_tokens":1666,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43p1kmvT1XpvhFGTsEg","type":"assistant","uuid":"af86f8c9-a5ef-400e-a6ef-f54413eccaf5","timestamp":"2026-02-12T10:52:52.886Z"}
{"type":"file-history-snapshot","messageId":"03deacfa-3c8e-474f-8feb-64eefdd59a94","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"},"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts":{"backupFileName":"0706d6dee9ed791c@v1","version":1,"backupTime":"2026-02-12T10:52:55.841Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"af86f8c9-a5ef-400e-a6ef-f54413eccaf5","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01HBXiFjWVjzzSY9pPhdE7w4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017bVem8v1PG3pVGdRpgVJjE","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts","old_string":"    return new UnitOfWork(\n      compiler,\n      executor,\n      decoder,\n      opts.name,\n      {\n        ...restUowConfig,\n        onQuery: onQuery\n          ? (query) => {\n              // Extract the actual query from CompiledMutation if needed\n              const actualQuery = isCompiledMutation(query)\n                ? query.query\n                : (query as CompiledQuery);\n              onQuery(actualQuery);\n            }\n          : undefined,\n      },\n      schemaNamespaceMap,\n    ).forSchema(schema);","new_string":"    return new UnitOfWork({\n      compiler,\n      executor,\n      decoder,\n      name: opts.name,\n      config: {\n        ...restUowConfig,\n        onQuery: onQuery\n          ? (query) => {\n              // Extract the actual query from CompiledMutation if needed\n              const actualQuery = isCompiledMutation(query)\n                ? query.query\n                : (query as CompiledQuery);\n              onQuery(actualQuery);\n            }\n          : undefined,\n      },\n      schemaNamespaceMap,\n    }).forSchema(schema);"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1666,"cache_read_input_tokens":64773,"cache_creation":{"ephemeral_5m_input_tokens":1666,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43p1kmvT1XpvhFGTsEg","type":"assistant","uuid":"03deacfa-3c8e-474f-8feb-64eefdd59a94","timestamp":"2026-02-12T10:52:55.816Z"}
{"parentUuid":"03deacfa-3c8e-474f-8feb-64eefdd59a94","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_017bVem8v1PG3pVGdRpgVJjE","toolUseID":"toolu_017bVem8v1PG3pVGdRpgVJjE","timestamp":"2026-02-12T10:52:55.845Z","uuid":"601d4187-4ac3-457d-9017-ccbb1773d2f7"}
{"parentUuid":"03deacfa-3c8e-474f-8feb-64eefdd59a94","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017bVem8v1PG3pVGdRpgVJjE","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts has been updated successfully."}]},"uuid":"f0fefaf1-7a4f-45f1-82a4-b614f6598dba","timestamp":"2026-02-12T10:52:55.845Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts","oldString":"    return new UnitOfWork(\n      compiler,\n      executor,\n      decoder,\n      opts.name,\n      {\n        ...restUowConfig,\n        onQuery: onQuery\n          ? (query) => {\n              // Extract the actual query from CompiledMutation if needed\n              const actualQuery = isCompiledMutation(query)\n                ? query.query\n                : (query as CompiledQuery);\n              onQuery(actualQuery);\n            }\n          : undefined,\n      },\n      schemaNamespaceMap,\n    ).forSchema(schema);","newString":"    return new UnitOfWork({\n      compiler,\n      executor,\n      decoder,\n      name: opts.name,\n      config: {\n        ...restUowConfig,\n        onQuery: onQuery\n          ? (query) => {\n              // Extract the actual query from CompiledMutation if needed\n              const actualQuery = isCompiledMutation(query)\n                ? query.query\n                : (query as CompiledQuery);\n              onQuery(actualQuery);\n            }\n          : undefined,\n      },\n      schemaNamespaceMap,\n    }).forSchema(schema);","originalFile":"import type { SimpleQueryInterface, TableToUpdateValues } from \"../../query/simple-query-interface\";\nimport type { AnySchema, AnyTable, FragnoId } from \"../../schema/create\";\nimport type {\n  CompiledMutation,\n  UOWCompiler,\n  UOWDecoder,\n  UOWExecutor,\n  UOWInstrumentation,\n  ValidIndexName,\n} from \"../../query/unit-of-work/unit-of-work\";\nimport { UnitOfWork } from \"../../query/unit-of-work/unit-of-work\";\nimport type { CursorResult } from \"../../query/cursor\";\nimport type { CompiledQuery } from \"../../sql-driver/sql-driver\";\n\n/**\n * Configuration options for creating a Unit of Work with generic SQL\n */\nexport interface UnitOfWorkConfig {\n  /**\n   * Optional callback to receive compiled SQL queries for logging/debugging\n   * This callback is invoked for each query as it's compiled\n   */\n  onQuery?: (query: CompiledQuery) => void;\n  /**\n   * If true, the query will not be executed and the query will be returned. Not respected for UOWs\n   * since those have to be manually executed.\n   */\n  dryRun?: boolean;\n  instrumentation?: UOWInstrumentation;\n}\n\n/**\n * Factory interface for creating Unit of Work instances\n */\nexport interface UnitOfWorkFactory {\n  /**\n   * UOW compiler for compiling operations to SQL\n   */\n  compiler: UOWCompiler<CompiledQuery>;\n  /**\n   * UOW executor for running compiled queries\n   */\n  executor: UOWExecutor<CompiledQuery, unknown>;\n  /**\n   * UOW decoder for transforming raw results\n   */\n  decoder: UOWDecoder<unknown>;\n  /**\n   * Optional UOW configuration\n   */\n  uowConfig?: UnitOfWorkConfig;\n  /**\n   * Optional WeakMap for schema-to-namespace lookups\n   */\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\n/**\n * Type guard to check if a query is a CompiledMutation\n */\nfunction isCompiledMutation(query: unknown): query is CompiledMutation<CompiledQuery> {\n  return (\n    query !== null &&\n    typeof query === \"object\" &&\n    \"expectedAffectedRows\" in query &&\n    \"query\" in query\n  );\n}\n\n/**\n * Type guard to check if a record has an id field\n */\nfunction hasIdField(record: unknown): record is { id: string | FragnoId } {\n  return record !== null && typeof record === \"object\" && \"id\" in record;\n}\n\nclass UpdateManySpecialBuilder<TTable extends AnyTable> {\n  #indexName?: ValidIndexName<TTable>;\n  #condition?: unknown;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: unknown,\n  ): this {\n    this.#indexName = indexName;\n    this.#condition = condition;\n    return this;\n  }\n\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  getConfig() {\n    return {\n      indexName: this.#indexName,\n      condition: this.#condition,\n      setValues: this.#setValues,\n    };\n  }\n}\n\n/**\n * Creates a generic SQL-based query engine for the given schema using a UnitOfWorkFactory.\n *\n * This is the main entry point for creating a database query interface using a Unit of Work compiler.\n * It uses a compiler-based architecture where queries are compiled to SQL and then executed,\n * enabling features like SQL snapshot testing.\n *\n * @param schema - The database schema definition\n * @param factory - Factory containing compiler, executor, decoder, and optional configuration\n * @returns An SimpleQueryInterface instance for performing database operations\n *\n * @example\n * ```ts\n * const operationCompiler = new GenericSQLUOWOperationCompiler(driverConfig);\n * const factory: UnitOfWorkFactory = {\n *   compiler: createUOWCompilerFromOperationCompiler(operationCompiler),\n *   executor: createExecutor(sqlDriver),\n *   decoder: createKyselyUOWDecoder(driverConfig.databaseType),\n * };\n * const queryEngine = fromUnitOfWorkCompiler(mySchema, factory);\n *\n * const users = await queryEngine.find('users', (b) =>\n *   b.whereIndex('age').where((eb) => eb('age', '>', 18))\n * );\n * ```\n */\nexport function fromUnitOfWorkCompiler<T extends AnySchema>(\n  schema: T,\n  factory: UnitOfWorkFactory,\n): SimpleQueryInterface<T, UnitOfWorkConfig> {\n  const { compiler, executor, decoder, uowConfig, schemaNamespaceMap } = factory;\n\n  function createUOW(opts: { name?: string; config?: UnitOfWorkConfig }) {\n    const { onQuery, ...restUowConfig } = opts.config ?? {};\n\n    return new UnitOfWork(\n      compiler,\n      executor,\n      decoder,\n      opts.name,\n      {\n        ...restUowConfig,\n        onQuery: onQuery\n          ? (query) => {\n              // Extract the actual query from CompiledMutation if needed\n              const actualQuery = isCompiledMutation(query)\n                ? query.query\n                : (query as CompiledQuery);\n              onQuery(actualQuery);\n            }\n          : undefined,\n      },\n      schemaNamespaceMap,\n    ).forSchema(schema);\n  }\n\n  return {\n    async find(tableName, builderFn) {\n      const uow = createUOW({ config: uowConfig });\n      uow.find(tableName, builderFn);\n      const [result]: unknown[][] = await uow.executeRetrieve();\n      return result ?? [];\n    },\n\n    async findWithCursor(tableName, builderFn) {\n      const uow = createUOW({ config: uowConfig }).findWithCursor(tableName, builderFn);\n      const [result] = await uow.executeRetrieve();\n      // Result from findWithCursor is always a CursorResult - the UOW decoder handles the conversion\n      return result as CursorResult<unknown>;\n    },\n\n    async findFirst(tableName, builderFn) {\n      const uow = createUOW({ config: uowConfig });\n      if (builderFn) {\n        uow.find(tableName, (b) => {\n          builderFn(b);\n          return b.pageSize(1);\n        });\n      } else {\n        uow.find(tableName, (b) => b.whereIndex(\"primary\").pageSize(1));\n      }\n      // executeRetrieve runs an array of `find` operation results, which each return an array of rows\n      const [result]: unknown[][] = await uow.executeRetrieve();\n      return result?.[0] ?? null;\n    },\n\n    async create(tableName, values) {\n      const uow = createUOW({ config: uowConfig });\n      uow.create(tableName, values);\n      const { success } = await uow.executeMutations();\n      if (!success) {\n        throw new Error(\"Failed to create record\");\n      }\n\n      const createdIds = uow.getCreatedIds();\n      const createdId = createdIds[0];\n      if (!createdId) {\n        throw new Error(\"Failed to get created ID\");\n      }\n      return createdId;\n    },\n\n    async createMany(tableName, valuesArray) {\n      const uow = createUOW({ config: uowConfig });\n      for (const values of valuesArray) {\n        uow.create(tableName, values);\n      }\n      const { success } = await uow.executeMutations();\n      if (!success) {\n        throw new Error(\"Failed to create records\");\n      }\n\n      return uow.getCreatedIds();\n    },\n\n    async update(tableName, id, builderFn) {\n      const uow = createUOW({ config: uowConfig });\n      uow.update(tableName, id, builderFn);\n      const { success } = await uow.executeMutations();\n      if (!success) {\n        throw new Error(\"Failed to update record (version conflict or record not found)\");\n      }\n    },\n\n    async updateMany(tableName, builderFn) {\n      const table = schema.tables[tableName];\n      if (!table) {\n        throw new Error(`Table ${tableName} not found in schema`);\n      }\n\n      const specialBuilder = new UpdateManySpecialBuilder<typeof table>();\n      builderFn(specialBuilder);\n\n      const { indexName, condition, setValues } = specialBuilder.getConfig();\n\n      if (!indexName) {\n        throw new Error(\"whereIndex() must be called in updateMany\");\n      }\n      if (!setValues) {\n        throw new Error(\"set() must be called in updateMany\");\n      }\n\n      const findUow = createUOW({ config: uowConfig });\n      findUow.find(tableName, (b) => {\n        // Condition might be null or undefined, only pass if defined and not null\n        if (condition !== undefined && condition !== null) {\n          // TypeScript can't infer the complex condition type from the builder\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          return b.whereIndex(indexName, condition as any);\n        }\n        return b.whereIndex(indexName);\n      });\n      const [records]: unknown[][] = await findUow.executeRetrieve();\n\n      if (!records || records.length === 0) {\n        return;\n      }\n\n      const updateUow = createUOW({ config: uowConfig });\n      for (const record of records) {\n        if (!hasIdField(record)) {\n          throw new Error(\"Record missing id field\");\n        }\n        updateUow.update(tableName, record.id, (b) => b.set(setValues));\n      }\n      const { success } = await updateUow.executeMutations();\n      if (!success) {\n        throw new Error(\"Failed to update records (version conflict)\");\n      }\n    },\n\n    async delete(tableName, id, builderFn) {\n      const uow = createUOW({ config: uowConfig });\n      uow.delete(tableName, id, builderFn);\n      const { success } = await uow.executeMutations();\n      if (!success) {\n        throw new Error(\"Failed to delete record (version conflict or record not found)\");\n      }\n    },\n\n    async deleteMany(tableName, builderFn) {\n      const findUow = createUOW({ config: uowConfig });\n      findUow.find(tableName, builderFn);\n      const [records]: unknown[][] = await findUow.executeRetrieve();\n\n      if (!records || records.length === 0) {\n        return;\n      }\n\n      const deleteUow = createUOW({ config: uowConfig });\n      for (const record of records) {\n        if (!hasIdField(record)) {\n          throw new Error(\"Record missing id field\");\n        }\n        deleteUow.delete(tableName, record.id);\n      }\n      const { success } = await deleteUow.executeMutations();\n      if (!success) {\n        throw new Error(\"Failed to delete records (version conflict)\");\n      }\n    },\n\n    createUnitOfWork(name, nestedUowConfig) {\n      return createUOW({\n        name,\n        config: {\n          ...uowConfig,\n          ...nestedUowConfig,\n        },\n      });\n    },\n  } as SimpleQueryInterface<T, UnitOfWorkConfig>;\n}\n","structuredPatch":[{"oldStart":137,"oldLines":12,"newStart":137,"newLines":12,"lines":["   function createUOW(opts: { name?: string; config?: UnitOfWorkConfig }) {","     const { onQuery, ...restUowConfig } = opts.config ?? {};"," ","-    return new UnitOfWork(","+    return new UnitOfWork({","       compiler,","       executor,","       decoder,","-      opts.name,","-      {","+      name: opts.name,","+      config: {","         ...restUowConfig,","         onQuery: onQuery","           ? (query) => {"]},{"oldStart":155,"oldLines":7,"newStart":155,"newLines":7,"lines":["           : undefined,","       },","       schemaNamespaceMap,","-    ).forSchema(schema);","+    }).forSchema(schema);","   }"," ","   return {"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"03deacfa-3c8e-474f-8feb-64eefdd59a94"}
{"type":"file-history-snapshot","messageId":"537dc505-ea88-4982-9334-1347623a4587","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"},"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts":{"backupFileName":"0706d6dee9ed791c@v1","version":1,"backupTime":"2026-02-12T10:52:55.841Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts":{"backupFileName":"4c9e0b4023533f7a@v1","version":1,"backupTime":"2026-02-12T10:52:57.947Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"f0fefaf1-7a4f-45f1-82a4-b614f6598dba","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01HBXiFjWVjzzSY9pPhdE7w4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_019D3csyQGm4TPUNLAJDa3A5","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts","old_string":"    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n      new UnitOfWork(\n        compiler,\n        executor,\n        decoder,\n        opts?.name,\n        opts?.config,\n        this.#schemaNamespaceMap,\n      ).forSchema(schema);","new_string":"    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n      new UnitOfWork({\n        compiler,\n        executor,\n        decoder,\n        name: opts?.name,\n        config: opts?.config,\n        schemaNamespaceMap: this.#schemaNamespaceMap,\n      }).forSchema(schema);"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1666,"cache_read_input_tokens":64773,"cache_creation":{"ephemeral_5m_input_tokens":1666,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43p1kmvT1XpvhFGTsEg","type":"assistant","uuid":"537dc505-ea88-4982-9334-1347623a4587","timestamp":"2026-02-12T10:52:57.934Z"}
{"parentUuid":"537dc505-ea88-4982-9334-1347623a4587","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_019D3csyQGm4TPUNLAJDa3A5","toolUseID":"toolu_019D3csyQGm4TPUNLAJDa3A5","timestamp":"2026-02-12T10:52:57.951Z","uuid":"7052875e-cdbb-4c56-afab-6d2b63e4a61f"}
{"parentUuid":"537dc505-ea88-4982-9334-1347623a4587","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_019D3csyQGm4TPUNLAJDa3A5","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts has been updated successfully."}]},"uuid":"77dbd1b2-efd6-477a-a045-ac3de6a97a15","timestamp":"2026-02-12T10:52:57.950Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts","oldString":"    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n      new UnitOfWork(\n        compiler,\n        executor,\n        decoder,\n        opts?.name,\n        opts?.config,\n        this.#schemaNamespaceMap,\n      ).forSchema(schema);","newString":"    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n      new UnitOfWork({\n        compiler,\n        executor,\n        decoder,\n        name: opts?.name,\n        config: opts?.config,\n        schemaNamespaceMap: this.#schemaNamespaceMap,\n      }).forSchema(schema);","originalFile":"import { RequestContextStorage } from \"@fragno-dev/core/internal/request-context-storage\";\nimport {\n  fragnoDatabaseAdapterNameFakeSymbol,\n  fragnoDatabaseAdapterVersionFakeSymbol,\n  type DatabaseAdapter,\n  type DatabaseContextStorage,\n} from \"../adapters\";\nimport type { AnySchema, AnyTable, FragnoId } from \"../../schema/create\";\nimport type { SimpleQueryInterface, TableToUpdateValues } from \"../../query/simple-query-interface\";\nimport {\n  resolveInMemoryAdapterOptions,\n  type InMemoryAdapterOptions,\n  type ResolvedInMemoryAdapterOptions,\n} from \"./options\";\nimport { createInMemoryStore, ensureNamespaceStore } from \"./store\";\nimport {\n  createInMemoryUowCompiler,\n  createInMemoryUowExecutor,\n  InMemoryUowDecoder,\n} from \"./in-memory-uow\";\nimport { UnitOfWork, type UnitOfWorkConfig } from \"../../query/unit-of-work/unit-of-work\";\nimport type { CursorResult } from \"../../query/cursor\";\nimport {\n  createNamingResolver,\n  suffixNamingStrategy,\n  type SqlNamingStrategy,\n} from \"../../naming/sql-naming\";\nimport { getOutboxConfigForAdapter } from \"../../internal/outbox-state\";\n\nclass UpdateManySpecialBuilder<TTable extends AnyTable> {\n  #indexName?: string;\n  #condition?: unknown;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  whereIndex(indexName: string, condition?: unknown): this {\n    this.#indexName = indexName;\n    this.#condition = condition;\n    return this;\n  }\n\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  getConfig() {\n    return {\n      indexName: this.#indexName,\n      condition: this.#condition,\n      setValues: this.#setValues,\n    };\n  }\n}\n\nconst hasIdField = (record: unknown): record is { id: string | FragnoId } =>\n  record !== null && typeof record === \"object\" && \"id\" in record;\n\nexport type InMemoryUowConfig = UnitOfWorkConfig;\n\nexport class InMemoryAdapter implements DatabaseAdapter<InMemoryUowConfig> {\n  readonly options: ResolvedInMemoryAdapterOptions;\n  readonly namingStrategy: SqlNamingStrategy;\n\n  #contextStorage: RequestContextStorage<DatabaseContextStorage>;\n  #store = createInMemoryStore();\n  #schemaNamespaceMap = new WeakMap<AnySchema, string | null>();\n  #schemaByNamespace = new Map<string, { schema: AnySchema; namespace: string | null }>();\n\n  constructor(options: InMemoryAdapterOptions = {}) {\n    this.options = resolveInMemoryAdapterOptions(options);\n    this.namingStrategy = options.namingStrategy ?? suffixNamingStrategy;\n    this.#contextStorage = new RequestContextStorage();\n    this.options.outbox = getOutboxConfigForAdapter(this);\n  }\n\n  get [fragnoDatabaseAdapterNameFakeSymbol](): string {\n    return \"in-memory\";\n  }\n\n  get [fragnoDatabaseAdapterVersionFakeSymbol](): number {\n    return 0;\n  }\n\n  get contextStorage(): RequestContextStorage<DatabaseContextStorage> {\n    return this.#contextStorage;\n  }\n\n  async getSchemaVersion(_namespace: string): Promise<string | undefined> {\n    return undefined;\n  }\n\n  async isConnectionHealthy(): Promise<boolean> {\n    return true;\n  }\n\n  async close(): Promise<void> {\n    return;\n  }\n\n  async reset(): Promise<void> {\n    this.#store.namespaces.clear();\n    for (const [namespaceKey, { schema, namespace }] of this.#schemaByNamespace) {\n      const resolver = createNamingResolver(schema, namespace, this.namingStrategy);\n      ensureNamespaceStore(this.#store, namespaceKey, schema, resolver);\n    }\n  }\n\n  createQueryEngine<T extends AnySchema>(\n    schema: T,\n    namespace: string | null,\n  ): SimpleQueryInterface<T, InMemoryUowConfig> {\n    this.#schemaNamespaceMap.set(schema, namespace);\n    const namespaceKey = namespace ?? schema.name;\n    this.#schemaByNamespace.set(namespaceKey, { schema, namespace });\n    const resolverFactory = (schemaForResolver: AnySchema, namespaceForResolver: string | null) =>\n      createNamingResolver(schemaForResolver, namespaceForResolver, this.namingStrategy);\n    const resolver = resolverFactory(schema, namespace);\n    ensureNamespaceStore(this.#store, namespaceKey, schema, resolver);\n\n    const compiler = createInMemoryUowCompiler();\n    const executor = createInMemoryUowExecutor(\n      this.#store,\n      this.options,\n      resolverFactory,\n      this.#schemaByNamespace,\n    );\n    const decoder = new InMemoryUowDecoder(resolverFactory);\n\n    const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>\n      new UnitOfWork(\n        compiler,\n        executor,\n        decoder,\n        opts?.name,\n        opts?.config,\n        this.#schemaNamespaceMap,\n      ).forSchema(schema);\n\n    const queryEngine = {\n      now: async () => this.options.clock.now(),\n      async find(tableName, builderFn) {\n        const uow = createUow();\n        uow.find(tableName, builderFn);\n        const [result]: unknown[][] = await uow.executeRetrieve();\n        return result ?? [];\n      },\n\n      async findWithCursor(tableName, builderFn) {\n        const uow = createUow().findWithCursor(tableName, builderFn);\n        const [result] = await uow.executeRetrieve();\n        return result as CursorResult<unknown>;\n      },\n\n      async findFirst(tableName, builderFn) {\n        const uow = createUow();\n        if (builderFn) {\n          uow.find(tableName, (b) => {\n            builderFn(b);\n            return b.pageSize(1);\n          });\n        } else {\n          uow.find(tableName, (b) => b.whereIndex(\"primary\").pageSize(1));\n        }\n        const [result]: unknown[][] = await uow.executeRetrieve();\n        return result?.[0] ?? null;\n      },\n\n      async create(tableName, values) {\n        const uow = createUow();\n        uow.create(tableName, values);\n        const { success } = await uow.executeMutations();\n        if (!success) {\n          throw new Error(\"Failed to create record\");\n        }\n\n        const createdId = uow.getCreatedIds()[0];\n        if (!createdId) {\n          throw new Error(\"Failed to get created ID\");\n        }\n        return createdId;\n      },\n\n      async createMany(tableName, valuesArray) {\n        const uow = createUow();\n        for (const values of valuesArray) {\n          uow.create(tableName, values);\n        }\n        const { success } = await uow.executeMutations();\n        if (!success) {\n          throw new Error(\"Failed to create records\");\n        }\n        return uow.getCreatedIds();\n      },\n\n      async update(tableName, id, builderFn) {\n        const uow = createUow();\n        uow.update(tableName, id, builderFn);\n        const { success } = await uow.executeMutations();\n        if (!success) {\n          throw new Error(\"Failed to update record (version conflict or record not found)\");\n        }\n      },\n\n      async updateMany(tableName, builderFn) {\n        const table = schema.tables[tableName];\n        if (!table) {\n          throw new Error(`Table ${tableName} not found in schema`);\n        }\n\n        const specialBuilder = new UpdateManySpecialBuilder<typeof table>();\n        builderFn(specialBuilder);\n        const { indexName, condition, setValues } = specialBuilder.getConfig();\n\n        if (!indexName) {\n          throw new Error(\"whereIndex() must be called in updateMany\");\n        }\n        if (!setValues) {\n          throw new Error(\"set() must be called in updateMany\");\n        }\n\n        const findUow = createUow();\n        findUow.find(tableName, (b) => {\n          if (condition !== undefined && condition !== null) {\n            return b.whereIndex(indexName as never, condition as never);\n          }\n          return b.whereIndex(indexName as never);\n        });\n        const [records]: unknown[][] = await findUow.executeRetrieve();\n\n        if (!records || records.length === 0) {\n          return;\n        }\n\n        const updateUow = createUow();\n        for (const record of records) {\n          if (!hasIdField(record)) {\n            throw new Error(\"Record missing id field\");\n          }\n          updateUow.update(tableName, record.id, (b) => b.set(setValues).check());\n        }\n        const { success } = await updateUow.executeMutations();\n        if (!success) {\n          throw new Error(\"Failed to update records (version conflict)\");\n        }\n      },\n\n      async delete(tableName, id, builderFn) {\n        const uow = createUow();\n        uow.delete(tableName, id, builderFn);\n        const { success } = await uow.executeMutations();\n        if (!success) {\n          throw new Error(\"Failed to delete record (version conflict or record not found)\");\n        }\n      },\n\n      async deleteMany(tableName, builderFn) {\n        const findUow = createUow();\n        findUow.find(tableName, builderFn);\n        const [records]: unknown[][] = await findUow.executeRetrieve();\n\n        if (!records || records.length === 0) {\n          return;\n        }\n\n        const deleteUow = createUow();\n        for (const record of records) {\n          if (!hasIdField(record)) {\n            throw new Error(\"Record missing id field\");\n          }\n          deleteUow.delete(tableName, record.id);\n        }\n        const { success } = await deleteUow.executeMutations();\n        if (!success) {\n          throw new Error(\"Failed to delete records (version conflict)\");\n        }\n      },\n\n      createUnitOfWork(name, config) {\n        return createUow({ name, config });\n      },\n    } as SimpleQueryInterface<T, InMemoryUowConfig>;\n    return queryEngine;\n  }\n}\n","structuredPatch":[{"oldStart":127,"oldLines":14,"newStart":127,"newLines":14,"lines":["     const decoder = new InMemoryUowDecoder(resolverFactory);"," ","     const createUow = (opts?: { name?: string; config?: UnitOfWorkConfig }) =>","-      new UnitOfWork(","+      new UnitOfWork({","         compiler,","         executor,","         decoder,","-        opts?.name,","-        opts?.config,","-        this.#schemaNamespaceMap,","-      ).forSchema(schema);","+        name: opts?.name,","+        config: opts?.config,","+        schemaNamespaceMap: this.#schemaNamespaceMap,","+      }).forSchema(schema);"," ","     const queryEngine = {","       now: async () => this.options.clock.now(),"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"537dc505-ea88-4982-9334-1347623a4587"}
{"type":"file-history-snapshot","messageId":"12779fc6-3f39-4f9a-b96b-38b4b860c033","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"},"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts":{"backupFileName":"0706d6dee9ed791c@v1","version":1,"backupTime":"2026-02-12T10:52:55.841Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts":{"backupFileName":"4c9e0b4023533f7a@v1","version":1,"backupTime":"2026-02-12T10:52:57.947Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts":{"backupFileName":"8ba4a2504b8f6ec4@v1","version":1,"backupTime":"2026-02-12T10:52:59.180Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"77dbd1b2-efd6-477a-a045-ac3de6a97a15","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01HBXiFjWVjzzSY9pPhdE7w4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013Hs5s8CmnyWzp9oj2zPN7P","name":"Edit","input":{"replace_all":true,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts","old_string":"new UnitOfWork(compiler, executor, decoder).forSchema(","new_string":"new UnitOfWork({ compiler, executor, decoder }).forSchema("}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1666,"cache_read_input_tokens":64773,"cache_creation":{"ephemeral_5m_input_tokens":1666,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43p1kmvT1XpvhFGTsEg","type":"assistant","uuid":"12779fc6-3f39-4f9a-b96b-38b4b860c033","timestamp":"2026-02-12T10:52:59.168Z"}
{"parentUuid":"12779fc6-3f39-4f9a-b96b-38b4b860c033","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_013Hs5s8CmnyWzp9oj2zPN7P","toolUseID":"toolu_013Hs5s8CmnyWzp9oj2zPN7P","timestamp":"2026-02-12T10:52:59.183Z","uuid":"477af781-b8ec-4827-843e-c937e351ebfc"}
{"parentUuid":"12779fc6-3f39-4f9a-b96b-38b4b860c033","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013Hs5s8CmnyWzp9oj2zPN7P","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts has been updated. All occurrences of 'new UnitOfWork(compiler, executor, decoder).forSchema(' were successfully replaced with 'new UnitOfWork({ compiler, executor, decoder }).forSchema('."}]},"uuid":"85dcadc0-c4fa-420e-946e-84f92ec13367","timestamp":"2026-02-12T10:52:59.183Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts","oldString":"new UnitOfWork(compiler, executor, decoder).forSchema(","newString":"new UnitOfWork({ compiler, executor, decoder }).forSchema(","originalFile":"import { describe, expect, it } from \"vitest\";\nimport type { AnySchema } from \"../../schema/create\";\nimport { column, idColumn, schema, FragnoId, referenceColumn } from \"../../schema/create\";\nimport { UnitOfWork } from \"../../query/unit-of-work/unit-of-work\";\nimport { createInMemoryStore } from \"./store\";\nimport {\n  createInMemoryUowCompiler,\n  createInMemoryUowExecutor,\n  InMemoryUowDecoder,\n} from \"./in-memory-uow\";\nimport { resolveInMemoryAdapterOptions, type InMemoryAdapterOptions } from \"./options\";\n\nconst testSchema = schema(\"test\", (s) =>\n  s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", column(\"string\"))),\n);\n\nconst fkSchema = schema(\"fk\", (s) =>\n  s\n    .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", column(\"string\")))\n    .addTable(\"posts\", (t) =>\n      t\n        .addColumn(\"id\", idColumn())\n        .addColumn(\"title\", column(\"string\"))\n        .addColumn(\"authorId\", referenceColumn()),\n    )\n    .addReference(\"author\", {\n      type: \"one\",\n      from: { table: \"posts\", column: \"authorId\" },\n      to: { table: \"users\", column: \"id\" },\n    }),\n);\n\nconst createTestUowFactory = () => {\n  const store = createInMemoryStore();\n  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\" });\n  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchema);\n};\n\nconst createFkUowFactory = () => {\n  const store = createInMemoryStore();\n  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\" });\n  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return () => new UnitOfWork(compiler, executor, decoder).forSchema(fkSchema);\n};\n\nconst createUowFactoryWithOptions = <TSchema extends AnySchema>(\n  testSchemaToUse: TSchema,\n  optionsOverrides: InMemoryAdapterOptions = {},\n) => {\n  const store = createInMemoryStore();\n  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\", ...optionsOverrides });\n  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return {\n    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchemaToUse),\n    options,\n    store,\n  };\n};\n\ndescribe(\"in-memory uow mutations\", () => {\n  it(\"updates rows with version checks and increments version\", async () => {\n    const createUow = createTestUowFactory();\n\n    const createMutation = createUow();\n    createMutation.create(\"users\", { id: \"user-1\", name: \"Jane\" });\n    const createResult = await createMutation.executeMutations();\n    expect(createResult.success).toBe(true);\n\n    const createdId = createMutation.getCreatedIds()[0]!;\n    expect(createdId.version).toBe(0);\n\n    const updateMutation = createUow();\n    updateMutation.update(\"users\", createdId, (b) => b.set({ name: \"June\" }).check());\n    const updateResult = await updateMutation.executeMutations();\n    expect(updateResult.success).toBe(true);\n\n    const findAfterUpdate = createUow();\n    findAfterUpdate.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    const rows = (await findAfterUpdate.executeRetrieve()) as unknown[];\n    const updatedUser = (rows[0] as { id: FragnoId; name: string }[])[0];\n\n    expect(updatedUser?.name).toBe(\"June\");\n    expect(updatedUser?.id).toBeInstanceOf(FragnoId);\n    expect(updatedUser?.id.version).toBe(1);\n\n    const staleUpdate = createUow();\n    staleUpdate.update(\"users\", createdId, (b) => b.set({ name: \"Nope\" }).check());\n    const staleResult = await staleUpdate.executeMutations();\n    expect(staleResult.success).toBe(false);\n\n    const findAfterStale = createUow();\n    findAfterStale.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    const staleRows = (await findAfterStale.executeRetrieve()) as unknown[];\n    const staleUser = (staleRows[0] as { id: FragnoId; name: string }[])[0];\n\n    expect(staleUser?.name).toBe(\"June\");\n    expect(staleUser?.id.version).toBe(1);\n  });\n\n  it(\"checks and deletes rows with version enforcement\", async () => {\n    const createUow = createTestUowFactory();\n\n    const createMutation = createUow();\n    createMutation.create(\"users\", { id: \"user-2\", name: \"Ari\" });\n    const createResult = await createMutation.executeMutations();\n    expect(createResult.success).toBe(true);\n\n    const createdId = createMutation.getCreatedIds()[0]!;\n\n    const checkMutation = createUow();\n    checkMutation.check(\"users\", createdId);\n    const checkResult = await checkMutation.executeMutations();\n    expect(checkResult.success).toBe(true);\n\n    const wrongVersionId = new FragnoId({\n      externalId: createdId.externalId,\n      internalId: createdId.internalId,\n      version: createdId.version + 1,\n    });\n\n    const badCheck = createUow();\n    badCheck.check(\"users\", wrongVersionId);\n    const badCheckResult = await badCheck.executeMutations();\n    expect(badCheckResult.success).toBe(false);\n\n    const badDelete = createUow();\n    badDelete.delete(\"users\", wrongVersionId, (b) => b.check());\n    const badDeleteResult = await badDelete.executeMutations();\n    expect(badDeleteResult.success).toBe(false);\n\n    const findBeforeDelete = createUow();\n    findBeforeDelete.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    const beforeDeleteRows = (await findBeforeDelete.executeRetrieve()) as unknown[];\n    expect(beforeDeleteRows[0]).toHaveLength(1);\n\n    const deleteMutation = createUow();\n    deleteMutation.delete(\"users\", createdId, (b) => b.check());\n    const deleteResult = await deleteMutation.executeMutations();\n    expect(deleteResult.success).toBe(true);\n\n    const findAfterDelete = createUow();\n    findAfterDelete.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    const afterDeleteRows = (await findAfterDelete.executeRetrieve()) as unknown[];\n    expect(afterDeleteRows[0]).toHaveLength(0);\n  });\n\n  it(\"enforces foreign keys on create and update\", async () => {\n    const createUow = createFkUowFactory();\n\n    const createUser = createUow();\n    createUser.create(\"users\", { id: \"user-1\", name: \"Ada\" });\n    const createUserResult = await createUser.executeMutations();\n    expect(createUserResult.success).toBe(true);\n\n    const userId = createUser.getCreatedIds()[0]!;\n\n    const createPost = createUow();\n    createPost.create(\"posts\", {\n      id: \"post-1\",\n      title: \"Hello\",\n      authorId: userId,\n    });\n    const createPostResult = await createPost.executeMutations();\n    expect(createPostResult.success).toBe(true);\n\n    const badCreate = createUow();\n    badCreate.create(\"posts\", {\n      id: \"post-2\",\n      title: \"Nope\",\n      authorId: \"missing-user\",\n    });\n    await expect(badCreate.executeMutations()).rejects.toThrow(\"Foreign key constraint violation\");\n\n    const postId = createPost.getCreatedIds()[0]!;\n    const badUpdate = createUow();\n    badUpdate.update(\"posts\", postId, (b) => b.set({ authorId: \"missing-user\" }));\n    await expect(badUpdate.executeMutations()).rejects.toThrow(\"Foreign key constraint violation\");\n  });\n\n  it(\"enforces foreign keys on delete\", async () => {\n    const createUow = createFkUowFactory();\n\n    const createUser = createUow();\n    createUser.create(\"users\", { id: \"user-2\", name: \"Sam\" });\n    const createUserResult = await createUser.executeMutations();\n    expect(createUserResult.success).toBe(true);\n\n    const userId = createUser.getCreatedIds()[0]!;\n\n    const createPost = createUow();\n    createPost.create(\"posts\", {\n      id: \"post-3\",\n      title: \"Dependent\",\n      authorId: userId,\n    });\n    const createPostResult = await createPost.executeMutations();\n    expect(createPostResult.success).toBe(true);\n\n    const deleteUser = createUow();\n    deleteUser.delete(\"users\", userId, (b) => b.check());\n    await expect(deleteUser.executeMutations()).rejects.toThrow(\"Foreign key constraint violation\");\n  });\n\n  it(\"uses custom internal id generators when provided\", async () => {\n    let current = 9n;\n    const internalIdGenerator = () => {\n      current += 1n;\n      return current;\n    };\n    const { createUow } = createUowFactoryWithOptions(testSchema, { internalIdGenerator });\n\n    const firstCreate = createUow();\n    firstCreate.create(\"users\", { id: \"user-1\", name: \"Ari\" });\n    const firstResult = await firstCreate.executeMutations();\n    expect(firstResult.success).toBe(true);\n\n    const secondCreate = createUow();\n    secondCreate.create(\"users\", { id: \"user-2\", name: \"Bea\" });\n    const secondResult = await secondCreate.executeMutations();\n    expect(secondResult.success).toBe(true);\n\n    const [firstId, secondId] = [firstCreate.getCreatedIds()[0]!, secondCreate.getCreatedIds()[0]!];\n\n    expect(firstId.internalId).toBe(10n);\n    expect(secondId.internalId).toBe(11n);\n  });\n\n  it(\"skips foreign key and unique constraints when enforceConstraints is false\", async () => {\n    const { createUow } = createUowFactoryWithOptions(testSchema, {\n      enforceConstraints: false,\n    });\n    const { createUow: createFkUow } = createUowFactoryWithOptions(fkSchema, {\n      enforceConstraints: false,\n    });\n\n    const createUser = createUow();\n    createUser.create(\"users\", { id: \"dup-id\", name: \"First\" });\n    const firstResult = await createUser.executeMutations();\n    expect(firstResult.success).toBe(true);\n\n    const createUserDup = createUow();\n    createUserDup.create(\"users\", { id: \"dup-id\", name: \"Second\" });\n    const secondResult = await createUserDup.executeMutations();\n    expect(secondResult.success).toBe(true);\n\n    const findDupes = createUow();\n    findDupes.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    const dupeRows = (await findDupes.executeRetrieve()) as unknown[];\n    expect(dupeRows[0]).toHaveLength(2);\n\n    const createPost = createFkUow();\n    createPost.create(\"posts\", {\n      id: \"post-1\",\n      title: \"No author\",\n      authorId: \"missing-user\",\n    });\n    const createPostResult = await createPost.executeMutations();\n    expect(createPostResult.success).toBe(true);\n\n    const createdPostId = createPost.getCreatedIds()[0]!;\n    const updatePost = createFkUow();\n    updatePost.update(\"posts\", createdPostId, (b) => b.set({ authorId: \"still-missing\" }));\n    const updatePostResult = await updatePost.executeMutations();\n    expect(updatePostResult.success).toBe(true);\n\n    const createUserForDelete = createFkUow();\n    createUserForDelete.create(\"users\", { id: \"user-3\", name: \"Sam\" });\n    const createUserForDeleteResult = await createUserForDelete.executeMutations();\n    expect(createUserForDeleteResult.success).toBe(true);\n\n    const userId = createUserForDelete.getCreatedIds()[0]!;\n    const createPostForDelete = createFkUow();\n    createPostForDelete.create(\"posts\", {\n      id: \"post-2\",\n      title: \"Dependent\",\n      authorId: userId,\n    });\n    const createPostForDeleteResult = await createPostForDelete.executeMutations();\n    expect(createPostForDeleteResult.success).toBe(true);\n\n    const deleteUser = createFkUow();\n    deleteUser.delete(\"users\", userId, (b) => b.check());\n    const deleteResult = await deleteUser.executeMutations();\n    expect(deleteResult.success).toBe(true);\n  });\n});\n","structuredPatch":[{"oldStart":37,"oldLines":7,"newStart":37,"newLines":7,"lines":["   const executor = createInMemoryUowExecutor(store, options);","   const decoder = new InMemoryUowDecoder();"," ","-  return () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchema);","+  return () => new UnitOfWork({ compiler, executor, decoder }).forSchema(testSchema);"," };"," "," const createFkUowFactory = () => {"]},{"oldStart":47,"oldLines":7,"newStart":47,"newLines":7,"lines":["   const executor = createInMemoryUowExecutor(store, options);","   const decoder = new InMemoryUowDecoder();"," ","-  return () => new UnitOfWork(compiler, executor, decoder).forSchema(fkSchema);","+  return () => new UnitOfWork({ compiler, executor, decoder }).forSchema(fkSchema);"," };"," "," const createUowFactoryWithOptions = <TSchema extends AnySchema>("]},{"oldStart":61,"oldLines":7,"newStart":61,"newLines":7,"lines":["   const decoder = new InMemoryUowDecoder();"," ","   return {","-    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(testSchemaToUse),","+    createUow: () => new UnitOfWork({ compiler, executor, decoder }).forSchema(testSchemaToUse),","     options,","     store,","   };"]}],"userModified":false,"replaceAll":true},"sourceToolAssistantUUID":"12779fc6-3f39-4f9a-b96b-38b4b860c033"}
{"type":"file-history-snapshot","messageId":"9fad6d99-9e08-46ea-991d-3ee5994fa9f9","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"},"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts":{"backupFileName":"0706d6dee9ed791c@v1","version":1,"backupTime":"2026-02-12T10:52:55.841Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts":{"backupFileName":"4c9e0b4023533f7a@v1","version":1,"backupTime":"2026-02-12T10:52:57.947Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts":{"backupFileName":"8ba4a2504b8f6ec4@v1","version":1,"backupTime":"2026-02-12T10:52:59.180Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts":{"backupFileName":"15cb723224b72289@v1","version":1,"backupTime":"2026-02-12T10:53:00.249Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"85dcadc0-c4fa-420e-946e-84f92ec13367","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01HBXiFjWVjzzSY9pPhdE7w4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EDV7JsiCjiLPVtBeLn1QAj","name":"Edit","input":{"replace_all":true,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts","old_string":"new UnitOfWork(compiler, executor, decoder).forSchema(","new_string":"new UnitOfWork({ compiler, executor, decoder }).forSchema("}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1666,"cache_read_input_tokens":64773,"cache_creation":{"ephemeral_5m_input_tokens":1666,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43p1kmvT1XpvhFGTsEg","type":"assistant","uuid":"9fad6d99-9e08-46ea-991d-3ee5994fa9f9","timestamp":"2026-02-12T10:53:00.237Z"}
{"parentUuid":"9fad6d99-9e08-46ea-991d-3ee5994fa9f9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01EDV7JsiCjiLPVtBeLn1QAj","toolUseID":"toolu_01EDV7JsiCjiLPVtBeLn1QAj","timestamp":"2026-02-12T10:53:00.252Z","uuid":"ab7fd4f6-e225-4f33-b947-fdc4c042d784"}
{"parentUuid":"9fad6d99-9e08-46ea-991d-3ee5994fa9f9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EDV7JsiCjiLPVtBeLn1QAj","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts has been updated. All occurrences of 'new UnitOfWork(compiler, executor, decoder).forSchema(' were successfully replaced with 'new UnitOfWork({ compiler, executor, decoder }).forSchema('."}]},"uuid":"6a5ae6b8-c33f-479e-b8d9-a2e812f86f62","timestamp":"2026-02-12T10:53:00.252Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts","oldString":"new UnitOfWork(compiler, executor, decoder).forSchema(","newString":"new UnitOfWork({ compiler, executor, decoder }).forSchema(","originalFile":"import { describe, expect, it } from \"vitest\";\nimport { column, idColumn, referenceColumn, schema, type AnySchema } from \"../../schema/create\";\nimport { UnitOfWork, type RetrievalOperation } from \"../../query/unit-of-work/unit-of-work\";\nimport { createInMemoryStore } from \"./store\";\nimport {\n  createInMemoryUowCompiler,\n  createInMemoryUowExecutor,\n  InMemoryUowDecoder,\n} from \"./in-memory-uow\";\nimport { resolveInMemoryAdapterOptions } from \"./options\";\nimport type { CompiledJoin } from \"../../query/orm/orm\";\n\nconst joinSchema = schema(\"join\", (s) =>\n  s\n    .addTable(\"users\", (t) =>\n      t\n        .addColumn(\"id\", idColumn())\n        .addColumn(\"name\", column(\"string\"))\n        .addColumn(\"email\", column(\"string\"))\n        .createIndex(\"idx_users_name\", [\"name\"]),\n    )\n    .addTable(\"posts\", (t) =>\n      t\n        .addColumn(\"id\", idColumn())\n        .addColumn(\"title\", column(\"string\"))\n        .addColumn(\"authorId\", referenceColumn()),\n    )\n    .addReference(\"author\", {\n      type: \"one\",\n      from: { table: \"posts\", column: \"authorId\" },\n      to: { table: \"users\", column: \"id\" },\n    }),\n);\n\nconst createHarness = () => {\n  const store = createInMemoryStore();\n  const options = resolveInMemoryAdapterOptions({ idSeed: \"seed\" });\n  const compiler = createInMemoryUowCompiler();\n  const executor = createInMemoryUowExecutor(store, options);\n  const decoder = new InMemoryUowDecoder();\n\n  return {\n    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(joinSchema),\n    executor,\n  };\n};\n\ndescribe(\"in-memory uow retrieval\", () => {\n  it(\"throws when joins use orderBy instead of orderByIndex\", async () => {\n    const { createUow, executor } = createHarness();\n\n    const createData = createUow();\n    createData.create(\"users\", {\n      id: \"user-1\",\n      name: \"Ada\",\n      email: \"ada@example.com\",\n    });\n    createData.create(\"posts\", {\n      id: \"post-1\",\n      title: \"Hello\",\n      authorId: \"user-1\",\n    });\n    await createData.executeMutations();\n\n    const relation = joinSchema.tables.posts.relations.author;\n    const join: CompiledJoin = {\n      relation,\n      options: {\n        select: true,\n        where: undefined,\n        orderBy: [[joinSchema.tables.users.columns.email, \"asc\"]],\n        join: undefined,\n        limit: undefined,\n      },\n    };\n\n    const op = {\n      type: \"find\",\n      schema: joinSchema,\n      table: joinSchema.tables.posts,\n      indexName: \"_primary\",\n      options: {\n        useIndex: \"_primary\",\n        select: true,\n        where: undefined,\n        orderByIndex: undefined,\n        after: undefined,\n        before: undefined,\n        pageSize: undefined,\n        joins: [join],\n      },\n    } satisfies RetrievalOperation<typeof joinSchema>;\n\n    const opForExecutor = op as unknown as RetrievalOperation<AnySchema>;\n\n    await expect(executor.executeRetrievalPhase([opForExecutor])).rejects.toThrow(\n      'In-memory adapter only supports orderByIndex; received orderBy on table \"users\".',\n    );\n  });\n});\n","structuredPatch":[{"oldStart":40,"oldLines":7,"newStart":40,"newLines":7,"lines":["   const decoder = new InMemoryUowDecoder();"," ","   return {","-    createUow: () => new UnitOfWork(compiler, executor, decoder).forSchema(joinSchema),","+    createUow: () => new UnitOfWork({ compiler, executor, decoder }).forSchema(joinSchema),","     executor,","   };"," };"]}],"userModified":false,"replaceAll":true},"sourceToolAssistantUUID":"9fad6d99-9e08-46ea-991d-3ee5994fa9f9"}
{"type":"file-history-snapshot","messageId":"0c46d462-1a36-4917-bbf7-d40c3160c40f","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"},"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts":{"backupFileName":"0706d6dee9ed791c@v1","version":1,"backupTime":"2026-02-12T10:52:55.841Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts":{"backupFileName":"4c9e0b4023533f7a@v1","version":1,"backupTime":"2026-02-12T10:52:57.947Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts":{"backupFileName":"8ba4a2504b8f6ec4@v1","version":1,"backupTime":"2026-02-12T10:52:59.180Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts":{"backupFileName":"15cb723224b72289@v1","version":1,"backupTime":"2026-02-12T10:53:00.249Z"},"packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts":{"backupFileName":"2de68db451d9286c@v1","version":1,"backupTime":"2026-02-12T10:53:01.592Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"6a5ae6b8-c33f-479e-b8d9-a2e812f86f62","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01HBXiFjWVjzzSY9pPhdE7w4","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013i8ibxmmVZ7rh3qq2yYfdM","name":"Edit","input":{"replace_all":true,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts","old_string":"new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(","new_string":"new UnitOfWork({ compiler: mockCompiler, executor: mockExecutor, decoder: mockDecoder }).forSchema("}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1666,"cache_read_input_tokens":64773,"output_tokens":1215,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":1666},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43p1kmvT1XpvhFGTsEg","type":"assistant","uuid":"0c46d462-1a36-4917-bbf7-d40c3160c40f","timestamp":"2026-02-12T10:53:01.577Z"}
{"parentUuid":"0c46d462-1a36-4917-bbf7-d40c3160c40f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_013i8ibxmmVZ7rh3qq2yYfdM","toolUseID":"toolu_013i8ibxmmVZ7rh3qq2yYfdM","timestamp":"2026-02-12T10:53:01.596Z","uuid":"e98f7efa-6e16-4182-91ae-5a33e145d243"}
{"parentUuid":"0c46d462-1a36-4917-bbf7-d40c3160c40f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013i8ibxmmVZ7rh3qq2yYfdM","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts has been updated. All occurrences of 'new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(' were successfully replaced with 'new UnitOfWork({ compiler: mockCompiler, executor: mockExecutor, decoder: mockDecoder }).forSchema('."}]},"uuid":"a4344dfd-5cb8-4d08-81ec-231e3fb15a3e","timestamp":"2026-02-12T10:53:01.596Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts","oldString":"new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(","newString":"new UnitOfWork({ compiler: mockCompiler, executor: mockExecutor, decoder: mockDecoder }).forSchema(","originalFile":"import { describe, expectTypeOf, it } from \"vitest\";\nimport { column, idColumn, referenceColumn, schema } from \"../../schema/create\";\nimport { JoinFindBuilder, UnitOfWork } from \"./unit-of-work\";\nimport type { FragnoId, FragnoReference } from \"../../schema/create\";\n\ntype Prettify<T> = {\n  [K in keyof T]: T[K];\n} & {};\n\ntype RecursivePrettify<T> = {\n  [K in keyof T]: T[K] extends FragnoId\n    ? FragnoId\n    : T[K] extends FragnoReference\n      ? FragnoReference\n      : T[K] extends object\n        ? RecursivePrettify<T[K]>\n        : T[K];\n} & {};\n\ntype InferJoinOut<T> =\n  T extends JoinFindBuilder<infer _Table, infer _Select, infer JoinOut> ? JoinOut : never;\n\ntype InferJoinOutPrettify<T> = RecursivePrettify<InferJoinOut<T>>;\n\ndescribe(\"UnitOfWork type tests\", () => {\n  const testSchema = schema(\"test\", (s) => {\n    return s\n      .addTable(\"users\", (t) => {\n        return t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", column(\"string\"))\n          .addColumn(\"email\", column(\"string\"))\n          .addColumn(\"age\", column(\"integer\").nullable())\n          .addColumn(\"invitedBy\", referenceColumn().nullable())\n          .createIndex(\"idx_email\", [\"email\"], { unique: true })\n          .createIndex(\"idx_name\", [\"name\"]);\n      })\n      .addTable(\"posts\", (t) => {\n        return t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"title\", column(\"string\"))\n          .addColumn(\"content\", column(\"string\"))\n          .addColumn(\"userId\", referenceColumn())\n          .createIndex(\"idx_user\", [\"userId\"])\n          .createIndex(\"idx_title\", [\"title\"]);\n      })\n      .addTable(\"comments\", (t) => {\n        return t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"content\", column(\"string\"))\n          .addColumn(\"postId\", referenceColumn())\n          .addColumn(\"authorId\", referenceColumn())\n          .createIndex(\"idx_post\", [\"postId\"])\n          .createIndex(\"idx_author\", [\"authorId\"]);\n      })\n      .addReference(\"author\", {\n        type: \"one\",\n        from: { table: \"posts\", column: \"userId\" },\n        to: { table: \"users\", column: \"id\" },\n      })\n      .addReference(\"inviter\", {\n        type: \"one\",\n        from: { table: \"users\", column: \"invitedBy\" },\n        to: { table: \"users\", column: \"id\" },\n      })\n      .addReference(\"post\", {\n        type: \"one\",\n        from: { table: \"comments\", column: \"postId\" },\n        to: { table: \"posts\", column: \"id\" },\n      })\n      .addReference(\"author\", {\n        type: \"one\",\n        from: { table: \"comments\", column: \"authorId\" },\n        to: { table: \"users\", column: \"id\" },\n      })\n      .addReference(\"posts\", {\n        type: \"many\",\n        from: { table: \"users\", column: \"id\" },\n        to: { table: \"posts\", column: \"userId\" },\n      })\n      .addReference(\"comments\", {\n        type: \"many\",\n        from: { table: \"posts\", column: \"id\" },\n        to: { table: \"comments\", column: \"postId\" },\n      });\n  });\n\n  function createTestUOW() {\n    const mockCompiler = {\n      compileRetrievalOperation: () => null,\n      compileMutationOperation: () => null,\n    };\n    const mockExecutor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n    const mockDecoder = {\n      decode: () => [],\n    };\n    return new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(testSchema);\n  }\n\n  it(\"should type find without joins correctly\", async () => {\n    const uow = createTestUOW();\n\n    const uow1 = uow.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    const [_userResult] = await uow1.executeRetrieve();\n    type UserResult = RecursivePrettify<(typeof _userResult)[number]>;\n\n    expectTypeOf<UserResult>().toEqualTypeOf<{\n      id: FragnoId;\n      name: string;\n      email: string;\n      age: number | null;\n      invitedBy: FragnoReference | null;\n    }>();\n  });\n\n  it(\"should type find with select clause correctly\", async () => {\n    const uow = createTestUOW();\n\n    const uow1 = uow.find(\"users\", (b) => b.whereIndex(\"primary\").select([\"id\", \"name\"]));\n    const [_userResult] = await uow1.executeRetrieve();\n    type UserResult = RecursivePrettify<(typeof _userResult)[number]>;\n\n    expectTypeOf<UserResult>().toEqualTypeOf<{\n      id: FragnoId;\n      name: string;\n    }>();\n  });\n\n  it(\"should type find with joins correctly\", async () => {\n    const uow = createTestUOW();\n\n    const uow1 = uow.find(\"users\", (b) =>\n      b.whereIndex(\"primary\").join((jb) => jb.inviter((ib) => ib.select([\"name\"]))),\n    );\n    const [_userResult] = await uow1.executeRetrieve();\n    type UserResult = RecursivePrettify<(typeof _userResult)[number]>;\n\n    // @ts-expect-error assert type\n    expectTypeOf<UserResult>().toEqualTypeOf<{\n      id: FragnoId;\n      name: string;\n      email: string;\n      age: number | null;\n      invitedBy: FragnoReference | null;\n      inviter: {\n        name: string;\n      } | null;\n    }>();\n  });\n\n  it(\"join builder without join given\", () => {\n    const _builder = new JoinFindBuilder(\"users\", testSchema.tables.users);\n    type JoinOut = InferJoinOutPrettify<typeof _builder>;\n    expectTypeOf<JoinOut>().toEqualTypeOf<{}>();\n  });\n\n  it(\"join builder with join given\", () => {\n    const builder = new JoinFindBuilder(\"users\", testSchema.tables.users);\n\n    /*\n    join: (jb) =>           // jb is IndexedJoinBuilder, the thing with relations as key (fns)\n      jb.posts((b) =>       // b is JoinFindBuilder\n        b.whereIndex(\"primary\").select([\"id\"])\n      )\n    */\n\n    const _builderOut = builder.join((jb) => jb.inviter((ib) => ib.select([\"name\"])));\n    type _JoinOut = InferJoinOutPrettify<typeof _builderOut>;\n    //    ^?\n\n    type _JoinOutInviter = Prettify<_JoinOut[\"inviter\"]>;\n    //     ^?\n\n    // FIXME: There should not be a `{}` in the type\n    expectTypeOf<_JoinOutInviter>().toEqualTypeOf<{\n      id: FragnoId;\n      name: string;\n      email: string;\n      age: number | null;\n      invitedBy: FragnoReference | null;\n    } | null>();\n  });\n\n  it(\"join builder with 'many' relationship returns array\", () => {\n    const builder = new JoinFindBuilder(\"users\", testSchema.tables.users);\n\n    const _builderOut = builder.join((jb) => jb.posts((ib) => ib.select([\"title\"])));\n    type _JoinOut = InferJoinOut<typeof _builderOut>;\n    //    ^?\n\n    type _JoinOutPosts = Prettify<_JoinOut[\"posts\"]>;\n    //     ^?\n\n    // FIXME: There should not be a `{}` in the array\n    expectTypeOf<_JoinOutPosts>().toEqualTypeOf<\n      {\n        id: FragnoId;\n        title: string;\n        content: string;\n        userId: FragnoReference;\n      }[]\n    >();\n  });\n});\n","structuredPatch":[{"oldStart":97,"oldLines":7,"newStart":97,"newLines":7,"lines":["     const mockDecoder = {","       decode: () => [],","     };","-    return new UnitOfWork(mockCompiler, mockExecutor, mockDecoder).forSchema(testSchema);","+    return new UnitOfWork({ compiler: mockCompiler, executor: mockExecutor, decoder: mockDecoder }).forSchema(testSchema);","   }"," ","   it(\"should type find without joins correctly\", async () => {"]}],"userModified":false,"replaceAll":true},"sourceToolAssistantUUID":"0c46d462-1a36-4917-bbf7-d40c3160c40f"}
{"parentUuid":"a4344dfd-5cb8-4d08-81ec-231e3fb15a3e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01QQAhyivSb7ssUetTDZsnf6","type":"message","role":"assistant","content":[{"type":"text","text":"Now update the three test call sites in `unit-of-work.test.ts`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1708,"cache_read_input_tokens":66439,"cache_creation":{"ephemeral_5m_input_tokens":1708,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43prZuYjHD3ehh7uUBy","type":"assistant","uuid":"76914166-0218-4d98-a5a1-4725b17da555","timestamp":"2026-02-12T10:53:04.174Z"}
{"type":"file-history-snapshot","messageId":"d448f4fc-a7e2-4e4e-acb8-2050416c243b","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"},"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts":{"backupFileName":"0706d6dee9ed791c@v1","version":1,"backupTime":"2026-02-12T10:52:55.841Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts":{"backupFileName":"4c9e0b4023533f7a@v1","version":1,"backupTime":"2026-02-12T10:52:57.947Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts":{"backupFileName":"8ba4a2504b8f6ec4@v1","version":1,"backupTime":"2026-02-12T10:52:59.180Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts":{"backupFileName":"15cb723224b72289@v1","version":1,"backupTime":"2026-02-12T10:53:00.249Z"},"packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts":{"backupFileName":"2de68db451d9286c@v1","version":1,"backupTime":"2026-02-12T10:53:01.592Z"},"packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts":{"backupFileName":"acbe5d6ff5e4bbca@v1","version":1,"backupTime":"2026-02-12T10:53:07.506Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"76914166-0218-4d98-a5a1-4725b17da555","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01QQAhyivSb7ssUetTDZsnf6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_0136fhrgUsEuQRSpAmmYpac9","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","old_string":"    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: (ctx) => {\n          calls.push(\"beforeRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterRetrieve: (ctx) => {\n          calls.push(\"afterRetrieve\");","new_string":"    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: (ctx) => {\n            calls.push(\"beforeRetrieve\");\n            contexts.push({\n              phase: ctx.phase,\n              idempotencyKey: ctx.idempotencyKey,\n              retrievalOpsCount: ctx.retrievalOpsCount,\n              mutationOpsCount: ctx.mutationOpsCount,\n            });\n          },\n          afterRetrieve: (ctx) => {\n            calls.push(\"afterRetrieve\");"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1708,"cache_read_input_tokens":66439,"output_tokens":472,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":1708},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43prZuYjHD3ehh7uUBy","type":"assistant","uuid":"d448f4fc-a7e2-4e4e-acb8-2050416c243b","timestamp":"2026-02-12T10:53:07.493Z"}
{"parentUuid":"d448f4fc-a7e2-4e4e-acb8-2050416c243b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_0136fhrgUsEuQRSpAmmYpac9","toolUseID":"toolu_0136fhrgUsEuQRSpAmmYpac9","timestamp":"2026-02-12T10:53:07.511Z","uuid":"544ad066-0112-485f-90ad-2354532c92c8"}
{"parentUuid":"d448f4fc-a7e2-4e4e-acb8-2050416c243b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_0136fhrgUsEuQRSpAmmYpac9","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts has been updated successfully."}]},"uuid":"59ddb424-12cf-43c9-bd0a-f63c2a224718","timestamp":"2026-02-12T10:53:07.511Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","oldString":"    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: (ctx) => {\n          calls.push(\"beforeRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterRetrieve: (ctx) => {\n          calls.push(\"afterRetrieve\");","newString":"    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: (ctx) => {\n            calls.push(\"beforeRetrieve\");\n            contexts.push({\n              phase: ctx.phase,\n              idempotencyKey: ctx.idempotencyKey,\n              retrievalOpsCount: ctx.retrievalOpsCount,\n              mutationOpsCount: ctx.mutationOpsCount,\n            });\n          },\n          afterRetrieve: (ctx) => {\n            calls.push(\"afterRetrieve\");","originalFile":"import { describe, it, expect, assert, expectTypeOf } from \"vitest\";\nimport { column, schema, idColumn, FragnoId } from \"../../schema/create\";\nimport {\n  type UOWCompiler,\n  type UOWDecoder,\n  createUnitOfWork,\n  UnitOfWork,\n  type InferIdColumnName,\n  type IndexColumns,\n} from \"./unit-of-work\";\nimport { createIndexedBuilder } from \"../condition-builder\";\nimport type { SimpleQueryInterface } from \"../simple-query-interface\";\n\n// Mock compiler and executor for testing\nfunction createMockCompiler(): UOWCompiler<unknown> {\n  return {\n    compileRetrievalOperation: () => null,\n    compileMutationOperation: () => null,\n  };\n}\n\nfunction createMockExecutor() {\n  return {\n    executeRetrievalPhase: async () => [],\n    executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n  };\n}\n\nfunction createMockDecoder(): UOWDecoder {\n  return {\n    decode(rawResults, operations) {\n      if (rawResults.length !== operations.length) {\n        throw new Error(\"rawResults and operations must have the same length\");\n      }\n      return rawResults;\n    },\n  };\n}\n\ndescribe(\"FindBuilder\", () => {\n  it(\"should support primary index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"age\", \"integer\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true })\n          .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"_primary\");\n  });\n\n  it(\"should support custom indexes\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true }),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"idx_email\");\n  });\n\n  it(\"should support cursor-based pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").after(cursor).pageSize(10));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.after).toBe(cursor);\n    expect(op.options.pageSize).toBe(10);\n  });\n\n  it(\"should support backward cursor pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").before(cursor).pageSize(5));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.before).toBe(cursor);\n    expect(op.options.pageSize).toBe(5);\n  });\n\n  it(\"should throw RangeError for pageSize <= 0\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(0));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-1));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-10));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw RangeError for non-integer pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(1.5));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(3.14));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(NaN));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(Infinity));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw if index doesn't exist\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"nonexistent\" as \"primary\"));\n    }).toThrow('Index \"nonexistent\" not found on table \"users\"');\n  });\n\n  it(\"should throw if finalized without index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b);\n    }).toThrow(\n      'Must specify an index using .whereIndex() before finalizing find operation on table \"users\"',\n    );\n  });\n\n  it(\"should support count operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"age\", \"integer\"),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").selectCount());\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"count\");\n  });\n\n  it(\"should throw when using both select and selectCount\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // select() then selectCount()\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").select([\"name\"]).selectCount());\n    }).toThrow(/cannot call selectCount/i);\n\n    // selectCount() then select()\n    const uow2 = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow2\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").selectCount().select([\"name\"]));\n    }).toThrow(/cannot call select/i);\n  });\n\n  it(\"should support orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"createdAt\", \"integer\")\n          .createIndex(\"idx_created\", [\"createdAt\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").orderByIndex(\"idx_created\", \"desc\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    if (op?.type === \"find\") {\n      expect(op.options.orderByIndex).toEqual({\n        indexName: \"idx_created\",\n        direction: \"desc\",\n      });\n    } else {\n      throw new Error(\"Expected find operation\");\n    }\n  });\n\n  it(\"should support join operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.select([\"name\"]))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n  });\n\n  it(\"should support join operations without builder function\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Join without builder function should use default options\n    uow.forSchema(testSchema).find(\"posts\", (b) => b.whereIndex(\"primary\").join((jb) => jb.user()));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.select).toBe(true); // Should default to selecting all columns\n  });\n\n  it(\"should support join with whereIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .createIndex(\"idx_name\", [\"name\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"user\"]((builder) =>\n              builder.whereIndex(\"idx_name\", (eb) => eb(\"name\", \"=\", \"Alice\")).select([\"name\"]),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.where).toBeDefined();\n  });\n\n  it(\"should support join with orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .addColumn(\"createdAt\", \"integer\")\n            .createIndex(\"idx_created\", [\"createdAt\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) => jb[\"user\"]((builder) => builder.orderByIndex(\"idx_created\", \"desc\"))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.orderBy).toBeDefined();\n    expect(joinOptions.orderBy).toHaveLength(1);\n  });\n\n  it(\"should support join with pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(5))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.limit).toBe(5);\n  });\n\n  it(\"should throw RangeError for invalid pageSize in join\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(0))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(-5))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(2.5))),\n        );\n    }).toThrow(RangeError);\n  });\n\n  it(\"should support nested joins\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"authorId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"])\n            .createIndex(\"idx_author\", [\"authorId\"]),\n        )\n        .addTable(\"comments\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"postId\", column(\"string\"))\n            .addColumn(\"text\", \"string\")\n            .createIndex(\"idx_post\", [\"postId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        })\n        .addReference(\"post\", {\n          type: \"one\",\n          from: { table: \"comments\", column: \"postId\" },\n          to: { table: \"posts\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"comments\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"post\"]((postBuilder) =>\n              postBuilder\n                .select([\"title\"])\n                .join((jb2) => jb2[\"user\"]((userBuilder) => userBuilder.select([\"name\"]))),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n\n    const postJoin = op.options.joins![0]!;\n    assert(postJoin.options !== false);\n    expect(postJoin.options.join).toBeDefined();\n    expect(postJoin.options.join).toHaveLength(1);\n\n    const userJoin = postJoin.options.join![0]!;\n    assert(userJoin.options !== false);\n    expect(userJoin.relation.name).toBe(\"user\");\n  });\n});\n\ndescribe(\"IndexedConditionBuilder\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t\n        .addColumn(\"id\", idColumn())\n        .addColumn(\"email\", column(\"string\"))\n        .addColumn(\"name\", column(\"string\"))\n        .addColumn(\"age\", column(\"integer\").nullable())\n        .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed\n        .createIndex(\"_primary\", [\"id\"], { unique: true })\n        .createIndex(\"idx_email\", [\"email\"], { unique: true })\n        .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n    ),\n  );\n\n  const usersTable = testSchema.tables.users;\n\n  it(\"should enforce indexed columns at runtime\", () => {\n    // Collect all indexed column names from all indexes\n    const indexedColumns = new Set<string>();\n    for (const index of Object.values(usersTable.indexes)) {\n      for (const col of index.columns) {\n        indexedColumns.add(col.name);\n      }\n    }\n\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Should work with indexed columns\n    expect(() => builder(\"id\", \"=\", \"123\")).not.toThrow();\n    expect(() => builder(\"email\", \"=\", \"test@example.com\")).not.toThrow();\n    expect(() => builder(\"name\", \"=\", \"Alice\")).not.toThrow();\n    expect(() => builder(\"age\", \">\", 18)).not.toThrow();\n\n    // Should throw when using non-indexed column\n    expect(() => builder(\"bio\" as \"email\", \"=\", \"Some bio\")).toThrow('Column \"bio\" is not indexed');\n  });\n\n  it(\"should work with complex conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"name\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Complex AND condition with indexed columns\n    const condition = builder.and(\n      builder(\"name\", \"=\", \"Alice\"),\n      builder(\"age\", \">\", 18),\n      builder(\"email\", \"contains\", \"example\"),\n    );\n\n    expect(condition).toEqual({\n      type: \"and\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.name,\n          operator: \"=\",\n          b: \"Alice\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 18,\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"example\",\n        },\n      ],\n    });\n  });\n\n  it(\"should provide helpful error message listing available columns\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    expect(() => builder(\"name\" as \"email\", \"=\", \"Alice\")).toThrow(\n      \"Only indexed columns can be used in Unit of Work queries. Available indexed columns: id, email\",\n    );\n  });\n\n  it(\"should work with all builder helper methods\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // isNull\n    expect(() => builder.isNull(\"age\")).not.toThrow();\n    expect(() => builder.isNull(\"bio\" as \"age\")).toThrow('Column \"bio\" is not indexed');\n\n    // isNotNull\n    expect(() => builder.isNotNull(\"email\")).not.toThrow();\n    expect(() => builder.isNotNull(\"bio\" as \"email\")).toThrow('Column \"bio\" is not indexed');\n\n    // not\n    const notCondition = builder.not(builder(\"id\", \"=\", \"123\"));\n    expect(notCondition).toEqual({\n      type: \"not\",\n      item: {\n        type: \"compare\",\n        a: usersTable.columns.id,\n        operator: \"=\",\n        b: \"123\",\n      },\n    });\n\n    // or\n    const orCondition = builder.or(builder(\"email\", \"contains\", \"gmail\"), builder(\"age\", \">\", 30));\n    expect(orCondition).toEqual({\n      type: \"or\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"gmail\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 30,\n        },\n      ],\n    });\n  });\n\n  it(\"should enforce index restrictions in nested conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // This should throw because \"name\" is not indexed, even though it's nested\n    expect(() => {\n      builder.and(\n        builder(\"email\", \"=\", \"test@example.com\"),\n        builder(\"name\" as \"email\", \"=\", \"Alice\"),\n      );\n    }).toThrow('Column \"name\" is not indexed');\n\n    // This should throw because \"bio\" is not indexed, even in OR\n    expect(() => {\n      builder.or(builder(\"id\", \"=\", \"123\"), builder(\"bio\" as \"id\", \"=\", \"Some bio\"));\n    }).toThrow('Column \"bio\" is not indexed');\n  });\n\n  describe(\"type safety\", () => {\n    it(\"should restrict to only indexed columns at type level\", () => {\n      // This schema has \"bio\" column that is NOT indexed\n      const typeTestSchema = schema(\"typetest\", (s) =>\n        s.addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"email\", column(\"string\"))\n            .addColumn(\"name\", column(\"string\"))\n            .addColumn(\"age\", column(\"integer\").nullable())\n            .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed!\n            .createIndex(\"idx_email\", [\"email\"], { unique: true })\n            .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n        ),\n      );\n\n      type _IdColumnName = InferIdColumnName<typeof typeTestSchema.tables.users>;\n      expectTypeOf<_IdColumnName>().toEqualTypeOf<\"id\">();\n      type _IndexColumnNames = IndexColumns<\n        typeof typeTestSchema.tables.users.indexes.idx_name_age\n      >;\n      expectTypeOf<_IndexColumnNames>().toEqualTypeOf<\"name\" | \"age\">();\n\n      const baseUow = createUnitOfWork(\n        createMockCompiler(),\n        createMockExecutor(),\n        createMockDecoder(),\n      );\n      const uow = baseUow.forSchema(typeTestSchema);\n      expectTypeOf<keyof typeof typeTestSchema.tables>().toEqualTypeOf<\"users\">();\n      type _Query = SimpleQueryInterface<typeof typeTestSchema>;\n      expectTypeOf<Parameters<_Query[\"create\"]>[0]>().toEqualTypeOf<\"users\">();\n\n      expectTypeOf<Parameters<typeof uow.find>[0]>().toEqualTypeOf<\"users\">();\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"primary\", (eb) => {\n          type _EbFirstParameter = Parameters<typeof eb>[0];\n          expectTypeOf<_EbFirstParameter>().toEqualTypeOf<\"id\">();\n          return eb(\"id\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"email\">();\n          return eb(\"email\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_name_age\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"name\" | \"age\">();\n          return eb(\"name\", \"=\", \"123\");\n        }),\n      );\n    });\n  });\n});\n\ndescribe(\"UpdateBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow update with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }));\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops).toMatchObject([\n      {\n        type: \"update\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }).check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"DeleteBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow delete with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).delete(\"users\", \"user-123\");\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toMatchObject([\n      {\n        type: \"delete\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow.forSchema(testSchema).delete(\"users\", \"user-123\", (b) => b.check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"generateId\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should generate a new FragnoId without creating a record\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const id = uow.forSchema(testSchema).generateId(\"users\");\n\n    expect(id).toBeInstanceOf(FragnoId);\n    expect(id.externalId).toBeDefined();\n    expect(typeof id.externalId).toBe(\"string\");\n    expect(id.externalId.length).toBeGreaterThan(0);\n    expect(id.version).toBe(0);\n\n    // No mutation operations should be added\n    expect(uow.getMutationOperations()).toHaveLength(0);\n  });\n\n  it(\"should generate unique IDs on each call\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id1 = typedUow.generateId(\"users\");\n    const id2 = typedUow.generateId(\"users\");\n\n    expect(id1.externalId).not.toBe(id2.externalId);\n  });\n\n  it(\"should allow using generated ID in create\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id = typedUow.generateId(\"users\");\n    typedUow.create(\"users\", { id, email: \"test@example.com\", name: \"Test\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(id.externalId);\n  });\n\n  it(\"should throw for non-existent table\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      // @ts-expect-error - testing runtime error for non-existent table\n      uow.forSchema(testSchema).generateId(\"nonexistent\");\n    }).toThrow(\"Table nonexistent not found in schema\");\n  });\n});\n\ndescribe(\"getCreatedIds\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should return created IDs after executeMutations with internal IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[0].version).toBe(0);\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBe(2n);\n    expect(createdIds[1].version).toBe(0);\n  });\n\n  it(\"should return created IDs without internal IDs when not supported\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [null, null],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBeUndefined();\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBeUndefined();\n  });\n\n  it(\"should preserve user-provided external IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .create(\"users\", { id: \"my-custom-id\", email: \"user@example.com\", name: \"User\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(\"my-custom-id\");\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should only return IDs for create operations, not updates or deletes\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n    uow.forSchema(testSchema).update(\"users\", \"existing-id\", (b) => b.set({ name: \"Updated\" }));\n    uow.forSchema(testSchema).delete(\"users\", \"other-id\");\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    // Only one create operation, so only one ID returned\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should throw when called before executeMutations\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n\n    expect(() => uow.getCreatedIds()).toThrow(\n      \"getCreatedIds() can only be called after executeMutations()\",\n    );\n  });\n});\n\ndescribe(\"Phase promises with multiple views\", () => {\n  it(\"should return only operations added to the current view when using retrievalPhase promise\", async () => {\n    // Create two separate schemas\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    // Create a schema namespace map\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    // Mock executor that returns distinct results\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n          [{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    // Create parent UOW\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // Add a find operation via a schema1 view (but don't keep a reference to this view)\n    parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema1 and add another find operation\n    const view1 = parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema2 and add a find operation\n    const view2 = parentUow.forSchema(schema2).find(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval phase on parent\n    const parentResults = await parentUow.executeRetrieve();\n\n    // Parent should have all 3 results\n    expect(parentResults).toHaveLength(3);\n\n    // View1's retrievalPhase promise should only contain results from operations added through view1\n    // (which is index 1 in the parent's operations)\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n\n    // View2's retrievalPhase promise should only contain results from operations added through view2\n    // (which is index 2 in the parent's operations)\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }]);\n  });\n\n  it(\"should isolate operations when getUnitOfWork is called multiple times with same schema\", async () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      undefined,\n      \"test-uow\",\n    );\n\n    // Simulate what happens in db-fragment-definition-builder when getUnitOfWork(schema) is called twice\n    const view1 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const view2 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await parentUow.executeRetrieve();\n\n    // Each view should only see its own operation's results\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }]);\n\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n  });\n\n  it(\"should show that getCreatedIds returns ALL created IDs regardless of which view created them\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates one user\n    const view1 = parentUow.forSchema(schema1);\n    view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates one post\n    const view2 = parentUow.forSchema(schema2);\n    view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Both views see ALL created IDs (not filtered by view)\n    const view1Ids = view1.getCreatedIds();\n    const view2Ids = view2.getCreatedIds();\n\n    expect(view1Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n    expect(view2Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n\n    // They're the same array\n    expect(view1Ids).toEqual(view2Ids);\n  });\n\n  it(\"should generate unique IDs when multiple views create items\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates a user\n    const view1 = parentUow.forSchema(schema1);\n    const userId = view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates a post\n    const view2 = parentUow.forSchema(schema2);\n    const postId = view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // IDs should be unique before execution\n    expect(userId.externalId).not.toBe(postId.externalId);\n    expect(userId.externalId).toBeTruthy();\n    expect(postId.externalId).toBeTruthy();\n    expect(userId.internalId).toBeUndefined();\n    expect(postId.internalId).toBeUndefined();\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Get the created IDs after execution\n    const createdIds = parentUow.getCreatedIds();\n    expect(createdIds).toHaveLength(2);\n\n    // Both should have external IDs set (from create operation)\n    expect(createdIds[0].externalId).toBe(userId.externalId);\n    expect(createdIds[1].externalId).toBe(postId.externalId);\n\n    // Both should now have internal IDs (from database)\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[1].internalId).toBe(2n);\n\n    // IDs should still be unique\n    expect(createdIds[0].externalId).not.toBe(createdIds[1].externalId);\n  });\n});\n\ndescribe(\"Instrumentation\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should run instrumentation hooks around retrieve and mutate phases\", async () => {\n    const calls: string[] = [];\n    const contexts: Array<{\n      phase: string;\n      idempotencyKey: string;\n      retrievalOpsCount: number;\n      mutationOpsCount: number;\n    }> = [];\n\n    const executor = {\n      executeRetrievalPhase: async () => [[]],\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: (ctx) => {\n          calls.push(\"beforeRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterRetrieve: (ctx) => {\n          calls.push(\"afterRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        beforeMutate: (ctx) => {\n          calls.push(\"beforeMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n    });\n\n    const typed = uow.forSchema(testSchema);\n    typed.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    typed.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await uow.executeRetrieve();\n    await uow.executeMutations();\n\n    expect(calls).toEqual([\"beforeRetrieve\", \"afterRetrieve\", \"beforeMutate\", \"afterMutate\"]);\n\n    for (const ctx of contexts) {\n      expect(ctx.idempotencyKey).toBeTypeOf(\"string\");\n      expect(ctx.idempotencyKey.length).toBeGreaterThan(0);\n      expect(ctx.retrievalOpsCount).toBe(1);\n      expect(ctx.mutationOpsCount).toBe(1);\n    }\n  });\n\n  it(\"should short-circuit mutations on conflict injection\", async () => {\n    let mutationExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        mutationExecuted = true;\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n        afterMutate: () => {\n          throw new Error(\"afterMutate should not run\");\n        },\n      },\n    });\n\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    const result = await uow.executeMutations();\n    expect(result.success).toBe(false);\n    expect(mutationExecuted).toBe(false);\n  });\n\n  it(\"should throw on error injection before retrieval\", async () => {\n    let retrievalExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        retrievalExecuted = true;\n        return [];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });\n\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Injected failure\");\n    expect(retrievalExecuted).toBe(false);\n  });\n});\n\ndescribe(\"Error Handling\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should throw error from executeRetrieve() when retrieval fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Database connection failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Database connection failed\");\n  });\n\n  it(\"should throw error from executeMutations() when mutation fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Write conflict\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await expect(uow.executeMutations()).rejects.toThrow(\"Write conflict\");\n  });\n\n  it(\"should reject retrievalPhase promise when executeRetrieve() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Query timeout\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeRetrieve().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.retrievalPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n\n    // uow.retrievalPhase should not be settled yet\n\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Query timeout\");\n  });\n\n  it(\"should reject mutationPhase promise when executeMutations() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Constraint violation\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeMutations().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.mutationPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Constraint violation\");\n  });\n\n  it(\"should not cause unhandled promise rejection when executeRetrieve() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Table does not exist\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Access the retrievalPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _retrievalPhase = uow.retrievalPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeRetrieve()\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Table does not exist\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should not cause unhandled promise rejection when executeMutations() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Deadlock detected\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Access the mutationPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _mutationPhase = uow.mutationPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeMutations()\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Deadlock detected\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeRetrieve() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Connection lost\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Don't access retrievalPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Connection lost\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeMutations() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Transaction aborted\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Don't access mutationPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n    // Execute and catch the error\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Transaction aborted\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after retrieval error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"First attempt failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First attempt failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getRetrievalOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after mutation error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"First mutation failed\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First mutation failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getMutationOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should support standalone check() operation\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    // Create a FragnoId for testing\n    const userId = FragnoId.fromExternal(\"user-123\", 5);\n\n    typedUow.check(\"users\", userId);\n\n    const mutationOps = uow.getMutationOperations();\n    expect(mutationOps).toHaveLength(1);\n\n    const checkOp = mutationOps[0];\n    assert(checkOp);\n    assert(checkOp.type === \"check\");\n    expect(checkOp.table).toBe(\"users\");\n    expect(checkOp.id).toBe(userId);\n  });\n});\n\ndescribe(\"findFirst convenience method\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s\n      .addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"email\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"])\n          .createIndex(\"idx_name\", [\"name\"]),\n      )\n      .addTable(\"posts\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"userId\", \"string\")\n          .addColumn(\"title\", \"string\")\n          .createIndex(\"idx_user\", [\"userId\"]),\n      ),\n  );\n\n  it(\"should return a single result instead of an array\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // Use findFirst instead of find\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n\n    // Result should be a single object, not an array\n    const [user] = results;\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should return null when no results are found\", async () => {\n    // Create executor that returns empty results\n    const emptyExecutor = {\n      executeRetrievalPhase: async () => {\n        return [[]]; // Empty array for no results\n      },\n      executeMutationPhase: async () => {\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), emptyExecutor, createMockDecoder());\n\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    // Should be null when no results\n    expect(user).toBeNull();\n  });\n\n  it(\"should automatically set pageSize to 1\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Check that pageSize was set to 1 in the operation\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"find\");\n    if (ops[0]?.type === \"find\") {\n      expect(ops[0].options.pageSize).toBe(1);\n    }\n  });\n\n  it(\"should work with custom select clause\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\").select([\"id\", \"name\"] as const));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toBeDefined();\n    expect(user).not.toBeNull();\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\" });\n  });\n\n  it(\"should work with where conditions\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" });\n  });\n\n  it(\"should handle multiple findFirst operations in the same UOW\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [{ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\"))\n      .findFirst(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, post] = results;\n\n    // Both should be single objects, not arrays\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(post).toEqual({ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" });\n    expect(Array.isArray(user)).toBe(false);\n    expect(Array.isArray(post)).toBe(false);\n  });\n\n  it(\"should handle mix of find and findFirst operations\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [\n            { id: \"post-1\", userId: \"user-1\", title: \"Post 1\" },\n            { id: \"post-2\", userId: \"user-1\", title: \"Post 2\" },\n          ],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\")) // Single result\n      .find(\"posts\", (b) => b.whereIndex(\"primary\")); // Array of results\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, posts] = results;\n\n    // User should be a single object\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Posts should be an array\n    expect(Array.isArray(posts)).toBe(true);\n    expect(posts).toHaveLength(2);\n  });\n\n  it(\"should work with orderByIndex\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"idx_name\").orderByIndex(\"idx_name\", \"asc\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should work without explicit builder function\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // findFirst without builder function should use primary index by default\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\");\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Verify the operation used the primary index\n    const ops = uow.getRetrievalOperations();\n    expect(ops[0]?.indexName).toBe(\"_primary\");\n  });\n});\n","structuredPatch":[{"oldStart":1279,"oldLines":10,"newStart":1279,"newLines":23,"lines":["       executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),","     };"," ","-    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {","-      instrumentation: {","-        beforeRetrieve: (ctx) => {","-          calls.push(\"beforeRetrieve\");","+    const uow = new UnitOfWork({","+      compiler: createMockCompiler(),","+      executor,","+      decoder: createMockDecoder(),","+      config: {","+        instrumentation: {","+          beforeRetrieve: (ctx) => {","+            calls.push(\"beforeRetrieve\");","+            contexts.push({","+              phase: ctx.phase,","+              idempotencyKey: ctx.idempotencyKey,","+              retrievalOpsCount: ctx.retrievalOpsCount,","+              mutationOpsCount: ctx.mutationOpsCount,","+            });","+          },","+          afterRetrieve: (ctx) => {","+            calls.push(\"afterRetrieve\");","           contexts.push({","             phase: ctx.phase,","             idempotencyKey: ctx.idempotencyKey,"]},{"oldStart":1290,"oldLines":15,"newStart":1303,"newLines":6,"lines":["             mutationOpsCount: ctx.mutationOpsCount,","           });","         },","-        afterRetrieve: (ctx) => {","-          calls.push(\"afterRetrieve\");","-          contexts.push({","-            phase: ctx.phase,","-            idempotencyKey: ctx.idempotencyKey,","-            retrievalOpsCount: ctx.retrievalOpsCount,","-            mutationOpsCount: ctx.mutationOpsCount,","-          });","-        },","         beforeMutate: (ctx) => {","           calls.push(\"beforeMutate\");","           contexts.push({"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"d448f4fc-a7e2-4e4e-acb8-2050416c243b"}
{"parentUuid":"59ddb424-12cf-43c9-bd0a-f63c2a224718","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01K6kWxLqJHNEXjFXStMnfNA","type":"message","role":"assistant","content":[{"type":"text","text":"Now I need to find where this first instrumentation block ends to close the `config:` wrapper. Let me read the area:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":527,"cache_read_input_tokens":68147,"cache_creation":{"ephemeral_5m_input_tokens":527,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43qHtfCwWgydjViNZXB","type":"assistant","uuid":"d62c5044-7a42-47ce-8b16-ec15f1ed3afb","timestamp":"2026-02-12T10:53:10.572Z"}
{"parentUuid":"d62c5044-7a42-47ce-8b16-ec15f1ed3afb","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01K6kWxLqJHNEXjFXStMnfNA","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_016TYy4YHfVR84BSDAAwpMMJ","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","offset":1282,"limit":70}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":527,"cache_read_input_tokens":68147,"cache_creation":{"ephemeral_5m_input_tokens":527,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43qHtfCwWgydjViNZXB","type":"assistant","uuid":"fd64c8bb-4a52-4a42-9a02-077b14f6b0d1","timestamp":"2026-02-12T10:53:11.399Z"}
{"parentUuid":"fd64c8bb-4a52-4a42-9a02-077b14f6b0d1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_016TYy4YHfVR84BSDAAwpMMJ","toolUseID":"toolu_016TYy4YHfVR84BSDAAwpMMJ","timestamp":"2026-02-12T10:53:11.403Z","uuid":"86db31a5-9d4e-4010-a1b8-e5749e2fb906"}
{"parentUuid":"fd64c8bb-4a52-4a42-9a02-077b14f6b0d1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_016TYy4YHfVR84BSDAAwpMMJ","type":"tool_result","content":"  1282→    const uow = new UnitOfWork({\n  1283→      compiler: createMockCompiler(),\n  1284→      executor,\n  1285→      decoder: createMockDecoder(),\n  1286→      config: {\n  1287→        instrumentation: {\n  1288→          beforeRetrieve: (ctx) => {\n  1289→            calls.push(\"beforeRetrieve\");\n  1290→            contexts.push({\n  1291→              phase: ctx.phase,\n  1292→              idempotencyKey: ctx.idempotencyKey,\n  1293→              retrievalOpsCount: ctx.retrievalOpsCount,\n  1294→              mutationOpsCount: ctx.mutationOpsCount,\n  1295→            });\n  1296→          },\n  1297→          afterRetrieve: (ctx) => {\n  1298→            calls.push(\"afterRetrieve\");\n  1299→          contexts.push({\n  1300→            phase: ctx.phase,\n  1301→            idempotencyKey: ctx.idempotencyKey,\n  1302→            retrievalOpsCount: ctx.retrievalOpsCount,\n  1303→            mutationOpsCount: ctx.mutationOpsCount,\n  1304→          });\n  1305→        },\n  1306→        beforeMutate: (ctx) => {\n  1307→          calls.push(\"beforeMutate\");\n  1308→          contexts.push({\n  1309→            phase: ctx.phase,\n  1310→            idempotencyKey: ctx.idempotencyKey,\n  1311→            retrievalOpsCount: ctx.retrievalOpsCount,\n  1312→            mutationOpsCount: ctx.mutationOpsCount,\n  1313→          });\n  1314→        },\n  1315→        afterMutate: (ctx) => {\n  1316→          calls.push(\"afterMutate\");\n  1317→          contexts.push({\n  1318→            phase: ctx.phase,\n  1319→            idempotencyKey: ctx.idempotencyKey,\n  1320→            retrievalOpsCount: ctx.retrievalOpsCount,\n  1321→            mutationOpsCount: ctx.mutationOpsCount,\n  1322→          });\n  1323→        },\n  1324→      },\n  1325→    });\n  1326→\n  1327→    const typed = uow.forSchema(testSchema);\n  1328→    typed.find(\"users\", (b) => b.whereIndex(\"primary\"));\n  1329→    typed.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n  1330→\n  1331→    await uow.executeRetrieve();\n  1332→    await uow.executeMutations();\n  1333→\n  1334→    expect(calls).toEqual([\"beforeRetrieve\", \"afterRetrieve\", \"beforeMutate\", \"afterMutate\"]);\n  1335→\n  1336→    for (const ctx of contexts) {\n  1337→      expect(ctx.idempotencyKey).toBeTypeOf(\"string\");\n  1338→      expect(ctx.idempotencyKey.length).toBeGreaterThan(0);\n  1339→      expect(ctx.retrievalOpsCount).toBe(1);\n  1340→      expect(ctx.mutationOpsCount).toBe(1);\n  1341→    }\n  1342→  });\n  1343→\n  1344→  it(\"should short-circuit mutations on conflict injection\", async () => {\n  1345→    let mutationExecuted = false;\n  1346→\n  1347→    const executor = {\n  1348→      executeRetrievalPhase: async () => [],\n  1349→      executeMutationPhase: async () => {\n  1350→        mutationExecuted = true;\n  1351→        return { success: true, createdInternalIds: [] };"}]},"uuid":"29afafeb-54a5-4875-8c0a-8b7740988701","timestamp":"2026-02-12T10:53:11.403Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","content":"    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: (ctx) => {\n            calls.push(\"beforeRetrieve\");\n            contexts.push({\n              phase: ctx.phase,\n              idempotencyKey: ctx.idempotencyKey,\n              retrievalOpsCount: ctx.retrievalOpsCount,\n              mutationOpsCount: ctx.mutationOpsCount,\n            });\n          },\n          afterRetrieve: (ctx) => {\n            calls.push(\"afterRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        beforeMutate: (ctx) => {\n          calls.push(\"beforeMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n    });\n\n    const typed = uow.forSchema(testSchema);\n    typed.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    typed.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await uow.executeRetrieve();\n    await uow.executeMutations();\n\n    expect(calls).toEqual([\"beforeRetrieve\", \"afterRetrieve\", \"beforeMutate\", \"afterMutate\"]);\n\n    for (const ctx of contexts) {\n      expect(ctx.idempotencyKey).toBeTypeOf(\"string\");\n      expect(ctx.idempotencyKey.length).toBeGreaterThan(0);\n      expect(ctx.retrievalOpsCount).toBe(1);\n      expect(ctx.mutationOpsCount).toBe(1);\n    }\n  });\n\n  it(\"should short-circuit mutations on conflict injection\", async () => {\n    let mutationExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        mutationExecuted = true;\n        return { success: true, createdInternalIds: [] };","numLines":70,"startLine":1282,"totalLines":1916}},"sourceToolAssistantUUID":"fd64c8bb-4a52-4a42-9a02-077b14f6b0d1"}
{"parentUuid":"29afafeb-54a5-4875-8c0a-8b7740988701","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01MAAiiwHnyyf2VqvXBxTS5G","type":"message","role":"assistant","content":[{"type":"text","text":"I see the issue — the closing braces don't match. The old code had `});` closing the instrumentation object, but now I need an extra `}` for the `config` wrapper. Let me fix by replacing the specific malformed block:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1558,"cache_read_input_tokens":68674,"cache_creation":{"ephemeral_5m_input_tokens":1558,"ephemeral_1h_input_tokens":0},"output_tokens":5,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43qabkSxEjebjZeSoZu","type":"assistant","uuid":"04098587-66e4-42fd-844a-8fcf51645d59","timestamp":"2026-02-12T10:53:15.299Z"}
{"parentUuid":"04098587-66e4-42fd-844a-8fcf51645d59","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01MAAiiwHnyyf2VqvXBxTS5G","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Dh1hs71wyjecMk8tPrJenW","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","old_string":"        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n    });","new_string":"        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n      },\n    });"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1558,"cache_read_input_tokens":68674,"output_tokens":393,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":1558},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43qabkSxEjebjZeSoZu","type":"assistant","uuid":"08e7c094-cdb7-4a65-827c-6c412df1fa5a","timestamp":"2026-02-12T10:53:18.127Z"}
{"parentUuid":"08e7c094-cdb7-4a65-827c-6c412df1fa5a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01Dh1hs71wyjecMk8tPrJenW","toolUseID":"toolu_01Dh1hs71wyjecMk8tPrJenW","timestamp":"2026-02-12T10:53:18.143Z","uuid":"9bb4e1ab-4600-4301-a56a-dfdfcdead985"}
{"parentUuid":"08e7c094-cdb7-4a65-827c-6c412df1fa5a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Dh1hs71wyjecMk8tPrJenW","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts has been updated successfully."}]},"uuid":"a7807ec7-1c0e-441c-a5fe-a4d7c63f9f42","timestamp":"2026-02-12T10:53:18.142Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","oldString":"        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n    });","newString":"        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n      },\n    });","originalFile":"import { describe, it, expect, assert, expectTypeOf } from \"vitest\";\nimport { column, schema, idColumn, FragnoId } from \"../../schema/create\";\nimport {\n  type UOWCompiler,\n  type UOWDecoder,\n  createUnitOfWork,\n  UnitOfWork,\n  type InferIdColumnName,\n  type IndexColumns,\n} from \"./unit-of-work\";\nimport { createIndexedBuilder } from \"../condition-builder\";\nimport type { SimpleQueryInterface } from \"../simple-query-interface\";\n\n// Mock compiler and executor for testing\nfunction createMockCompiler(): UOWCompiler<unknown> {\n  return {\n    compileRetrievalOperation: () => null,\n    compileMutationOperation: () => null,\n  };\n}\n\nfunction createMockExecutor() {\n  return {\n    executeRetrievalPhase: async () => [],\n    executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n  };\n}\n\nfunction createMockDecoder(): UOWDecoder {\n  return {\n    decode(rawResults, operations) {\n      if (rawResults.length !== operations.length) {\n        throw new Error(\"rawResults and operations must have the same length\");\n      }\n      return rawResults;\n    },\n  };\n}\n\ndescribe(\"FindBuilder\", () => {\n  it(\"should support primary index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"age\", \"integer\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true })\n          .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"_primary\");\n  });\n\n  it(\"should support custom indexes\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true }),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"idx_email\");\n  });\n\n  it(\"should support cursor-based pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").after(cursor).pageSize(10));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.after).toBe(cursor);\n    expect(op.options.pageSize).toBe(10);\n  });\n\n  it(\"should support backward cursor pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").before(cursor).pageSize(5));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.before).toBe(cursor);\n    expect(op.options.pageSize).toBe(5);\n  });\n\n  it(\"should throw RangeError for pageSize <= 0\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(0));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-1));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-10));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw RangeError for non-integer pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(1.5));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(3.14));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(NaN));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(Infinity));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw if index doesn't exist\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"nonexistent\" as \"primary\"));\n    }).toThrow('Index \"nonexistent\" not found on table \"users\"');\n  });\n\n  it(\"should throw if finalized without index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b);\n    }).toThrow(\n      'Must specify an index using .whereIndex() before finalizing find operation on table \"users\"',\n    );\n  });\n\n  it(\"should support count operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"age\", \"integer\"),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").selectCount());\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"count\");\n  });\n\n  it(\"should throw when using both select and selectCount\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // select() then selectCount()\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").select([\"name\"]).selectCount());\n    }).toThrow(/cannot call selectCount/i);\n\n    // selectCount() then select()\n    const uow2 = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow2\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").selectCount().select([\"name\"]));\n    }).toThrow(/cannot call select/i);\n  });\n\n  it(\"should support orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"createdAt\", \"integer\")\n          .createIndex(\"idx_created\", [\"createdAt\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").orderByIndex(\"idx_created\", \"desc\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    if (op?.type === \"find\") {\n      expect(op.options.orderByIndex).toEqual({\n        indexName: \"idx_created\",\n        direction: \"desc\",\n      });\n    } else {\n      throw new Error(\"Expected find operation\");\n    }\n  });\n\n  it(\"should support join operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.select([\"name\"]))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n  });\n\n  it(\"should support join operations without builder function\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Join without builder function should use default options\n    uow.forSchema(testSchema).find(\"posts\", (b) => b.whereIndex(\"primary\").join((jb) => jb.user()));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.select).toBe(true); // Should default to selecting all columns\n  });\n\n  it(\"should support join with whereIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .createIndex(\"idx_name\", [\"name\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"user\"]((builder) =>\n              builder.whereIndex(\"idx_name\", (eb) => eb(\"name\", \"=\", \"Alice\")).select([\"name\"]),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.where).toBeDefined();\n  });\n\n  it(\"should support join with orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .addColumn(\"createdAt\", \"integer\")\n            .createIndex(\"idx_created\", [\"createdAt\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) => jb[\"user\"]((builder) => builder.orderByIndex(\"idx_created\", \"desc\"))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.orderBy).toBeDefined();\n    expect(joinOptions.orderBy).toHaveLength(1);\n  });\n\n  it(\"should support join with pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(5))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.limit).toBe(5);\n  });\n\n  it(\"should throw RangeError for invalid pageSize in join\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(0))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(-5))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(2.5))),\n        );\n    }).toThrow(RangeError);\n  });\n\n  it(\"should support nested joins\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"authorId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"])\n            .createIndex(\"idx_author\", [\"authorId\"]),\n        )\n        .addTable(\"comments\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"postId\", column(\"string\"))\n            .addColumn(\"text\", \"string\")\n            .createIndex(\"idx_post\", [\"postId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        })\n        .addReference(\"post\", {\n          type: \"one\",\n          from: { table: \"comments\", column: \"postId\" },\n          to: { table: \"posts\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"comments\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"post\"]((postBuilder) =>\n              postBuilder\n                .select([\"title\"])\n                .join((jb2) => jb2[\"user\"]((userBuilder) => userBuilder.select([\"name\"]))),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n\n    const postJoin = op.options.joins![0]!;\n    assert(postJoin.options !== false);\n    expect(postJoin.options.join).toBeDefined();\n    expect(postJoin.options.join).toHaveLength(1);\n\n    const userJoin = postJoin.options.join![0]!;\n    assert(userJoin.options !== false);\n    expect(userJoin.relation.name).toBe(\"user\");\n  });\n});\n\ndescribe(\"IndexedConditionBuilder\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t\n        .addColumn(\"id\", idColumn())\n        .addColumn(\"email\", column(\"string\"))\n        .addColumn(\"name\", column(\"string\"))\n        .addColumn(\"age\", column(\"integer\").nullable())\n        .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed\n        .createIndex(\"_primary\", [\"id\"], { unique: true })\n        .createIndex(\"idx_email\", [\"email\"], { unique: true })\n        .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n    ),\n  );\n\n  const usersTable = testSchema.tables.users;\n\n  it(\"should enforce indexed columns at runtime\", () => {\n    // Collect all indexed column names from all indexes\n    const indexedColumns = new Set<string>();\n    for (const index of Object.values(usersTable.indexes)) {\n      for (const col of index.columns) {\n        indexedColumns.add(col.name);\n      }\n    }\n\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Should work with indexed columns\n    expect(() => builder(\"id\", \"=\", \"123\")).not.toThrow();\n    expect(() => builder(\"email\", \"=\", \"test@example.com\")).not.toThrow();\n    expect(() => builder(\"name\", \"=\", \"Alice\")).not.toThrow();\n    expect(() => builder(\"age\", \">\", 18)).not.toThrow();\n\n    // Should throw when using non-indexed column\n    expect(() => builder(\"bio\" as \"email\", \"=\", \"Some bio\")).toThrow('Column \"bio\" is not indexed');\n  });\n\n  it(\"should work with complex conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"name\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Complex AND condition with indexed columns\n    const condition = builder.and(\n      builder(\"name\", \"=\", \"Alice\"),\n      builder(\"age\", \">\", 18),\n      builder(\"email\", \"contains\", \"example\"),\n    );\n\n    expect(condition).toEqual({\n      type: \"and\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.name,\n          operator: \"=\",\n          b: \"Alice\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 18,\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"example\",\n        },\n      ],\n    });\n  });\n\n  it(\"should provide helpful error message listing available columns\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    expect(() => builder(\"name\" as \"email\", \"=\", \"Alice\")).toThrow(\n      \"Only indexed columns can be used in Unit of Work queries. Available indexed columns: id, email\",\n    );\n  });\n\n  it(\"should work with all builder helper methods\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // isNull\n    expect(() => builder.isNull(\"age\")).not.toThrow();\n    expect(() => builder.isNull(\"bio\" as \"age\")).toThrow('Column \"bio\" is not indexed');\n\n    // isNotNull\n    expect(() => builder.isNotNull(\"email\")).not.toThrow();\n    expect(() => builder.isNotNull(\"bio\" as \"email\")).toThrow('Column \"bio\" is not indexed');\n\n    // not\n    const notCondition = builder.not(builder(\"id\", \"=\", \"123\"));\n    expect(notCondition).toEqual({\n      type: \"not\",\n      item: {\n        type: \"compare\",\n        a: usersTable.columns.id,\n        operator: \"=\",\n        b: \"123\",\n      },\n    });\n\n    // or\n    const orCondition = builder.or(builder(\"email\", \"contains\", \"gmail\"), builder(\"age\", \">\", 30));\n    expect(orCondition).toEqual({\n      type: \"or\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"gmail\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 30,\n        },\n      ],\n    });\n  });\n\n  it(\"should enforce index restrictions in nested conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // This should throw because \"name\" is not indexed, even though it's nested\n    expect(() => {\n      builder.and(\n        builder(\"email\", \"=\", \"test@example.com\"),\n        builder(\"name\" as \"email\", \"=\", \"Alice\"),\n      );\n    }).toThrow('Column \"name\" is not indexed');\n\n    // This should throw because \"bio\" is not indexed, even in OR\n    expect(() => {\n      builder.or(builder(\"id\", \"=\", \"123\"), builder(\"bio\" as \"id\", \"=\", \"Some bio\"));\n    }).toThrow('Column \"bio\" is not indexed');\n  });\n\n  describe(\"type safety\", () => {\n    it(\"should restrict to only indexed columns at type level\", () => {\n      // This schema has \"bio\" column that is NOT indexed\n      const typeTestSchema = schema(\"typetest\", (s) =>\n        s.addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"email\", column(\"string\"))\n            .addColumn(\"name\", column(\"string\"))\n            .addColumn(\"age\", column(\"integer\").nullable())\n            .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed!\n            .createIndex(\"idx_email\", [\"email\"], { unique: true })\n            .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n        ),\n      );\n\n      type _IdColumnName = InferIdColumnName<typeof typeTestSchema.tables.users>;\n      expectTypeOf<_IdColumnName>().toEqualTypeOf<\"id\">();\n      type _IndexColumnNames = IndexColumns<\n        typeof typeTestSchema.tables.users.indexes.idx_name_age\n      >;\n      expectTypeOf<_IndexColumnNames>().toEqualTypeOf<\"name\" | \"age\">();\n\n      const baseUow = createUnitOfWork(\n        createMockCompiler(),\n        createMockExecutor(),\n        createMockDecoder(),\n      );\n      const uow = baseUow.forSchema(typeTestSchema);\n      expectTypeOf<keyof typeof typeTestSchema.tables>().toEqualTypeOf<\"users\">();\n      type _Query = SimpleQueryInterface<typeof typeTestSchema>;\n      expectTypeOf<Parameters<_Query[\"create\"]>[0]>().toEqualTypeOf<\"users\">();\n\n      expectTypeOf<Parameters<typeof uow.find>[0]>().toEqualTypeOf<\"users\">();\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"primary\", (eb) => {\n          type _EbFirstParameter = Parameters<typeof eb>[0];\n          expectTypeOf<_EbFirstParameter>().toEqualTypeOf<\"id\">();\n          return eb(\"id\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"email\">();\n          return eb(\"email\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_name_age\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"name\" | \"age\">();\n          return eb(\"name\", \"=\", \"123\");\n        }),\n      );\n    });\n  });\n});\n\ndescribe(\"UpdateBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow update with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }));\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops).toMatchObject([\n      {\n        type: \"update\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }).check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"DeleteBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow delete with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).delete(\"users\", \"user-123\");\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toMatchObject([\n      {\n        type: \"delete\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow.forSchema(testSchema).delete(\"users\", \"user-123\", (b) => b.check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"generateId\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should generate a new FragnoId without creating a record\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const id = uow.forSchema(testSchema).generateId(\"users\");\n\n    expect(id).toBeInstanceOf(FragnoId);\n    expect(id.externalId).toBeDefined();\n    expect(typeof id.externalId).toBe(\"string\");\n    expect(id.externalId.length).toBeGreaterThan(0);\n    expect(id.version).toBe(0);\n\n    // No mutation operations should be added\n    expect(uow.getMutationOperations()).toHaveLength(0);\n  });\n\n  it(\"should generate unique IDs on each call\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id1 = typedUow.generateId(\"users\");\n    const id2 = typedUow.generateId(\"users\");\n\n    expect(id1.externalId).not.toBe(id2.externalId);\n  });\n\n  it(\"should allow using generated ID in create\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id = typedUow.generateId(\"users\");\n    typedUow.create(\"users\", { id, email: \"test@example.com\", name: \"Test\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(id.externalId);\n  });\n\n  it(\"should throw for non-existent table\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      // @ts-expect-error - testing runtime error for non-existent table\n      uow.forSchema(testSchema).generateId(\"nonexistent\");\n    }).toThrow(\"Table nonexistent not found in schema\");\n  });\n});\n\ndescribe(\"getCreatedIds\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should return created IDs after executeMutations with internal IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[0].version).toBe(0);\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBe(2n);\n    expect(createdIds[1].version).toBe(0);\n  });\n\n  it(\"should return created IDs without internal IDs when not supported\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [null, null],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBeUndefined();\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBeUndefined();\n  });\n\n  it(\"should preserve user-provided external IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .create(\"users\", { id: \"my-custom-id\", email: \"user@example.com\", name: \"User\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(\"my-custom-id\");\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should only return IDs for create operations, not updates or deletes\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n    uow.forSchema(testSchema).update(\"users\", \"existing-id\", (b) => b.set({ name: \"Updated\" }));\n    uow.forSchema(testSchema).delete(\"users\", \"other-id\");\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    // Only one create operation, so only one ID returned\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should throw when called before executeMutations\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n\n    expect(() => uow.getCreatedIds()).toThrow(\n      \"getCreatedIds() can only be called after executeMutations()\",\n    );\n  });\n});\n\ndescribe(\"Phase promises with multiple views\", () => {\n  it(\"should return only operations added to the current view when using retrievalPhase promise\", async () => {\n    // Create two separate schemas\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    // Create a schema namespace map\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    // Mock executor that returns distinct results\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n          [{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    // Create parent UOW\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // Add a find operation via a schema1 view (but don't keep a reference to this view)\n    parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema1 and add another find operation\n    const view1 = parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema2 and add a find operation\n    const view2 = parentUow.forSchema(schema2).find(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval phase on parent\n    const parentResults = await parentUow.executeRetrieve();\n\n    // Parent should have all 3 results\n    expect(parentResults).toHaveLength(3);\n\n    // View1's retrievalPhase promise should only contain results from operations added through view1\n    // (which is index 1 in the parent's operations)\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n\n    // View2's retrievalPhase promise should only contain results from operations added through view2\n    // (which is index 2 in the parent's operations)\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }]);\n  });\n\n  it(\"should isolate operations when getUnitOfWork is called multiple times with same schema\", async () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      undefined,\n      \"test-uow\",\n    );\n\n    // Simulate what happens in db-fragment-definition-builder when getUnitOfWork(schema) is called twice\n    const view1 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const view2 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await parentUow.executeRetrieve();\n\n    // Each view should only see its own operation's results\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }]);\n\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n  });\n\n  it(\"should show that getCreatedIds returns ALL created IDs regardless of which view created them\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates one user\n    const view1 = parentUow.forSchema(schema1);\n    view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates one post\n    const view2 = parentUow.forSchema(schema2);\n    view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Both views see ALL created IDs (not filtered by view)\n    const view1Ids = view1.getCreatedIds();\n    const view2Ids = view2.getCreatedIds();\n\n    expect(view1Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n    expect(view2Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n\n    // They're the same array\n    expect(view1Ids).toEqual(view2Ids);\n  });\n\n  it(\"should generate unique IDs when multiple views create items\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates a user\n    const view1 = parentUow.forSchema(schema1);\n    const userId = view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates a post\n    const view2 = parentUow.forSchema(schema2);\n    const postId = view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // IDs should be unique before execution\n    expect(userId.externalId).not.toBe(postId.externalId);\n    expect(userId.externalId).toBeTruthy();\n    expect(postId.externalId).toBeTruthy();\n    expect(userId.internalId).toBeUndefined();\n    expect(postId.internalId).toBeUndefined();\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Get the created IDs after execution\n    const createdIds = parentUow.getCreatedIds();\n    expect(createdIds).toHaveLength(2);\n\n    // Both should have external IDs set (from create operation)\n    expect(createdIds[0].externalId).toBe(userId.externalId);\n    expect(createdIds[1].externalId).toBe(postId.externalId);\n\n    // Both should now have internal IDs (from database)\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[1].internalId).toBe(2n);\n\n    // IDs should still be unique\n    expect(createdIds[0].externalId).not.toBe(createdIds[1].externalId);\n  });\n});\n\ndescribe(\"Instrumentation\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should run instrumentation hooks around retrieve and mutate phases\", async () => {\n    const calls: string[] = [];\n    const contexts: Array<{\n      phase: string;\n      idempotencyKey: string;\n      retrievalOpsCount: number;\n      mutationOpsCount: number;\n    }> = [];\n\n    const executor = {\n      executeRetrievalPhase: async () => [[]],\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: (ctx) => {\n            calls.push(\"beforeRetrieve\");\n            contexts.push({\n              phase: ctx.phase,\n              idempotencyKey: ctx.idempotencyKey,\n              retrievalOpsCount: ctx.retrievalOpsCount,\n              mutationOpsCount: ctx.mutationOpsCount,\n            });\n          },\n          afterRetrieve: (ctx) => {\n            calls.push(\"afterRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        beforeMutate: (ctx) => {\n          calls.push(\"beforeMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n    });\n\n    const typed = uow.forSchema(testSchema);\n    typed.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    typed.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await uow.executeRetrieve();\n    await uow.executeMutations();\n\n    expect(calls).toEqual([\"beforeRetrieve\", \"afterRetrieve\", \"beforeMutate\", \"afterMutate\"]);\n\n    for (const ctx of contexts) {\n      expect(ctx.idempotencyKey).toBeTypeOf(\"string\");\n      expect(ctx.idempotencyKey.length).toBeGreaterThan(0);\n      expect(ctx.retrievalOpsCount).toBe(1);\n      expect(ctx.mutationOpsCount).toBe(1);\n    }\n  });\n\n  it(\"should short-circuit mutations on conflict injection\", async () => {\n    let mutationExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        mutationExecuted = true;\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n        afterMutate: () => {\n          throw new Error(\"afterMutate should not run\");\n        },\n      },\n    });\n\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    const result = await uow.executeMutations();\n    expect(result.success).toBe(false);\n    expect(mutationExecuted).toBe(false);\n  });\n\n  it(\"should throw on error injection before retrieval\", async () => {\n    let retrievalExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        retrievalExecuted = true;\n        return [];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });\n\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Injected failure\");\n    expect(retrievalExecuted).toBe(false);\n  });\n});\n\ndescribe(\"Error Handling\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should throw error from executeRetrieve() when retrieval fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Database connection failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Database connection failed\");\n  });\n\n  it(\"should throw error from executeMutations() when mutation fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Write conflict\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await expect(uow.executeMutations()).rejects.toThrow(\"Write conflict\");\n  });\n\n  it(\"should reject retrievalPhase promise when executeRetrieve() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Query timeout\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeRetrieve().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.retrievalPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n\n    // uow.retrievalPhase should not be settled yet\n\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Query timeout\");\n  });\n\n  it(\"should reject mutationPhase promise when executeMutations() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Constraint violation\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeMutations().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.mutationPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Constraint violation\");\n  });\n\n  it(\"should not cause unhandled promise rejection when executeRetrieve() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Table does not exist\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Access the retrievalPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _retrievalPhase = uow.retrievalPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeRetrieve()\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Table does not exist\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should not cause unhandled promise rejection when executeMutations() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Deadlock detected\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Access the mutationPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _mutationPhase = uow.mutationPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeMutations()\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Deadlock detected\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeRetrieve() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Connection lost\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Don't access retrievalPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Connection lost\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeMutations() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Transaction aborted\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Don't access mutationPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n    // Execute and catch the error\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Transaction aborted\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after retrieval error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"First attempt failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First attempt failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getRetrievalOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after mutation error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"First mutation failed\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First mutation failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getMutationOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should support standalone check() operation\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    // Create a FragnoId for testing\n    const userId = FragnoId.fromExternal(\"user-123\", 5);\n\n    typedUow.check(\"users\", userId);\n\n    const mutationOps = uow.getMutationOperations();\n    expect(mutationOps).toHaveLength(1);\n\n    const checkOp = mutationOps[0];\n    assert(checkOp);\n    assert(checkOp.type === \"check\");\n    expect(checkOp.table).toBe(\"users\");\n    expect(checkOp.id).toBe(userId);\n  });\n});\n\ndescribe(\"findFirst convenience method\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s\n      .addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"email\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"])\n          .createIndex(\"idx_name\", [\"name\"]),\n      )\n      .addTable(\"posts\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"userId\", \"string\")\n          .addColumn(\"title\", \"string\")\n          .createIndex(\"idx_user\", [\"userId\"]),\n      ),\n  );\n\n  it(\"should return a single result instead of an array\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // Use findFirst instead of find\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n\n    // Result should be a single object, not an array\n    const [user] = results;\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should return null when no results are found\", async () => {\n    // Create executor that returns empty results\n    const emptyExecutor = {\n      executeRetrievalPhase: async () => {\n        return [[]]; // Empty array for no results\n      },\n      executeMutationPhase: async () => {\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), emptyExecutor, createMockDecoder());\n\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    // Should be null when no results\n    expect(user).toBeNull();\n  });\n\n  it(\"should automatically set pageSize to 1\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Check that pageSize was set to 1 in the operation\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"find\");\n    if (ops[0]?.type === \"find\") {\n      expect(ops[0].options.pageSize).toBe(1);\n    }\n  });\n\n  it(\"should work with custom select clause\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\").select([\"id\", \"name\"] as const));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toBeDefined();\n    expect(user).not.toBeNull();\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\" });\n  });\n\n  it(\"should work with where conditions\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" });\n  });\n\n  it(\"should handle multiple findFirst operations in the same UOW\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [{ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\"))\n      .findFirst(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, post] = results;\n\n    // Both should be single objects, not arrays\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(post).toEqual({ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" });\n    expect(Array.isArray(user)).toBe(false);\n    expect(Array.isArray(post)).toBe(false);\n  });\n\n  it(\"should handle mix of find and findFirst operations\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [\n            { id: \"post-1\", userId: \"user-1\", title: \"Post 1\" },\n            { id: \"post-2\", userId: \"user-1\", title: \"Post 2\" },\n          ],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\")) // Single result\n      .find(\"posts\", (b) => b.whereIndex(\"primary\")); // Array of results\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, posts] = results;\n\n    // User should be a single object\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Posts should be an array\n    expect(Array.isArray(posts)).toBe(true);\n    expect(posts).toHaveLength(2);\n  });\n\n  it(\"should work with orderByIndex\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"idx_name\").orderByIndex(\"idx_name\", \"asc\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should work without explicit builder function\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // findFirst without builder function should use primary index by default\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\");\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Verify the operation used the primary index\n    const ops = uow.getRetrievalOperations();\n    expect(ops[0]?.indexName).toBe(\"_primary\");\n  });\n});\n","structuredPatch":[{"oldStart":1322,"oldLines":6,"newStart":1322,"newLines":7,"lines":["           });","         },","       },","+      },","     });"," ","     const typed = uow.forSchema(testSchema);"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"08e7c094-cdb7-4a65-827c-6c412df1fa5a"}
{"parentUuid":"a7807ec7-1c0e-441c-a5fe-a4d7c63f9f42","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01JWR4H6tWo74kPuU2ycnsNg","type":"message","role":"assistant","content":[{"type":"text","text":"Now update the other two test call sites:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":448,"cache_read_input_tokens":70232,"cache_creation":{"ephemeral_5m_input_tokens":448,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43r5K9Pu6VVSFfymkxi","type":"assistant","uuid":"fc870400-d937-4ff4-b438-25b7780bd884","timestamp":"2026-02-12T10:53:20.239Z"}
{"parentUuid":"fc870400-d937-4ff4-b438-25b7780bd884","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01JWR4H6tWo74kPuU2ycnsNg","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01CZsvVXBWhVY1qu2NHN8Jva","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","old_string":"    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n        afterMutate: () => {\n          throw new Error(\"afterMutate should not run\");\n        },\n      },\n    });","new_string":"    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n          afterMutate: () => {\n            throw new Error(\"afterMutate should not run\");\n          },\n        },\n      },\n    });"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":448,"cache_read_input_tokens":70232,"output_tokens":351,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":448},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43r5K9Pu6VVSFfymkxi","type":"assistant","uuid":"0c7cf013-6d4b-4bc6-8411-6028f6e9d369","timestamp":"2026-02-12T10:53:23.096Z"}
{"parentUuid":"0c7cf013-6d4b-4bc6-8411-6028f6e9d369","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01CZsvVXBWhVY1qu2NHN8Jva","toolUseID":"toolu_01CZsvVXBWhVY1qu2NHN8Jva","timestamp":"2026-02-12T10:53:23.104Z","uuid":"32e24463-8c96-4a18-b16c-d1b6fb4a6267"}
{"parentUuid":"0c7cf013-6d4b-4bc6-8411-6028f6e9d369","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01CZsvVXBWhVY1qu2NHN8Jva","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts has been updated successfully."}]},"uuid":"330a778b-76f4-4298-b180-5873ba8dd46a","timestamp":"2026-02-12T10:53:23.103Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","oldString":"    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n        afterMutate: () => {\n          throw new Error(\"afterMutate should not run\");\n        },\n      },\n    });","newString":"    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n          afterMutate: () => {\n            throw new Error(\"afterMutate should not run\");\n          },\n        },\n      },\n    });","originalFile":"import { describe, it, expect, assert, expectTypeOf } from \"vitest\";\nimport { column, schema, idColumn, FragnoId } from \"../../schema/create\";\nimport {\n  type UOWCompiler,\n  type UOWDecoder,\n  createUnitOfWork,\n  UnitOfWork,\n  type InferIdColumnName,\n  type IndexColumns,\n} from \"./unit-of-work\";\nimport { createIndexedBuilder } from \"../condition-builder\";\nimport type { SimpleQueryInterface } from \"../simple-query-interface\";\n\n// Mock compiler and executor for testing\nfunction createMockCompiler(): UOWCompiler<unknown> {\n  return {\n    compileRetrievalOperation: () => null,\n    compileMutationOperation: () => null,\n  };\n}\n\nfunction createMockExecutor() {\n  return {\n    executeRetrievalPhase: async () => [],\n    executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n  };\n}\n\nfunction createMockDecoder(): UOWDecoder {\n  return {\n    decode(rawResults, operations) {\n      if (rawResults.length !== operations.length) {\n        throw new Error(\"rawResults and operations must have the same length\");\n      }\n      return rawResults;\n    },\n  };\n}\n\ndescribe(\"FindBuilder\", () => {\n  it(\"should support primary index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"age\", \"integer\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true })\n          .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"_primary\");\n  });\n\n  it(\"should support custom indexes\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true }),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"idx_email\");\n  });\n\n  it(\"should support cursor-based pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").after(cursor).pageSize(10));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.after).toBe(cursor);\n    expect(op.options.pageSize).toBe(10);\n  });\n\n  it(\"should support backward cursor pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").before(cursor).pageSize(5));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.before).toBe(cursor);\n    expect(op.options.pageSize).toBe(5);\n  });\n\n  it(\"should throw RangeError for pageSize <= 0\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(0));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-1));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-10));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw RangeError for non-integer pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(1.5));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(3.14));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(NaN));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(Infinity));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw if index doesn't exist\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"nonexistent\" as \"primary\"));\n    }).toThrow('Index \"nonexistent\" not found on table \"users\"');\n  });\n\n  it(\"should throw if finalized without index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b);\n    }).toThrow(\n      'Must specify an index using .whereIndex() before finalizing find operation on table \"users\"',\n    );\n  });\n\n  it(\"should support count operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"age\", \"integer\"),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").selectCount());\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"count\");\n  });\n\n  it(\"should throw when using both select and selectCount\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // select() then selectCount()\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").select([\"name\"]).selectCount());\n    }).toThrow(/cannot call selectCount/i);\n\n    // selectCount() then select()\n    const uow2 = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow2\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").selectCount().select([\"name\"]));\n    }).toThrow(/cannot call select/i);\n  });\n\n  it(\"should support orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"createdAt\", \"integer\")\n          .createIndex(\"idx_created\", [\"createdAt\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").orderByIndex(\"idx_created\", \"desc\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    if (op?.type === \"find\") {\n      expect(op.options.orderByIndex).toEqual({\n        indexName: \"idx_created\",\n        direction: \"desc\",\n      });\n    } else {\n      throw new Error(\"Expected find operation\");\n    }\n  });\n\n  it(\"should support join operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.select([\"name\"]))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n  });\n\n  it(\"should support join operations without builder function\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Join without builder function should use default options\n    uow.forSchema(testSchema).find(\"posts\", (b) => b.whereIndex(\"primary\").join((jb) => jb.user()));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.select).toBe(true); // Should default to selecting all columns\n  });\n\n  it(\"should support join with whereIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .createIndex(\"idx_name\", [\"name\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"user\"]((builder) =>\n              builder.whereIndex(\"idx_name\", (eb) => eb(\"name\", \"=\", \"Alice\")).select([\"name\"]),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.where).toBeDefined();\n  });\n\n  it(\"should support join with orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .addColumn(\"createdAt\", \"integer\")\n            .createIndex(\"idx_created\", [\"createdAt\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) => jb[\"user\"]((builder) => builder.orderByIndex(\"idx_created\", \"desc\"))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.orderBy).toBeDefined();\n    expect(joinOptions.orderBy).toHaveLength(1);\n  });\n\n  it(\"should support join with pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(5))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.limit).toBe(5);\n  });\n\n  it(\"should throw RangeError for invalid pageSize in join\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(0))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(-5))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(2.5))),\n        );\n    }).toThrow(RangeError);\n  });\n\n  it(\"should support nested joins\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"authorId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"])\n            .createIndex(\"idx_author\", [\"authorId\"]),\n        )\n        .addTable(\"comments\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"postId\", column(\"string\"))\n            .addColumn(\"text\", \"string\")\n            .createIndex(\"idx_post\", [\"postId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        })\n        .addReference(\"post\", {\n          type: \"one\",\n          from: { table: \"comments\", column: \"postId\" },\n          to: { table: \"posts\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"comments\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"post\"]((postBuilder) =>\n              postBuilder\n                .select([\"title\"])\n                .join((jb2) => jb2[\"user\"]((userBuilder) => userBuilder.select([\"name\"]))),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n\n    const postJoin = op.options.joins![0]!;\n    assert(postJoin.options !== false);\n    expect(postJoin.options.join).toBeDefined();\n    expect(postJoin.options.join).toHaveLength(1);\n\n    const userJoin = postJoin.options.join![0]!;\n    assert(userJoin.options !== false);\n    expect(userJoin.relation.name).toBe(\"user\");\n  });\n});\n\ndescribe(\"IndexedConditionBuilder\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t\n        .addColumn(\"id\", idColumn())\n        .addColumn(\"email\", column(\"string\"))\n        .addColumn(\"name\", column(\"string\"))\n        .addColumn(\"age\", column(\"integer\").nullable())\n        .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed\n        .createIndex(\"_primary\", [\"id\"], { unique: true })\n        .createIndex(\"idx_email\", [\"email\"], { unique: true })\n        .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n    ),\n  );\n\n  const usersTable = testSchema.tables.users;\n\n  it(\"should enforce indexed columns at runtime\", () => {\n    // Collect all indexed column names from all indexes\n    const indexedColumns = new Set<string>();\n    for (const index of Object.values(usersTable.indexes)) {\n      for (const col of index.columns) {\n        indexedColumns.add(col.name);\n      }\n    }\n\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Should work with indexed columns\n    expect(() => builder(\"id\", \"=\", \"123\")).not.toThrow();\n    expect(() => builder(\"email\", \"=\", \"test@example.com\")).not.toThrow();\n    expect(() => builder(\"name\", \"=\", \"Alice\")).not.toThrow();\n    expect(() => builder(\"age\", \">\", 18)).not.toThrow();\n\n    // Should throw when using non-indexed column\n    expect(() => builder(\"bio\" as \"email\", \"=\", \"Some bio\")).toThrow('Column \"bio\" is not indexed');\n  });\n\n  it(\"should work with complex conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"name\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Complex AND condition with indexed columns\n    const condition = builder.and(\n      builder(\"name\", \"=\", \"Alice\"),\n      builder(\"age\", \">\", 18),\n      builder(\"email\", \"contains\", \"example\"),\n    );\n\n    expect(condition).toEqual({\n      type: \"and\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.name,\n          operator: \"=\",\n          b: \"Alice\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 18,\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"example\",\n        },\n      ],\n    });\n  });\n\n  it(\"should provide helpful error message listing available columns\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    expect(() => builder(\"name\" as \"email\", \"=\", \"Alice\")).toThrow(\n      \"Only indexed columns can be used in Unit of Work queries. Available indexed columns: id, email\",\n    );\n  });\n\n  it(\"should work with all builder helper methods\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // isNull\n    expect(() => builder.isNull(\"age\")).not.toThrow();\n    expect(() => builder.isNull(\"bio\" as \"age\")).toThrow('Column \"bio\" is not indexed');\n\n    // isNotNull\n    expect(() => builder.isNotNull(\"email\")).not.toThrow();\n    expect(() => builder.isNotNull(\"bio\" as \"email\")).toThrow('Column \"bio\" is not indexed');\n\n    // not\n    const notCondition = builder.not(builder(\"id\", \"=\", \"123\"));\n    expect(notCondition).toEqual({\n      type: \"not\",\n      item: {\n        type: \"compare\",\n        a: usersTable.columns.id,\n        operator: \"=\",\n        b: \"123\",\n      },\n    });\n\n    // or\n    const orCondition = builder.or(builder(\"email\", \"contains\", \"gmail\"), builder(\"age\", \">\", 30));\n    expect(orCondition).toEqual({\n      type: \"or\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"gmail\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 30,\n        },\n      ],\n    });\n  });\n\n  it(\"should enforce index restrictions in nested conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // This should throw because \"name\" is not indexed, even though it's nested\n    expect(() => {\n      builder.and(\n        builder(\"email\", \"=\", \"test@example.com\"),\n        builder(\"name\" as \"email\", \"=\", \"Alice\"),\n      );\n    }).toThrow('Column \"name\" is not indexed');\n\n    // This should throw because \"bio\" is not indexed, even in OR\n    expect(() => {\n      builder.or(builder(\"id\", \"=\", \"123\"), builder(\"bio\" as \"id\", \"=\", \"Some bio\"));\n    }).toThrow('Column \"bio\" is not indexed');\n  });\n\n  describe(\"type safety\", () => {\n    it(\"should restrict to only indexed columns at type level\", () => {\n      // This schema has \"bio\" column that is NOT indexed\n      const typeTestSchema = schema(\"typetest\", (s) =>\n        s.addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"email\", column(\"string\"))\n            .addColumn(\"name\", column(\"string\"))\n            .addColumn(\"age\", column(\"integer\").nullable())\n            .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed!\n            .createIndex(\"idx_email\", [\"email\"], { unique: true })\n            .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n        ),\n      );\n\n      type _IdColumnName = InferIdColumnName<typeof typeTestSchema.tables.users>;\n      expectTypeOf<_IdColumnName>().toEqualTypeOf<\"id\">();\n      type _IndexColumnNames = IndexColumns<\n        typeof typeTestSchema.tables.users.indexes.idx_name_age\n      >;\n      expectTypeOf<_IndexColumnNames>().toEqualTypeOf<\"name\" | \"age\">();\n\n      const baseUow = createUnitOfWork(\n        createMockCompiler(),\n        createMockExecutor(),\n        createMockDecoder(),\n      );\n      const uow = baseUow.forSchema(typeTestSchema);\n      expectTypeOf<keyof typeof typeTestSchema.tables>().toEqualTypeOf<\"users\">();\n      type _Query = SimpleQueryInterface<typeof typeTestSchema>;\n      expectTypeOf<Parameters<_Query[\"create\"]>[0]>().toEqualTypeOf<\"users\">();\n\n      expectTypeOf<Parameters<typeof uow.find>[0]>().toEqualTypeOf<\"users\">();\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"primary\", (eb) => {\n          type _EbFirstParameter = Parameters<typeof eb>[0];\n          expectTypeOf<_EbFirstParameter>().toEqualTypeOf<\"id\">();\n          return eb(\"id\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"email\">();\n          return eb(\"email\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_name_age\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"name\" | \"age\">();\n          return eb(\"name\", \"=\", \"123\");\n        }),\n      );\n    });\n  });\n});\n\ndescribe(\"UpdateBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow update with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }));\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops).toMatchObject([\n      {\n        type: \"update\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }).check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"DeleteBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow delete with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).delete(\"users\", \"user-123\");\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toMatchObject([\n      {\n        type: \"delete\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow.forSchema(testSchema).delete(\"users\", \"user-123\", (b) => b.check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"generateId\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should generate a new FragnoId without creating a record\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const id = uow.forSchema(testSchema).generateId(\"users\");\n\n    expect(id).toBeInstanceOf(FragnoId);\n    expect(id.externalId).toBeDefined();\n    expect(typeof id.externalId).toBe(\"string\");\n    expect(id.externalId.length).toBeGreaterThan(0);\n    expect(id.version).toBe(0);\n\n    // No mutation operations should be added\n    expect(uow.getMutationOperations()).toHaveLength(0);\n  });\n\n  it(\"should generate unique IDs on each call\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id1 = typedUow.generateId(\"users\");\n    const id2 = typedUow.generateId(\"users\");\n\n    expect(id1.externalId).not.toBe(id2.externalId);\n  });\n\n  it(\"should allow using generated ID in create\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id = typedUow.generateId(\"users\");\n    typedUow.create(\"users\", { id, email: \"test@example.com\", name: \"Test\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(id.externalId);\n  });\n\n  it(\"should throw for non-existent table\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      // @ts-expect-error - testing runtime error for non-existent table\n      uow.forSchema(testSchema).generateId(\"nonexistent\");\n    }).toThrow(\"Table nonexistent not found in schema\");\n  });\n});\n\ndescribe(\"getCreatedIds\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should return created IDs after executeMutations with internal IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[0].version).toBe(0);\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBe(2n);\n    expect(createdIds[1].version).toBe(0);\n  });\n\n  it(\"should return created IDs without internal IDs when not supported\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [null, null],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBeUndefined();\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBeUndefined();\n  });\n\n  it(\"should preserve user-provided external IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .create(\"users\", { id: \"my-custom-id\", email: \"user@example.com\", name: \"User\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(\"my-custom-id\");\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should only return IDs for create operations, not updates or deletes\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n    uow.forSchema(testSchema).update(\"users\", \"existing-id\", (b) => b.set({ name: \"Updated\" }));\n    uow.forSchema(testSchema).delete(\"users\", \"other-id\");\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    // Only one create operation, so only one ID returned\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should throw when called before executeMutations\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n\n    expect(() => uow.getCreatedIds()).toThrow(\n      \"getCreatedIds() can only be called after executeMutations()\",\n    );\n  });\n});\n\ndescribe(\"Phase promises with multiple views\", () => {\n  it(\"should return only operations added to the current view when using retrievalPhase promise\", async () => {\n    // Create two separate schemas\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    // Create a schema namespace map\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    // Mock executor that returns distinct results\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n          [{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    // Create parent UOW\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // Add a find operation via a schema1 view (but don't keep a reference to this view)\n    parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema1 and add another find operation\n    const view1 = parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema2 and add a find operation\n    const view2 = parentUow.forSchema(schema2).find(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval phase on parent\n    const parentResults = await parentUow.executeRetrieve();\n\n    // Parent should have all 3 results\n    expect(parentResults).toHaveLength(3);\n\n    // View1's retrievalPhase promise should only contain results from operations added through view1\n    // (which is index 1 in the parent's operations)\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n\n    // View2's retrievalPhase promise should only contain results from operations added through view2\n    // (which is index 2 in the parent's operations)\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }]);\n  });\n\n  it(\"should isolate operations when getUnitOfWork is called multiple times with same schema\", async () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      undefined,\n      \"test-uow\",\n    );\n\n    // Simulate what happens in db-fragment-definition-builder when getUnitOfWork(schema) is called twice\n    const view1 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const view2 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await parentUow.executeRetrieve();\n\n    // Each view should only see its own operation's results\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }]);\n\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n  });\n\n  it(\"should show that getCreatedIds returns ALL created IDs regardless of which view created them\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates one user\n    const view1 = parentUow.forSchema(schema1);\n    view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates one post\n    const view2 = parentUow.forSchema(schema2);\n    view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Both views see ALL created IDs (not filtered by view)\n    const view1Ids = view1.getCreatedIds();\n    const view2Ids = view2.getCreatedIds();\n\n    expect(view1Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n    expect(view2Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n\n    // They're the same array\n    expect(view1Ids).toEqual(view2Ids);\n  });\n\n  it(\"should generate unique IDs when multiple views create items\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates a user\n    const view1 = parentUow.forSchema(schema1);\n    const userId = view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates a post\n    const view2 = parentUow.forSchema(schema2);\n    const postId = view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // IDs should be unique before execution\n    expect(userId.externalId).not.toBe(postId.externalId);\n    expect(userId.externalId).toBeTruthy();\n    expect(postId.externalId).toBeTruthy();\n    expect(userId.internalId).toBeUndefined();\n    expect(postId.internalId).toBeUndefined();\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Get the created IDs after execution\n    const createdIds = parentUow.getCreatedIds();\n    expect(createdIds).toHaveLength(2);\n\n    // Both should have external IDs set (from create operation)\n    expect(createdIds[0].externalId).toBe(userId.externalId);\n    expect(createdIds[1].externalId).toBe(postId.externalId);\n\n    // Both should now have internal IDs (from database)\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[1].internalId).toBe(2n);\n\n    // IDs should still be unique\n    expect(createdIds[0].externalId).not.toBe(createdIds[1].externalId);\n  });\n});\n\ndescribe(\"Instrumentation\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should run instrumentation hooks around retrieve and mutate phases\", async () => {\n    const calls: string[] = [];\n    const contexts: Array<{\n      phase: string;\n      idempotencyKey: string;\n      retrievalOpsCount: number;\n      mutationOpsCount: number;\n    }> = [];\n\n    const executor = {\n      executeRetrievalPhase: async () => [[]],\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: (ctx) => {\n            calls.push(\"beforeRetrieve\");\n            contexts.push({\n              phase: ctx.phase,\n              idempotencyKey: ctx.idempotencyKey,\n              retrievalOpsCount: ctx.retrievalOpsCount,\n              mutationOpsCount: ctx.mutationOpsCount,\n            });\n          },\n          afterRetrieve: (ctx) => {\n            calls.push(\"afterRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        beforeMutate: (ctx) => {\n          calls.push(\"beforeMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n      },\n    });\n\n    const typed = uow.forSchema(testSchema);\n    typed.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    typed.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await uow.executeRetrieve();\n    await uow.executeMutations();\n\n    expect(calls).toEqual([\"beforeRetrieve\", \"afterRetrieve\", \"beforeMutate\", \"afterMutate\"]);\n\n    for (const ctx of contexts) {\n      expect(ctx.idempotencyKey).toBeTypeOf(\"string\");\n      expect(ctx.idempotencyKey.length).toBeGreaterThan(0);\n      expect(ctx.retrievalOpsCount).toBe(1);\n      expect(ctx.mutationOpsCount).toBe(1);\n    }\n  });\n\n  it(\"should short-circuit mutations on conflict injection\", async () => {\n    let mutationExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        mutationExecuted = true;\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n        afterMutate: () => {\n          throw new Error(\"afterMutate should not run\");\n        },\n      },\n    });\n\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    const result = await uow.executeMutations();\n    expect(result.success).toBe(false);\n    expect(mutationExecuted).toBe(false);\n  });\n\n  it(\"should throw on error injection before retrieval\", async () => {\n    let retrievalExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        retrievalExecuted = true;\n        return [];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });\n\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Injected failure\");\n    expect(retrievalExecuted).toBe(false);\n  });\n});\n\ndescribe(\"Error Handling\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should throw error from executeRetrieve() when retrieval fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Database connection failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Database connection failed\");\n  });\n\n  it(\"should throw error from executeMutations() when mutation fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Write conflict\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await expect(uow.executeMutations()).rejects.toThrow(\"Write conflict\");\n  });\n\n  it(\"should reject retrievalPhase promise when executeRetrieve() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Query timeout\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeRetrieve().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.retrievalPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n\n    // uow.retrievalPhase should not be settled yet\n\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Query timeout\");\n  });\n\n  it(\"should reject mutationPhase promise when executeMutations() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Constraint violation\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeMutations().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.mutationPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Constraint violation\");\n  });\n\n  it(\"should not cause unhandled promise rejection when executeRetrieve() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Table does not exist\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Access the retrievalPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _retrievalPhase = uow.retrievalPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeRetrieve()\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Table does not exist\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should not cause unhandled promise rejection when executeMutations() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Deadlock detected\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Access the mutationPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _mutationPhase = uow.mutationPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeMutations()\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Deadlock detected\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeRetrieve() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Connection lost\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Don't access retrievalPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Connection lost\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeMutations() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Transaction aborted\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Don't access mutationPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n    // Execute and catch the error\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Transaction aborted\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after retrieval error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"First attempt failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First attempt failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getRetrievalOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after mutation error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"First mutation failed\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First mutation failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getMutationOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should support standalone check() operation\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    // Create a FragnoId for testing\n    const userId = FragnoId.fromExternal(\"user-123\", 5);\n\n    typedUow.check(\"users\", userId);\n\n    const mutationOps = uow.getMutationOperations();\n    expect(mutationOps).toHaveLength(1);\n\n    const checkOp = mutationOps[0];\n    assert(checkOp);\n    assert(checkOp.type === \"check\");\n    expect(checkOp.table).toBe(\"users\");\n    expect(checkOp.id).toBe(userId);\n  });\n});\n\ndescribe(\"findFirst convenience method\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s\n      .addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"email\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"])\n          .createIndex(\"idx_name\", [\"name\"]),\n      )\n      .addTable(\"posts\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"userId\", \"string\")\n          .addColumn(\"title\", \"string\")\n          .createIndex(\"idx_user\", [\"userId\"]),\n      ),\n  );\n\n  it(\"should return a single result instead of an array\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // Use findFirst instead of find\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n\n    // Result should be a single object, not an array\n    const [user] = results;\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should return null when no results are found\", async () => {\n    // Create executor that returns empty results\n    const emptyExecutor = {\n      executeRetrievalPhase: async () => {\n        return [[]]; // Empty array for no results\n      },\n      executeMutationPhase: async () => {\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), emptyExecutor, createMockDecoder());\n\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    // Should be null when no results\n    expect(user).toBeNull();\n  });\n\n  it(\"should automatically set pageSize to 1\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Check that pageSize was set to 1 in the operation\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"find\");\n    if (ops[0]?.type === \"find\") {\n      expect(ops[0].options.pageSize).toBe(1);\n    }\n  });\n\n  it(\"should work with custom select clause\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\").select([\"id\", \"name\"] as const));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toBeDefined();\n    expect(user).not.toBeNull();\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\" });\n  });\n\n  it(\"should work with where conditions\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" });\n  });\n\n  it(\"should handle multiple findFirst operations in the same UOW\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [{ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\"))\n      .findFirst(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, post] = results;\n\n    // Both should be single objects, not arrays\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(post).toEqual({ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" });\n    expect(Array.isArray(user)).toBe(false);\n    expect(Array.isArray(post)).toBe(false);\n  });\n\n  it(\"should handle mix of find and findFirst operations\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [\n            { id: \"post-1\", userId: \"user-1\", title: \"Post 1\" },\n            { id: \"post-2\", userId: \"user-1\", title: \"Post 2\" },\n          ],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\")) // Single result\n      .find(\"posts\", (b) => b.whereIndex(\"primary\")); // Array of results\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, posts] = results;\n\n    // User should be a single object\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Posts should be an array\n    expect(Array.isArray(posts)).toBe(true);\n    expect(posts).toHaveLength(2);\n  });\n\n  it(\"should work with orderByIndex\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"idx_name\").orderByIndex(\"idx_name\", \"asc\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should work without explicit builder function\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // findFirst without builder function should use primary index by default\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\");\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Verify the operation used the primary index\n    const ops = uow.getRetrievalOperations();\n    expect(ops[0]?.indexName).toBe(\"_primary\");\n  });\n});\n","structuredPatch":[{"oldStart":1353,"oldLines":11,"newStart":1353,"newLines":16,"lines":["       },","     };"," ","-    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {","-      instrumentation: {","-        beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),","-        afterMutate: () => {","-          throw new Error(\"afterMutate should not run\");","+    const uow = new UnitOfWork({","+      compiler: createMockCompiler(),","+      executor,","+      decoder: createMockDecoder(),","+      config: {","+        instrumentation: {","+          beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),","+          afterMutate: () => {","+            throw new Error(\"afterMutate should not run\");","+          },","         },","       },","     });"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"0c7cf013-6d4b-4bc6-8411-6028f6e9d369"}
{"parentUuid":"330a778b-76f4-4298-b180-5873ba8dd46a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01X1kMpd8iabUvWNgvvfs1T6","type":"message","role":"assistant","content":[{"type":"text","text":"Wait, lines 1356 and 1383 still have old-style constructors. The line numbers shifted. Let me find the remaining one:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":583,"cache_read_input_tokens":70680,"cache_creation":{"ephemeral_5m_input_tokens":583,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43rSYLnAQpLg4ivfe5y","type":"assistant","uuid":"9486806f-cfd5-4e38-a882-29bd6553b4f9","timestamp":"2026-02-12T10:53:25.777Z"}
{"parentUuid":"9486806f-cfd5-4e38-a882-29bd6553b4f9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01X1kMpd8iabUvWNgvvfs1T6","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01GRVknamavkNanYiTMxvy7K","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","offset":1378,"limit":15}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":583,"cache_read_input_tokens":70680,"cache_creation":{"ephemeral_5m_input_tokens":583,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43rSYLnAQpLg4ivfe5y","type":"assistant","uuid":"e2292895-6978-4bbb-90af-0a9644bd7130","timestamp":"2026-02-12T10:53:26.615Z"}
{"parentUuid":"e2292895-6978-4bbb-90af-0a9644bd7130","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01GRVknamavkNanYiTMxvy7K","toolUseID":"toolu_01GRVknamavkNanYiTMxvy7K","timestamp":"2026-02-12T10:53:26.620Z","uuid":"27e2ee2d-8e42-4741-95f3-e99f38c1a63f"}
{"parentUuid":"e2292895-6978-4bbb-90af-0a9644bd7130","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01GRVknamavkNanYiTMxvy7K","type":"tool_result","content":"  1378→    let retrievalExecuted = false;\n  1379→\n  1380→    const executor = {\n  1381→      executeRetrievalPhase: async () => {\n  1382→        retrievalExecuted = true;\n  1383→        return [];\n  1384→      },\n  1385→      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n  1386→    };\n  1387→\n  1388→    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n  1389→      instrumentation: {\n  1390→        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n  1391→      },\n  1392→    });"}]},"uuid":"8114cd4a-69e5-45b4-abf1-0025dc777ad3","timestamp":"2026-02-12T10:53:26.619Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","content":"    let retrievalExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        retrievalExecuted = true;\n        return [];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });","numLines":15,"startLine":1378,"totalLines":1922}},"sourceToolAssistantUUID":"e2292895-6978-4bbb-90af-0a9644bd7130"}
{"parentUuid":"8114cd4a-69e5-45b4-abf1-0025dc777ad3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_013JL62F1fw7L8GP7accc9oB","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Tw5YKkuwb47Xu7aCBq6UhP","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","old_string":"    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });","new_string":"    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n        },\n      },\n    });"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":514,"cache_read_input_tokens":71263,"output_tokens":291,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":514},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43rhcTDXwgZk8PyDaNh","type":"assistant","uuid":"f44715a3-6441-49e3-a6de-d27083ad531f","timestamp":"2026-02-12T10:53:30.781Z"}
{"parentUuid":"f44715a3-6441-49e3-a6de-d27083ad531f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01Tw5YKkuwb47Xu7aCBq6UhP","toolUseID":"toolu_01Tw5YKkuwb47Xu7aCBq6UhP","timestamp":"2026-02-12T10:53:30.799Z","uuid":"aea727ee-6498-487b-a7b5-4427d0bb8180"}
{"parentUuid":"f44715a3-6441-49e3-a6de-d27083ad531f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Tw5YKkuwb47Xu7aCBq6UhP","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts has been updated successfully."}]},"uuid":"635635f4-fbed-462b-ba9b-4c3ce33e1de9","timestamp":"2026-02-12T10:53:30.798Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts","oldString":"    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });","newString":"    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n        },\n      },\n    });","originalFile":"import { describe, it, expect, assert, expectTypeOf } from \"vitest\";\nimport { column, schema, idColumn, FragnoId } from \"../../schema/create\";\nimport {\n  type UOWCompiler,\n  type UOWDecoder,\n  createUnitOfWork,\n  UnitOfWork,\n  type InferIdColumnName,\n  type IndexColumns,\n} from \"./unit-of-work\";\nimport { createIndexedBuilder } from \"../condition-builder\";\nimport type { SimpleQueryInterface } from \"../simple-query-interface\";\n\n// Mock compiler and executor for testing\nfunction createMockCompiler(): UOWCompiler<unknown> {\n  return {\n    compileRetrievalOperation: () => null,\n    compileMutationOperation: () => null,\n  };\n}\n\nfunction createMockExecutor() {\n  return {\n    executeRetrievalPhase: async () => [],\n    executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n  };\n}\n\nfunction createMockDecoder(): UOWDecoder {\n  return {\n    decode(rawResults, operations) {\n      if (rawResults.length !== operations.length) {\n        throw new Error(\"rawResults and operations must have the same length\");\n      }\n      return rawResults;\n    },\n  };\n}\n\ndescribe(\"FindBuilder\", () => {\n  it(\"should support primary index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"age\", \"integer\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true })\n          .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"_primary\");\n  });\n\n  it(\"should support custom indexes\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"email\", \"string\")\n          .addColumn(\"name\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"], { unique: true }),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0].indexName).toBe(\"idx_email\");\n  });\n\n  it(\"should support cursor-based pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").after(cursor).pageSize(10));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.after).toBe(cursor);\n    expect(op.options.pageSize).toBe(10);\n  });\n\n  it(\"should support backward cursor pagination\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const cursor = \"REDACTED\";\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").before(cursor).pageSize(5));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.before).toBe(cursor);\n    expect(op.options.pageSize).toBe(5);\n  });\n\n  it(\"should throw RangeError for pageSize <= 0\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(0));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-1));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(-10));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw RangeError for non-integer pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(1.5));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(3.14));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(NaN));\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").pageSize(Infinity));\n    }).toThrow(RangeError);\n  });\n\n  it(\"should throw if index doesn't exist\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"nonexistent\" as \"primary\"));\n    }).toThrow('Index \"nonexistent\" not found on table \"users\"');\n  });\n\n  it(\"should throw if finalized without index\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow.forSchema(testSchema).find(\"users\", (b) => b);\n    }).toThrow(\n      'Must specify an index using .whereIndex() before finalizing find operation on table \"users\"',\n    );\n  });\n\n  it(\"should support count operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"age\", \"integer\"),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\").selectCount());\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"count\");\n  });\n\n  it(\"should throw when using both select and selectCount\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // select() then selectCount()\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").select([\"name\"]).selectCount());\n    }).toThrow(/cannot call selectCount/i);\n\n    // selectCount() then select()\n    const uow2 = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    expect(() => {\n      uow2\n        .forSchema(testSchema)\n        .find(\"users\", (b) => b.whereIndex(\"primary\").selectCount().select([\"name\"]));\n    }).toThrow(/cannot call select/i);\n  });\n\n  it(\"should support orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"createdAt\", \"integer\")\n          .createIndex(\"idx_created\", [\"createdAt\"]),\n      ),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    uow\n      .forSchema(testSchema)\n      .find(\"users\", (b) => b.whereIndex(\"primary\").orderByIndex(\"idx_created\", \"desc\"));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    if (op?.type === \"find\") {\n      expect(op.options.orderByIndex).toEqual({\n        indexName: \"idx_created\",\n        direction: \"desc\",\n      });\n    } else {\n      throw new Error(\"Expected find operation\");\n    }\n  });\n\n  it(\"should support join operations\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.select([\"name\"]))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n  });\n\n  it(\"should support join operations without builder function\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Join without builder function should use default options\n    uow.forSchema(testSchema).find(\"posts\", (b) => b.whereIndex(\"primary\").join((jb) => jb.user()));\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.select).toBe(true); // Should default to selecting all columns\n  });\n\n  it(\"should support join with whereIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .createIndex(\"idx_name\", [\"name\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"user\"]((builder) =>\n              builder.whereIndex(\"idx_name\", (eb) => eb(\"name\", \"=\", \"Alice\")).select([\"name\"]),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.where).toBeDefined();\n  });\n\n  it(\"should support join with orderByIndex\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"name\", \"string\")\n            .addColumn(\"createdAt\", \"integer\")\n            .createIndex(\"idx_created\", [\"createdAt\"]),\n        )\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) => jb[\"user\"]((builder) => builder.orderByIndex(\"idx_created\", \"desc\"))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.orderBy).toBeDefined();\n    expect(joinOptions.orderBy).toHaveLength(1);\n  });\n\n  it(\"should support join with pageSize\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"posts\", (b) =>\n        b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(5))),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    const joinOptions = op.options.joins![0]!.options;\n    assert(joinOptions !== false);\n    expect(joinOptions.limit).toBe(5);\n  });\n\n  it(\"should throw RangeError for invalid pageSize in join\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(0))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(-5))),\n        );\n    }).toThrow(RangeError);\n\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .find(\"posts\", (b) =>\n          b.whereIndex(\"primary\").join((jb) => jb[\"user\"]((builder) => builder.pageSize(2.5))),\n        );\n    }).toThrow(RangeError);\n  });\n\n  it(\"should support nested joins\", () => {\n    const testSchema = schema(\"test\", (s) =>\n      s\n        .addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\"))\n        .addTable(\"posts\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"userId\", column(\"string\"))\n            .addColumn(\"authorId\", column(\"string\"))\n            .addColumn(\"title\", \"string\")\n            .createIndex(\"idx_user\", [\"userId\"])\n            .createIndex(\"idx_author\", [\"authorId\"]),\n        )\n        .addTable(\"comments\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"postId\", column(\"string\"))\n            .addColumn(\"text\", \"string\")\n            .createIndex(\"idx_post\", [\"postId\"]),\n        )\n        .addReference(\"user\", {\n          type: \"one\",\n          from: { table: \"posts\", column: \"userId\" },\n          to: { table: \"users\", column: \"id\" },\n        })\n        .addReference(\"post\", {\n          type: \"one\",\n          from: { table: \"comments\", column: \"postId\" },\n          to: { table: \"posts\", column: \"id\" },\n        }),\n    );\n\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .find(\"comments\", (b) =>\n        b\n          .whereIndex(\"primary\")\n          .join((jb) =>\n            jb[\"post\"]((postBuilder) =>\n              postBuilder\n                .select([\"title\"])\n                .join((jb2) => jb2[\"user\"]((userBuilder) => userBuilder.select([\"name\"]))),\n            ),\n          ),\n      );\n\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    const op = ops[0];\n    assert(op.type === \"find\");\n    expect(op.options.joins).toBeDefined();\n    expect(op.options.joins).toHaveLength(1);\n\n    const postJoin = op.options.joins![0]!;\n    assert(postJoin.options !== false);\n    expect(postJoin.options.join).toBeDefined();\n    expect(postJoin.options.join).toHaveLength(1);\n\n    const userJoin = postJoin.options.join![0]!;\n    assert(userJoin.options !== false);\n    expect(userJoin.relation.name).toBe(\"user\");\n  });\n});\n\ndescribe(\"IndexedConditionBuilder\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t\n        .addColumn(\"id\", idColumn())\n        .addColumn(\"email\", column(\"string\"))\n        .addColumn(\"name\", column(\"string\"))\n        .addColumn(\"age\", column(\"integer\").nullable())\n        .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed\n        .createIndex(\"_primary\", [\"id\"], { unique: true })\n        .createIndex(\"idx_email\", [\"email\"], { unique: true })\n        .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n    ),\n  );\n\n  const usersTable = testSchema.tables.users;\n\n  it(\"should enforce indexed columns at runtime\", () => {\n    // Collect all indexed column names from all indexes\n    const indexedColumns = new Set<string>();\n    for (const index of Object.values(usersTable.indexes)) {\n      for (const col of index.columns) {\n        indexedColumns.add(col.name);\n      }\n    }\n\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Should work with indexed columns\n    expect(() => builder(\"id\", \"=\", \"123\")).not.toThrow();\n    expect(() => builder(\"email\", \"=\", \"test@example.com\")).not.toThrow();\n    expect(() => builder(\"name\", \"=\", \"Alice\")).not.toThrow();\n    expect(() => builder(\"age\", \">\", 18)).not.toThrow();\n\n    // Should throw when using non-indexed column\n    expect(() => builder(\"bio\" as \"email\", \"=\", \"Some bio\")).toThrow('Column \"bio\" is not indexed');\n  });\n\n  it(\"should work with complex conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"name\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // Complex AND condition with indexed columns\n    const condition = builder.and(\n      builder(\"name\", \"=\", \"Alice\"),\n      builder(\"age\", \">\", 18),\n      builder(\"email\", \"contains\", \"example\"),\n    );\n\n    expect(condition).toEqual({\n      type: \"and\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.name,\n          operator: \"=\",\n          b: \"Alice\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 18,\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"example\",\n        },\n      ],\n    });\n  });\n\n  it(\"should provide helpful error message listing available columns\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    expect(() => builder(\"name\" as \"email\", \"=\", \"Alice\")).toThrow(\n      \"Only indexed columns can be used in Unit of Work queries. Available indexed columns: id, email\",\n    );\n  });\n\n  it(\"should work with all builder helper methods\", () => {\n    const indexedColumns = new Set([\"id\", \"email\", \"age\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // isNull\n    expect(() => builder.isNull(\"age\")).not.toThrow();\n    expect(() => builder.isNull(\"bio\" as \"age\")).toThrow('Column \"bio\" is not indexed');\n\n    // isNotNull\n    expect(() => builder.isNotNull(\"email\")).not.toThrow();\n    expect(() => builder.isNotNull(\"bio\" as \"email\")).toThrow('Column \"bio\" is not indexed');\n\n    // not\n    const notCondition = builder.not(builder(\"id\", \"=\", \"123\"));\n    expect(notCondition).toEqual({\n      type: \"not\",\n      item: {\n        type: \"compare\",\n        a: usersTable.columns.id,\n        operator: \"=\",\n        b: \"123\",\n      },\n    });\n\n    // or\n    const orCondition = builder.or(builder(\"email\", \"contains\", \"gmail\"), builder(\"age\", \">\", 30));\n    expect(orCondition).toEqual({\n      type: \"or\",\n      items: [\n        {\n          type: \"compare\",\n          a: usersTable.columns.email,\n          operator: \"contains\",\n          b: \"gmail\",\n        },\n        {\n          type: \"compare\",\n          a: usersTable.columns.age,\n          operator: \">\",\n          b: 30,\n        },\n      ],\n    });\n  });\n\n  it(\"should enforce index restrictions in nested conditions\", () => {\n    const indexedColumns = new Set([\"id\", \"email\"]);\n    const builder = createIndexedBuilder(usersTable.columns, indexedColumns);\n\n    // This should throw because \"name\" is not indexed, even though it's nested\n    expect(() => {\n      builder.and(\n        builder(\"email\", \"=\", \"test@example.com\"),\n        builder(\"name\" as \"email\", \"=\", \"Alice\"),\n      );\n    }).toThrow('Column \"name\" is not indexed');\n\n    // This should throw because \"bio\" is not indexed, even in OR\n    expect(() => {\n      builder.or(builder(\"id\", \"=\", \"123\"), builder(\"bio\" as \"id\", \"=\", \"Some bio\"));\n    }).toThrow('Column \"bio\" is not indexed');\n  });\n\n  describe(\"type safety\", () => {\n    it(\"should restrict to only indexed columns at type level\", () => {\n      // This schema has \"bio\" column that is NOT indexed\n      const typeTestSchema = schema(\"typetest\", (s) =>\n        s.addTable(\"users\", (t) =>\n          t\n            .addColumn(\"id\", idColumn())\n            .addColumn(\"email\", column(\"string\"))\n            .addColumn(\"name\", column(\"string\"))\n            .addColumn(\"age\", column(\"integer\").nullable())\n            .addColumn(\"bio\", column(\"string\").nullable()) // Not indexed!\n            .createIndex(\"idx_email\", [\"email\"], { unique: true })\n            .createIndex(\"idx_name_age\", [\"name\", \"age\"]),\n        ),\n      );\n\n      type _IdColumnName = InferIdColumnName<typeof typeTestSchema.tables.users>;\n      expectTypeOf<_IdColumnName>().toEqualTypeOf<\"id\">();\n      type _IndexColumnNames = IndexColumns<\n        typeof typeTestSchema.tables.users.indexes.idx_name_age\n      >;\n      expectTypeOf<_IndexColumnNames>().toEqualTypeOf<\"name\" | \"age\">();\n\n      const baseUow = createUnitOfWork(\n        createMockCompiler(),\n        createMockExecutor(),\n        createMockDecoder(),\n      );\n      const uow = baseUow.forSchema(typeTestSchema);\n      expectTypeOf<keyof typeof typeTestSchema.tables>().toEqualTypeOf<\"users\">();\n      type _Query = SimpleQueryInterface<typeof typeTestSchema>;\n      expectTypeOf<Parameters<_Query[\"create\"]>[0]>().toEqualTypeOf<\"users\">();\n\n      expectTypeOf<Parameters<typeof uow.find>[0]>().toEqualTypeOf<\"users\">();\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"primary\", (eb) => {\n          type _EbFirstParameter = Parameters<typeof eb>[0];\n          expectTypeOf<_EbFirstParameter>().toEqualTypeOf<\"id\">();\n          return eb(\"id\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"email\">();\n          return eb(\"email\", \"=\", \"123\");\n        }),\n      );\n\n      uow.find(\"users\", (b) =>\n        b.whereIndex(\"idx_name_age\", (eb) => {\n          expectTypeOf(eb).parameter(0).toEqualTypeOf<\"name\" | \"age\">();\n          return eb(\"name\", \"=\", \"123\");\n        }),\n      );\n    });\n  });\n});\n\ndescribe(\"UpdateBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow update with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }));\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops).toMatchObject([\n      {\n        type: \"update\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow\n        .forSchema(testSchema)\n        .update(\"users\", \"user-123\", (b) => b.set({ name: \"New Name\" }).check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"DeleteBuilder with string ID\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) => t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\")),\n  );\n\n  it(\"should allow delete with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should work with string ID\n    uow.forSchema(testSchema).delete(\"users\", \"user-123\");\n\n    const ops = uow.getMutationOperations();\n    expect(ops).toMatchObject([\n      {\n        type: \"delete\",\n        id: \"user-123\",\n        checkVersion: false,\n      },\n    ]);\n  });\n\n  it(\"should throw when using check() with string ID\", async () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    // Should throw because check() is not allowed with string ID\n    expect(() => {\n      uow.forSchema(testSchema).delete(\"users\", \"user-123\", (b) => b.check());\n    }).toThrow(\n      'Cannot use check() with a string ID on table \"users\". Version checking requires a FragnoId with version information.',\n    );\n  });\n});\n\ndescribe(\"generateId\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should generate a new FragnoId without creating a record\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    const id = uow.forSchema(testSchema).generateId(\"users\");\n\n    expect(id).toBeInstanceOf(FragnoId);\n    expect(id.externalId).toBeDefined();\n    expect(typeof id.externalId).toBe(\"string\");\n    expect(id.externalId.length).toBeGreaterThan(0);\n    expect(id.version).toBe(0);\n\n    // No mutation operations should be added\n    expect(uow.getMutationOperations()).toHaveLength(0);\n  });\n\n  it(\"should generate unique IDs on each call\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id1 = typedUow.generateId(\"users\");\n    const id2 = typedUow.generateId(\"users\");\n\n    expect(id1.externalId).not.toBe(id2.externalId);\n  });\n\n  it(\"should allow using generated ID in create\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    const id = typedUow.generateId(\"users\");\n    typedUow.create(\"users\", { id, email: \"test@example.com\", name: \"Test\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(id.externalId);\n  });\n\n  it(\"should throw for non-existent table\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    expect(() => {\n      // @ts-expect-error - testing runtime error for non-existent table\n      uow.forSchema(testSchema).generateId(\"nonexistent\");\n    }).toThrow(\"Table nonexistent not found in schema\");\n  });\n});\n\ndescribe(\"getCreatedIds\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"email\", \"string\").addColumn(\"name\", \"string\"),\n    ),\n  );\n\n  it(\"should return created IDs after executeMutations with internal IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[0].version).toBe(0);\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBe(2n);\n    expect(createdIds[1].version).toBe(0);\n  });\n\n  it(\"should return created IDs without internal IDs when not supported\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [null, null],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user1@example.com\", name: \"User 1\" });\n    uow.forSchema(testSchema).create(\"users\", { email: \"user2@example.com\", name: \"User 2\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(2);\n    expect(createdIds[0].externalId).toBeDefined();\n    expect(createdIds[0].internalId).toBeUndefined();\n    expect(createdIds[1].externalId).toBeDefined();\n    expect(createdIds[1].internalId).toBeUndefined();\n  });\n\n  it(\"should preserve user-provided external IDs\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow\n      .forSchema(testSchema)\n      .create(\"users\", { id: \"my-custom-id\", email: \"user@example.com\", name: \"User\" });\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].externalId).toBe(\"my-custom-id\");\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should only return IDs for create operations, not updates or deletes\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n],\n      }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n    uow.forSchema(testSchema).update(\"users\", \"existing-id\", (b) => b.set({ name: \"Updated\" }));\n    uow.forSchema(testSchema).delete(\"users\", \"other-id\");\n\n    await uow.executeMutations();\n    const createdIds = uow.getCreatedIds();\n\n    // Only one create operation, so only one ID returned\n    expect(createdIds).toHaveLength(1);\n    expect(createdIds[0].internalId).toBe(1n);\n  });\n\n  it(\"should throw when called before executeMutations\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).create(\"users\", { email: \"user@example.com\", name: \"User\" });\n\n    expect(() => uow.getCreatedIds()).toThrow(\n      \"getCreatedIds() can only be called after executeMutations()\",\n    );\n  });\n});\n\ndescribe(\"Phase promises with multiple views\", () => {\n  it(\"should return only operations added to the current view when using retrievalPhase promise\", async () => {\n    // Create two separate schemas\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    // Create a schema namespace map\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    // Mock executor that returns distinct results\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n          [{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    // Create parent UOW\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // Add a find operation via a schema1 view (but don't keep a reference to this view)\n    parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema1 and add another find operation\n    const view1 = parentUow.forSchema(schema1).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Create a view for schema2 and add a find operation\n    const view2 = parentUow.forSchema(schema2).find(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval phase on parent\n    const parentResults = await parentUow.executeRetrieve();\n\n    // Parent should have all 3 results\n    expect(parentResults).toHaveLength(3);\n\n    // View1's retrievalPhase promise should only contain results from operations added through view1\n    // (which is index 1 in the parent's operations)\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n\n    // View2's retrievalPhase promise should only contain results from operations added through view2\n    // (which is index 2 in the parent's operations)\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"post1\", title: \"Post 1\", content: \"Content 1\" }]);\n  });\n\n  it(\"should isolate operations when getUnitOfWork is called multiple times with same schema\", async () => {\n    const testSchema = schema(\"test\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }],\n          [{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      undefined,\n      \"test-uow\",\n    );\n\n    // Simulate what happens in db-fragment-definition-builder when getUnitOfWork(schema) is called twice\n    const view1 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    const view2 = parentUow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await parentUow.executeRetrieve();\n\n    // Each view should only see its own operation's results\n    const view1Results = await view1.retrievalPhase;\n    expect(view1Results).toHaveLength(1);\n    expect(view1Results[0]).toEqual([{ id: \"user1\", name: \"Alice\", email: \"alice@example.com\" }]);\n\n    const view2Results = await view2.retrievalPhase;\n    expect(view2Results).toHaveLength(1);\n    expect(view2Results[0]).toEqual([{ id: \"user2\", name: \"Bob\", email: \"bob@example.com\" }]);\n  });\n\n  it(\"should show that getCreatedIds returns ALL created IDs regardless of which view created them\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates one user\n    const view1 = parentUow.forSchema(schema1);\n    view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates one post\n    const view2 = parentUow.forSchema(schema2);\n    view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Both views see ALL created IDs (not filtered by view)\n    const view1Ids = view1.getCreatedIds();\n    const view2Ids = view2.getCreatedIds();\n\n    expect(view1Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n    expect(view2Ids).toHaveLength(2); // Sees both IDs, not just the one it created\n\n    // They're the same array\n    expect(view1Ids).toEqual(view2Ids);\n  });\n\n  it(\"should generate unique IDs when multiple views create items\", async () => {\n    const schema1 = schema(\"schema1\", (s) =>\n      s.addTable(\"users\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n      ),\n    );\n\n    const schema2 = schema(\"schema2\", (s) =>\n      s.addTable(\"posts\", (t) =>\n        t.addColumn(\"id\", idColumn()).addColumn(\"title\", \"string\").addColumn(\"content\", \"string\"),\n      ),\n    );\n\n    const schemaNamespaceMap = new WeakMap<typeof schema1 | typeof schema2, string | null>();\n    schemaNamespaceMap.set(schema1, \"namespace1\");\n    schemaNamespaceMap.set(schema2, \"namespace2\");\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => ({\n        success: true,\n        createdInternalIds: [1n, 2n],\n      }),\n    };\n\n    const parentUow = createUnitOfWork(\n      createMockCompiler(),\n      executor,\n      createMockDecoder(),\n      schemaNamespaceMap,\n      \"test-uow\",\n    );\n\n    // View1 creates a user\n    const view1 = parentUow.forSchema(schema1);\n    const userId = view1.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // View2 creates a post\n    const view2 = parentUow.forSchema(schema2);\n    const postId = view2.create(\"posts\", { title: \"Post 1\", content: \"Content 1\" });\n\n    // IDs should be unique before execution\n    expect(userId.externalId).not.toBe(postId.externalId);\n    expect(userId.externalId).toBeTruthy();\n    expect(postId.externalId).toBeTruthy();\n    expect(userId.internalId).toBeUndefined();\n    expect(postId.internalId).toBeUndefined();\n\n    // Execute mutations\n    await parentUow.executeMutations();\n\n    // Get the created IDs after execution\n    const createdIds = parentUow.getCreatedIds();\n    expect(createdIds).toHaveLength(2);\n\n    // Both should have external IDs set (from create operation)\n    expect(createdIds[0].externalId).toBe(userId.externalId);\n    expect(createdIds[1].externalId).toBe(postId.externalId);\n\n    // Both should now have internal IDs (from database)\n    expect(createdIds[0].internalId).toBe(1n);\n    expect(createdIds[1].internalId).toBe(2n);\n\n    // IDs should still be unique\n    expect(createdIds[0].externalId).not.toBe(createdIds[1].externalId);\n  });\n});\n\ndescribe(\"Instrumentation\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should run instrumentation hooks around retrieve and mutate phases\", async () => {\n    const calls: string[] = [];\n    const contexts: Array<{\n      phase: string;\n      idempotencyKey: string;\n      retrievalOpsCount: number;\n      mutationOpsCount: number;\n    }> = [];\n\n    const executor = {\n      executeRetrievalPhase: async () => [[]],\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeRetrieve: (ctx) => {\n            calls.push(\"beforeRetrieve\");\n            contexts.push({\n              phase: ctx.phase,\n              idempotencyKey: ctx.idempotencyKey,\n              retrievalOpsCount: ctx.retrievalOpsCount,\n              mutationOpsCount: ctx.mutationOpsCount,\n            });\n          },\n          afterRetrieve: (ctx) => {\n            calls.push(\"afterRetrieve\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        beforeMutate: (ctx) => {\n          calls.push(\"beforeMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n        afterMutate: (ctx) => {\n          calls.push(\"afterMutate\");\n          contexts.push({\n            phase: ctx.phase,\n            idempotencyKey: ctx.idempotencyKey,\n            retrievalOpsCount: ctx.retrievalOpsCount,\n            mutationOpsCount: ctx.mutationOpsCount,\n          });\n        },\n      },\n      },\n    });\n\n    const typed = uow.forSchema(testSchema);\n    typed.find(\"users\", (b) => b.whereIndex(\"primary\"));\n    typed.create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await uow.executeRetrieve();\n    await uow.executeMutations();\n\n    expect(calls).toEqual([\"beforeRetrieve\", \"afterRetrieve\", \"beforeMutate\", \"afterMutate\"]);\n\n    for (const ctx of contexts) {\n      expect(ctx.idempotencyKey).toBeTypeOf(\"string\");\n      expect(ctx.idempotencyKey.length).toBeGreaterThan(0);\n      expect(ctx.retrievalOpsCount).toBe(1);\n      expect(ctx.mutationOpsCount).toBe(1);\n    }\n  });\n\n  it(\"should short-circuit mutations on conflict injection\", async () => {\n    let mutationExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        mutationExecuted = true;\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = new UnitOfWork({\n      compiler: createMockCompiler(),\n      executor,\n      decoder: createMockDecoder(),\n      config: {\n        instrumentation: {\n          beforeMutate: () => ({ type: \"conflict\", reason: \"Injected conflict\" }),\n          afterMutate: () => {\n            throw new Error(\"afterMutate should not run\");\n          },\n        },\n      },\n    });\n\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    const result = await uow.executeMutations();\n    expect(result.success).toBe(false);\n    expect(mutationExecuted).toBe(false);\n  });\n\n  it(\"should throw on error injection before retrieval\", async () => {\n    let retrievalExecuted = false;\n\n    const executor = {\n      executeRetrievalPhase: async () => {\n        retrievalExecuted = true;\n        return [];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {\n      instrumentation: {\n        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),\n      },\n    });\n\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Injected failure\");\n    expect(retrievalExecuted).toBe(false);\n  });\n});\n\ndescribe(\"Error Handling\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s.addTable(\"users\", (t) =>\n      t.addColumn(\"id\", idColumn()).addColumn(\"name\", \"string\").addColumn(\"email\", \"string\"),\n    ),\n  );\n\n  it(\"should throw error from executeRetrieve() when retrieval fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Database connection failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await expect(uow.executeRetrieve()).rejects.toThrow(\"Database connection failed\");\n  });\n\n  it(\"should throw error from executeMutations() when mutation fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Write conflict\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    await expect(uow.executeMutations()).rejects.toThrow(\"Write conflict\");\n  });\n\n  it(\"should reject retrievalPhase promise when executeRetrieve() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Query timeout\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeRetrieve().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.retrievalPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n\n    // uow.retrievalPhase should not be settled yet\n\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Query timeout\");\n  });\n\n  it(\"should reject mutationPhase promise when executeMutations() fails\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Constraint violation\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Start executing (this will fail)\n    const executePromise = uow.executeMutations().catch((e) => {\n      return (e as Error).message;\n    });\n\n    uow.mutationPhase\n      .then(() => {\n        throw new Error(\"Should not be called\");\n      })\n      .catch(() => {\n        throw new Error(\"Should not be called\");\n      });\n    // Wait for execute to complete\n    expect(await executePromise).toBe(\"Constraint violation\");\n  });\n\n  it(\"should not cause unhandled promise rejection when executeRetrieve() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Table does not exist\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Access the retrievalPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _retrievalPhase = uow.retrievalPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeRetrieve()\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Table does not exist\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should not cause unhandled promise rejection when executeMutations() fails and coordination promise is not awaited\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Deadlock detected\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Access the mutationPhase promise but don't await it\n    // This simulates the internal coordination promise that might not be awaited\n    const _mutationPhase = uow.mutationPhase;\n\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error from executeMutations()\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      // Error is caught, this is expected\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Deadlock detected\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeRetrieve() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"Connection lost\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Don't access retrievalPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n\n    // Execute and catch the error\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Connection lost\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle error in executeMutations() when coordination promise is never accessed\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"Transaction aborted\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // Don't access mutationPhase at all - this is the most common case\n    // The internal coordination promise should not cause unhandled rejection\n    const errorResolver = Promise.withResolvers<void>();\n    // Execute and catch the error\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n      expect((error as Error).message).toBe(\"Transaction aborted\");\n      errorResolver.resolve();\n    }\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after retrieval error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        throw new Error(\"First attempt failed\");\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).find(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeRetrieve();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First attempt failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getRetrievalOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should handle reset() after mutation error\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => [],\n      executeMutationPhase: async () => {\n        throw new Error(\"First mutation failed\");\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n    uow.forSchema(testSchema).create(\"users\", { name: \"Alice\", email: \"alice@example.com\" });\n\n    // First attempt fails\n    const errorResolver = Promise.withResolvers<void>();\n    try {\n      await uow.executeMutations();\n    } catch (error) {\n      expect((error as Error).message).toBe(\"First mutation failed\");\n      errorResolver.resolve();\n    }\n\n    // Reset the UOW\n    uow.reset();\n\n    // The UOW should be in a clean state\n    expect(uow.state).toBe(\"building-retrieval\");\n    expect(uow.getMutationOperations()).toHaveLength(0);\n\n    await errorResolver.promise;\n  });\n\n  it(\"should support standalone check() operation\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n    const typedUow = uow.forSchema(testSchema);\n\n    // Create a FragnoId for testing\n    const userId = FragnoId.fromExternal(\"user-123\", 5);\n\n    typedUow.check(\"users\", userId);\n\n    const mutationOps = uow.getMutationOperations();\n    expect(mutationOps).toHaveLength(1);\n\n    const checkOp = mutationOps[0];\n    assert(checkOp);\n    assert(checkOp.type === \"check\");\n    expect(checkOp.table).toBe(\"users\");\n    expect(checkOp.id).toBe(userId);\n  });\n});\n\ndescribe(\"findFirst convenience method\", () => {\n  const testSchema = schema(\"test\", (s) =>\n    s\n      .addTable(\"users\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"name\", \"string\")\n          .addColumn(\"email\", \"string\")\n          .createIndex(\"idx_email\", [\"email\"])\n          .createIndex(\"idx_name\", [\"name\"]),\n      )\n      .addTable(\"posts\", (t) =>\n        t\n          .addColumn(\"id\", idColumn())\n          .addColumn(\"userId\", \"string\")\n          .addColumn(\"title\", \"string\")\n          .createIndex(\"idx_user\", [\"userId\"]),\n      ),\n  );\n\n  it(\"should return a single result instead of an array\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // Use findFirst instead of find\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Execute retrieval\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n\n    // Result should be a single object, not an array\n    const [user] = results;\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"mock@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should return null when no results are found\", async () => {\n    // Create executor that returns empty results\n    const emptyExecutor = {\n      executeRetrievalPhase: async () => {\n        return [[]]; // Empty array for no results\n      },\n      executeMutationPhase: async () => {\n        return { success: true, createdInternalIds: [] };\n      },\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), emptyExecutor, createMockDecoder());\n\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    // Should be null when no results\n    expect(user).toBeNull();\n  });\n\n  it(\"should automatically set pageSize to 1\", () => {\n    const uow = createUnitOfWork(createMockCompiler(), createMockExecutor(), createMockDecoder());\n\n    uow.forSchema(testSchema).findFirst(\"users\", (b) => b.whereIndex(\"primary\"));\n\n    // Check that pageSize was set to 1 in the operation\n    const ops = uow.getRetrievalOperations();\n    expect(ops).toHaveLength(1);\n    expect(ops[0]?.type).toBe(\"find\");\n    if (ops[0]?.type === \"find\") {\n      expect(ops[0].options.pageSize).toBe(1);\n    }\n  });\n\n  it(\"should work with custom select clause\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\").select([\"id\", \"name\"] as const));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toBeDefined();\n    expect(user).not.toBeNull();\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\" });\n  });\n\n  it(\"should work with where conditions\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) =>\n        b.whereIndex(\"idx_email\", (eb) => eb(\"email\", \"=\", \"test@example.com\")),\n      );\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"mock-id\", name: \"Mock User\", email: \"test@example.com\" });\n  });\n\n  it(\"should handle multiple findFirst operations in the same UOW\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [{ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" }],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\"))\n      .findFirst(\"posts\", (b) => b.whereIndex(\"primary\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, post] = results;\n\n    // Both should be single objects, not arrays\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(post).toEqual({ id: \"post-1\", userId: \"user-1\", title: \"Post 1\" });\n    expect(Array.isArray(user)).toBe(false);\n    expect(Array.isArray(post)).toBe(false);\n  });\n\n  it(\"should handle mix of find and findFirst operations\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [\n          [{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }],\n          [\n            { id: \"post-1\", userId: \"user-1\", title: \"Post 1\" },\n            { id: \"post-2\", userId: \"user-1\", title: \"Post 2\" },\n          ],\n        ];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"primary\")) // Single result\n      .find(\"posts\", (b) => b.whereIndex(\"primary\")); // Array of results\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user, posts] = results;\n\n    // User should be a single object\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Posts should be an array\n    expect(Array.isArray(posts)).toBe(true);\n    expect(posts).toHaveLength(2);\n  });\n\n  it(\"should work with orderByIndex\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    const typedUow = uow\n      .forSchema(testSchema)\n      .findFirst(\"users\", (b) => b.whereIndex(\"idx_name\").orderByIndex(\"idx_name\", \"asc\"));\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"Alice\", email: \"alice@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n  });\n\n  it(\"should work without explicit builder function\", async () => {\n    const executor = {\n      executeRetrievalPhase: async () => {\n        return [[{ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" }]];\n      },\n      executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),\n    };\n\n    const uow = createUnitOfWork(createMockCompiler(), executor, createMockDecoder());\n\n    // findFirst without builder function should use primary index by default\n    const typedUow = uow.forSchema(testSchema).findFirst(\"users\");\n\n    await uow.executeRetrieve();\n    const results = await typedUow.retrievalPhase;\n    const [user] = results;\n\n    expect(user).toEqual({ id: \"user-1\", name: \"User 1\", email: \"user1@example.com\" });\n    expect(Array.isArray(user)).toBe(false);\n\n    // Verify the operation used the primary index\n    const ops = uow.getRetrievalOperations();\n    expect(ops[0]?.indexName).toBe(\"_primary\");\n  });\n});\n","structuredPatch":[{"oldStart":1385,"oldLines":9,"newStart":1385,"newLines":14,"lines":["       executeMutationPhase: async () => ({ success: true, createdInternalIds: [] }),","     };"," ","-    const uow = new UnitOfWork(createMockCompiler(), executor, createMockDecoder(), undefined, {","-      instrumentation: {","-        beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),","+    const uow = new UnitOfWork({","+      compiler: createMockCompiler(),","+      executor,","+      decoder: createMockDecoder(),","+      config: {","+        instrumentation: {","+          beforeRetrieve: () => ({ type: \"error\", error: new Error(\"Injected failure\") }),","+        },","       },","     });"," "]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"f44715a3-6441-49e3-a6de-d27083ad531f"}
{"parentUuid":"635635f4-fbed-462b-ba9b-4c3ce33e1de9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Jr2JD6cb534oUxhiaDPLWy","type":"message","role":"assistant","content":[{"type":"text","text":"Now check if there are remaining old-style constructor calls in the broader codebase:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":346,"cache_read_input_tokens":71777,"cache_creation":{"ephemeral_5m_input_tokens":346,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43s1SWUGopL7qgctjNE","type":"assistant","uuid":"99c0bd78-cf24-4309-9a37-c75f92d89bcf","timestamp":"2026-02-12T10:53:33.340Z"}
{"parentUuid":"99c0bd78-cf24-4309-9a37-c75f92d89bcf","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Jr2JD6cb534oUxhiaDPLWy","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01T9ojUTA625Ag42d9Jd4Bur","name":"Grep","input":{"pattern":"new UnitOfWork\\([^{]","path":"/home/jan/rejot/fragno","type":"ts","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":346,"cache_read_input_tokens":71777,"output_tokens":142,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":346},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43s1SWUGopL7qgctjNE","type":"assistant","uuid":"34281f6e-0d29-4553-a2b5-16fd913cb205","timestamp":"2026-02-12T10:53:34.455Z"}
{"parentUuid":"34281f6e-0d29-4553-a2b5-16fd913cb205","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01T9ojUTA625Ag42d9Jd4Bur","toolUseID":"toolu_01T9ojUTA625Ag42d9Jd4Bur","timestamp":"2026-02-12T10:53:34.579Z","uuid":"0e154d58-3208-45c7-b089-817c26edce6b"}
{"parentUuid":"34281f6e-0d29-4553-a2b5-16fd913cb205","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01T9ojUTA625Ag42d9Jd4Bur","type":"tool_result","content":"No matches found"}]},"uuid":"82827570-aa02-4e52-93df-ee9acfa7ae16","timestamp":"2026-02-12T10:53:34.578Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"","numLines":0},"sourceToolAssistantUUID":"34281f6e-0d29-4553-a2b5-16fd913cb205"}
{"parentUuid":"82827570-aa02-4e52-93df-ee9acfa7ae16","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01CNvfEorocL5pivyvaojdyh","type":"message","role":"assistant","content":[{"type":"text","text":"All call sites updated. The remaining warnings are just unused variable warnings (pre-existing). Let me also make sure we export `UnitOfWorkInit` from the package:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":269,"cache_read_input_tokens":72123,"cache_creation":{"ephemeral_5m_input_tokens":269,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43sHb7QFj3KnzmnyV7r","type":"assistant","uuid":"20f3dbf4-7b21-4eee-bb94-00614118fcef","timestamp":"2026-02-12T10:53:38.025Z"}
{"parentUuid":"20f3dbf4-7b21-4eee-bb94-00614118fcef","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01CNvfEorocL5pivyvaojdyh","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UF2RFF4fPKwhtxHNHGhtNi","name":"Grep","input":{"pattern":"export.*UnitOfWork","path":"/home/jan/rejot/fragno/packages/fragno-db/src","glob":"index.ts","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":269,"cache_read_input_tokens":72123,"cache_creation":{"ephemeral_5m_input_tokens":269,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43sHb7QFj3KnzmnyV7r","type":"assistant","uuid":"e20ed624-2d9f-4c8d-9fbd-7563a6b072b5","timestamp":"2026-02-12T10:53:39.206Z"}
{"parentUuid":"e20ed624-2d9f-4c8d-9fbd-7563a6b072b5","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01UF2RFF4fPKwhtxHNHGhtNi","toolUseID":"toolu_01UF2RFF4fPKwhtxHNHGhtNi","timestamp":"2026-02-12T10:53:39.319Z","uuid":"7fe534d0-f9fc-40b6-8398-4fae7f762f1e"}
{"parentUuid":"e20ed624-2d9f-4c8d-9fbd-7563a6b072b5","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01UF2RFF4fPKwhtxHNHGhtNi","type":"tool_result","content":"No matches found"}]},"uuid":"00eec9f0-9764-4153-a17c-0a88e62a8c05","timestamp":"2026-02-12T10:53:39.318Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"","numLines":0},"sourceToolAssistantUUID":"e20ed624-2d9f-4c8d-9fbd-7563a6b072b5"}
{"parentUuid":"00eec9f0-9764-4153-a17c-0a88e62a8c05","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01WXe3KR3zhTyZUYoRycQmVt","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017KHgpGPVP91Piioq8z65cf","name":"Grep","input":{"pattern":"unit-of-work","path":"/home/jan/rejot/fragno/packages/fragno-db/src","glob":"index.ts","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":383,"cache_read_input_tokens":72392,"cache_creation":{"ephemeral_5m_input_tokens":383,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43sdyD8TvyejuNGYiyK","type":"assistant","uuid":"3a1292d9-32fd-4fc7-bbd8-d8ea04669f90","timestamp":"2026-02-12T10:53:42.211Z"}
{"parentUuid":"3a1292d9-32fd-4fc7-bbd8-d8ea04669f90","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_017KHgpGPVP91Piioq8z65cf","toolUseID":"toolu_017KHgpGPVP91Piioq8z65cf","timestamp":"2026-02-12T10:53:42.343Z","uuid":"223da423-9f13-4629-a96c-766dc9ebcae1"}
{"parentUuid":"3a1292d9-32fd-4fc7-bbd8-d8ea04669f90","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017KHgpGPVP91Piioq8z65cf","type":"tool_result","content":"No matches found"}]},"uuid":"8921cb8f-051c-4823-9d21-1b9c0cf9d365","timestamp":"2026-02-12T10:53:42.342Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"","numLines":0},"sourceToolAssistantUUID":"3a1292d9-32fd-4fc7-bbd8-d8ea04669f90"}
{"parentUuid":"8921cb8f-051c-4823-9d21-1b9c0cf9d365","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01K2QarUeMko9niPzGii2Lxx","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01VeEqtXS5KdPw4NJohddARU","name":"Grep","input":{"pattern":"UnitOfWork","path":"/home/jan/rejot/fragno/packages/fragno-db/src","glob":"**/index.ts","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":144,"cache_read_input_tokens":72775,"cache_creation":{"ephemeral_5m_input_tokens":144,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43srt6Ro7HikYdKBDct","type":"assistant","uuid":"0cbae454-3aa2-4fb6-9fcd-696177b69efa","timestamp":"2026-02-12T10:53:46.220Z"}
{"parentUuid":"0cbae454-3aa2-4fb6-9fcd-696177b69efa","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01VeEqtXS5KdPw4NJohddARU","toolUseID":"toolu_01VeEqtXS5KdPw4NJohddARU","timestamp":"2026-02-12T10:53:46.332Z","uuid":"ebf02d28-60b0-4ee3-a300-a6985e111664"}
{"parentUuid":"0cbae454-3aa2-4fb6-9fcd-696177b69efa","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VeEqtXS5KdPw4NJohddARU","type":"tool_result","content":"packages/fragno-db/src/adapters/sql/index.ts:4:  type UnitOfWorkConfig,"}]},"uuid":"dcb90856-722b-49c7-ad7c-24d907a27688","timestamp":"2026-02-12T10:53:46.331Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"packages/fragno-db/src/adapters/sql/index.ts:4:  type UnitOfWorkConfig,","numLines":1},"sourceToolAssistantUUID":"0cbae454-3aa2-4fb6-9fcd-696177b69efa"}
{"parentUuid":"dcb90856-722b-49c7-ad7c-24d907a27688","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01H7x286owXdCGM1ToGpDhdN","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01HdQExn1k2ZtoYRqT7WYLXM","name":"Grep","input":{"pattern":"from.*unit-of-work.*unit-of-work","path":"/home/jan/rejot/fragno/packages/fragno-db/src","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":170,"cache_read_input_tokens":72919,"output_tokens":118,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":170},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43t9sYWPKYanRT5MK7R","type":"assistant","uuid":"54d3db4a-9078-4db9-8661-cca9ea36db93","timestamp":"2026-02-12T10:53:49.476Z"}
{"parentUuid":"54d3db4a-9078-4db9-8661-cca9ea36db93","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01HdQExn1k2ZtoYRqT7WYLXM","toolUseID":"toolu_01HdQExn1k2ZtoYRqT7WYLXM","timestamp":"2026-02-12T10:53:49.586Z","uuid":"219b0eb3-8c13-4dd7-901e-ca81393bdb11"}
{"parentUuid":"54d3db4a-9078-4db9-8661-cca9ea36db93","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01HdQExn1k2ZtoYRqT7WYLXM","type":"tool_result","content":"packages/fragno-db/src/db-fragment-definition-builder.test.ts:14:import * as executeUnitOfWork from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/db-fragment-integration.test.ts:10:import { ConcurrencyConflictError, type TxResult } from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/shared/uow-operation-compiler.ts:8:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:10:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:11:import { UnitOfWork } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/fragments/internal-fragment.test.ts:15:import { ConcurrencyConflictError } from \"../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:10:} from \"../../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/db-fragment-definition-builder.ts:4:import type { IUnitOfWork } from \"./query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/db-fragment-definition-builder.ts:22:} from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/generic-sql-uow-executor.ts:5:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/generic-sql-adapter.ts:25:import type { UOWInstrumentation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/query/generic-sql-uow-operation-compiler.ts:10:} from \"../../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/hooks/hooks.ts:4:} from \"../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/hooks/hooks.ts:7:import type { IUnitOfWork } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/hooks/hooks.ts:8:import type { TxResult } from \"../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/generic-sql-uow-executor.test.ts:2:import type { CompiledMutation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/uow-decoder.test.ts:5:import type { RetrievalOperation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/uow-decoder.ts:1:import type { UOWDecoder } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/uow-decoder.ts:2:import type { RetrievalOperation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/query/simple-query-interface.ts:9:} from \"./unit-of-work/unit-of-work\";\npackages/fragno-db/src/mod.ts:103:} from \"./query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/mod.ts:127:} from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/outbox/outbox-builder.ts:1:import type { MutationOperation } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts:3:import { UnitOfWork, type RetrievalOperation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/internal/outbox-state.ts:2:import type { MutationOperation } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/outbox/outbox.ts:2:import type { MutationOperation } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.ts:18:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:4:import { UnitOfWork } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts:21:import { UnitOfWork, type UnitOfWorkConfig } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:10:} from \"../../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/adapters.ts:4:import type { IUnitOfWork } from \"../query/unit-of-work/unit-of-work\";"}]},"uuid":"31bdf0a6-972a-4d5f-a88b-ea6d26c612cd","timestamp":"2026-02-12T10:53:49.585Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"packages/fragno-db/src/db-fragment-definition-builder.test.ts:14:import * as executeUnitOfWork from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/db-fragment-integration.test.ts:10:import { ConcurrencyConflictError, type TxResult } from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/shared/uow-operation-compiler.ts:8:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:10:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts:11:import { UnitOfWork } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/fragments/internal-fragment.test.ts:15:import { ConcurrencyConflictError } from \"../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/prisma/prisma-adapter-sqlite3.test.ts:10:} from \"../../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/db-fragment-definition-builder.ts:4:import type { IUnitOfWork } from \"./query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/db-fragment-definition-builder.ts:22:} from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/generic-sql-uow-executor.ts:5:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/generic-sql-adapter.ts:25:import type { UOWInstrumentation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/query/generic-sql-uow-operation-compiler.ts:10:} from \"../../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/hooks/hooks.ts:4:} from \"../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/hooks/hooks.ts:7:import type { IUnitOfWork } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/hooks/hooks.ts:8:import type { TxResult } from \"../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/generic-sql-uow-executor.test.ts:2:import type { CompiledMutation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/uow-decoder.test.ts:5:import type { RetrievalOperation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/uow-decoder.ts:1:import type { UOWDecoder } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/uow-decoder.ts:2:import type { RetrievalOperation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/query/simple-query-interface.ts:9:} from \"./unit-of-work/unit-of-work\";\npackages/fragno-db/src/mod.ts:103:} from \"./query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/mod.ts:127:} from \"./query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/outbox/outbox-builder.ts:1:import type { MutationOperation } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts:3:import { UnitOfWork, type RetrievalOperation } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/internal/outbox-state.ts:2:import type { MutationOperation } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/outbox/outbox.ts:2:import type { MutationOperation } from \"../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.ts:18:} from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts:4:import { UnitOfWork } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts:21:import { UnitOfWork, type UnitOfWorkConfig } from \"../../query/unit-of-work/unit-of-work\";\npackages/fragno-db/src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts:10:} from \"../../query/unit-of-work/execute-unit-of-work\";\npackages/fragno-db/src/adapters/adapters.ts:4:import type { IUnitOfWork } from \"../query/unit-of-work/unit-of-work\";","numLines":31},"sourceToolAssistantUUID":"54d3db4a-9078-4db9-8661-cca9ea36db93"}
{"parentUuid":"31bdf0a6-972a-4d5f-a88b-ea6d26c612cd","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01CWBEnoQ6qzdLTjVRZGyNQt","type":"message","role":"assistant","content":[{"type":"text","text":"The `UnitOfWorkInit` type doesn't need to be exported from `mod.ts` unless external consumers use it. Let me check what `mod.ts` exports:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1623,"cache_read_input_tokens":73089,"cache_creation":{"ephemeral_5m_input_tokens":1623,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43tPsfWE3Xd98YySJbz","type":"assistant","uuid":"6d103c94-5111-47c7-a638-34d2ce672141","timestamp":"2026-02-12T10:53:52.787Z"}
{"parentUuid":"6d103c94-5111-47c7-a638-34d2ce672141","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01CWBEnoQ6qzdLTjVRZGyNQt","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01GX2rq9ugyAAgVqa6euDAgr","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/mod.ts","offset":100,"limit":15}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1623,"cache_read_input_tokens":73089,"cache_creation":{"ephemeral_5m_input_tokens":1623,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43tPsfWE3Xd98YySJbz","type":"assistant","uuid":"123cd774-a097-402f-aa55-361c6bd659f0","timestamp":"2026-02-12T10:53:53.413Z"}
{"parentUuid":"123cd774-a097-402f-aa55-361c6bd659f0","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01GX2rq9ugyAAgVqa6euDAgr","toolUseID":"toolu_01GX2rq9ugyAAgVqa6euDAgr","timestamp":"2026-02-12T10:53:53.417Z","uuid":"9dca2bd5-0e78-44dd-831d-83c4a0202733"}
{"parentUuid":"123cd774-a097-402f-aa55-361c6bd659f0","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01GX2rq9ugyAAgVqa6euDAgr","type":"tool_result","content":"   100→  type UOWCompiler,\n   101→  type UOWExecutor,\n   102→  type UOWDecoder,\n   103→} from \"./query/unit-of-work/unit-of-work\";\n   104→\n   105→export {\n   106→  type RetryPolicy,\n   107→  NoRetryPolicy,\n   108→  ExponentialBackoffRetryPolicy,\n   109→  LinearBackoffRetryPolicy,\n   110→} from \"./query/unit-of-work/retry-policy\";\n   111→\n   112→export {\n   113→  ConcurrencyConflictError,\n   114→  // Builder pattern exports"}]},"uuid":"1eb1621f-22d0-4d4f-a721-ebb8546b704f","timestamp":"2026-02-12T10:53:53.416Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/mod.ts","content":"  type UOWCompiler,\n  type UOWExecutor,\n  type UOWDecoder,\n} from \"./query/unit-of-work/unit-of-work\";\n\nexport {\n  type RetryPolicy,\n  NoRetryPolicy,\n  ExponentialBackoffRetryPolicy,\n  LinearBackoffRetryPolicy,\n} from \"./query/unit-of-work/retry-policy\";\n\nexport {\n  ConcurrencyConflictError,\n  // Builder pattern exports","numLines":15,"startLine":100,"totalLines":257}},"sourceToolAssistantUUID":"123cd774-a097-402f-aa55-361c6bd659f0"}
{"parentUuid":"1eb1621f-22d0-4d4f-a721-ebb8546b704f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01QF2KYnptHStFkMMGnGpLe5","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Y3DRhod1qZsLkSYp11xuNV","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/mod.ts","offset":80,"limit":25}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":324,"cache_read_input_tokens":74712,"cache_creation":{"ephemeral_5m_input_tokens":324,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43tgDAtT5LBeWB5J3XN","type":"assistant","uuid":"263da710-bac6-4517-b92a-b931391a8c18","timestamp":"2026-02-12T10:53:56.251Z"}
{"parentUuid":"263da710-bac6-4517-b92a-b931391a8c18","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01Y3DRhod1qZsLkSYp11xuNV","toolUseID":"toolu_01Y3DRhod1qZsLkSYp11xuNV","timestamp":"2026-02-12T10:53:56.255Z","uuid":"a452f2d2-9cf3-4564-85cb-d8817fa4e8a4"}
{"parentUuid":"263da710-bac6-4517-b92a-b931391a8c18","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Y3DRhod1qZsLkSYp11xuNV","type":"tool_result","content":"    80→\n    81→export {\n    82→  DatabaseFragmentDefinitionBuilder,\n    83→  type FragnoPublicConfigWithDatabase,\n    84→  type DatabaseFragmentContext,\n    85→  type DatabaseServiceContext,\n    86→  type DatabaseHandlerContext as DatabaseRequestContext,\n    87→  type ImplicitDatabaseDependencies,\n    88→} from \"./db-fragment-definition-builder\";\n    89→\n    90→export { withDatabase } from \"./with-database\";\n    91→\n    92→export { decodeCursor, type CursorData } from \"./query/cursor\";\n    93→\n    94→export {\n    95→  createUnitOfWork,\n    96→  UnitOfWork,\n    97→  TypedUnitOfWork,\n    98→  type IUnitOfWork,\n    99→  type IUnitOfWorkRestricted,\n   100→  type UOWCompiler,\n   101→  type UOWExecutor,\n   102→  type UOWDecoder,\n   103→} from \"./query/unit-of-work/unit-of-work\";\n   104→"}]},"uuid":"1cf4b172-3941-4c3c-929f-82189d03bdfd","timestamp":"2026-02-12T10:53:56.255Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/mod.ts","content":"\nexport {\n  DatabaseFragmentDefinitionBuilder,\n  type FragnoPublicConfigWithDatabase,\n  type DatabaseFragmentContext,\n  type DatabaseServiceContext,\n  type DatabaseHandlerContext as DatabaseRequestContext,\n  type ImplicitDatabaseDependencies,\n} from \"./db-fragment-definition-builder\";\n\nexport { withDatabase } from \"./with-database\";\n\nexport { decodeCursor, type CursorData } from \"./query/cursor\";\n\nexport {\n  createUnitOfWork,\n  UnitOfWork,\n  TypedUnitOfWork,\n  type IUnitOfWork,\n  type IUnitOfWorkRestricted,\n  type UOWCompiler,\n  type UOWExecutor,\n  type UOWDecoder,\n} from \"./query/unit-of-work/unit-of-work\";\n","numLines":25,"startLine":80,"totalLines":257}},"sourceToolAssistantUUID":"263da710-bac6-4517-b92a-b931391a8c18"}
{"parentUuid":"1cf4b172-3941-4c3c-929f-82189d03bdfd","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_013LFN2ZzvRSgaXdA3GmEk27","type":"message","role":"assistant","content":[{"type":"text","text":"I should export `UnitOfWorkInit` since `UnitOfWork` constructor requires it and the class is publicly exported:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":399,"cache_read_input_tokens":75036,"cache_creation":{"ephemeral_5m_input_tokens":399,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43ttTsJnfvo8zpttKLD","type":"assistant","uuid":"2c2d9ffc-a388-4651-867d-3c8b45ba4374","timestamp":"2026-02-12T10:53:58.899Z"}
{"type":"file-history-snapshot","messageId":"fee3242b-ddfc-4423-be8a-bdd124ccb952","snapshot":{"messageId":"f0c9ef6d-9bd6-4d9a-8817-58d12b7345cc","trackedFileBackups":{"packages/fragno-db/src/query/unit-of-work/unit-of-work.ts":{"backupFileName":"b43d09b46f060266@v1","version":1,"backupTime":"2026-02-12T10:52:16.443Z"},"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts":{"backupFileName":"0706d6dee9ed791c@v1","version":1,"backupTime":"2026-02-12T10:52:55.841Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts":{"backupFileName":"4c9e0b4023533f7a@v1","version":1,"backupTime":"2026-02-12T10:52:57.947Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts":{"backupFileName":"8ba4a2504b8f6ec4@v1","version":1,"backupTime":"2026-02-12T10:52:59.180Z"},"packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts":{"backupFileName":"15cb723224b72289@v1","version":1,"backupTime":"2026-02-12T10:53:00.249Z"},"packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts":{"backupFileName":"2de68db451d9286c@v1","version":1,"backupTime":"2026-02-12T10:53:01.592Z"},"packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts":{"backupFileName":"acbe5d6ff5e4bbca@v1","version":1,"backupTime":"2026-02-12T10:53:07.506Z"},"packages/fragno-db/src/mod.ts":{"backupFileName":"3cca7ea3751900c1@v1","version":1,"backupTime":"2026-02-12T10:54:00.419Z"}},"timestamp":"2026-02-12T10:36:24.358Z"},"isSnapshotUpdate":true}
{"parentUuid":"2c2d9ffc-a388-4651-867d-3c8b45ba4374","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_013LFN2ZzvRSgaXdA3GmEk27","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_018GS5H6wy5Y4u4Y2LHjNZFb","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/mod.ts","old_string":"  type UOWCompiler,\n  type UOWExecutor,\n  type UOWDecoder,\n} from \"./query/unit-of-work/unit-of-work\";","new_string":"  type UnitOfWorkInit,\n  type UOWCompiler,\n  type UOWExecutor,\n  type UOWDecoder,\n} from \"./query/unit-of-work/unit-of-work\";"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":399,"cache_read_input_tokens":75036,"output_tokens":255,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":399},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43ttTsJnfvo8zpttKLD","type":"assistant","uuid":"fee3242b-ddfc-4423-be8a-bdd124ccb952","timestamp":"2026-02-12T10:54:00.406Z"}
{"parentUuid":"fee3242b-ddfc-4423-be8a-bdd124ccb952","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_018GS5H6wy5Y4u4Y2LHjNZFb","toolUseID":"toolu_018GS5H6wy5Y4u4Y2LHjNZFb","timestamp":"2026-02-12T10:54:00.423Z","uuid":"e8147ff0-37c1-4a27-aade-71fb8e4242f0"}
{"parentUuid":"fee3242b-ddfc-4423-be8a-bdd124ccb952","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_018GS5H6wy5Y4u4Y2LHjNZFb","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/mod.ts has been updated successfully."}]},"uuid":"34e45e26-d02d-46f1-9fe8-bf4c938612e0","timestamp":"2026-02-12T10:54:00.422Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/mod.ts","oldString":"  type UOWCompiler,\n  type UOWExecutor,\n  type UOWDecoder,\n} from \"./query/unit-of-work/unit-of-work\";","newString":"  type UnitOfWorkInit,\n  type UOWCompiler,\n  type UOWExecutor,\n  type UOWDecoder,\n} from \"./query/unit-of-work/unit-of-work\";","originalFile":"import type { DatabaseAdapter } from \"./adapters/adapters\";\nimport type { AnySchema } from \"./schema/create\";\nimport type { CursorResult } from \"./query/cursor\";\nimport { Cursor } from \"./query/cursor\";\nimport { dbNow, type DbNow } from \"./query/db-now\";\nimport type { FragnoInstantiatedFragment } from \"@fragno-dev/core\";\nimport type {\n  FragnoPublicConfigWithDatabase,\n  ImplicitDatabaseDependencies,\n} from \"./db-fragment-definition-builder\";\nimport { getSchemaVersionFromDatabase } from \"./fragments/internal-fragment\";\nimport { getInternalFragment } from \"./internal/adapter-registry\";\n\nexport type { DatabaseAdapter, CursorResult };\nexport { Cursor };\nexport { dbNow };\nexport type { DbNow };\nexport { InMemoryAdapter, type InMemoryAdapterOptions } from \"./adapters/in-memory\";\nexport { internalSchema } from \"./fragments/internal-fragment\";\nexport { getInternalFragment } from \"./internal/adapter-registry\";\n\nexport const fragnoDatabaseFakeSymbol = \"$fragno-database\" as const;\nexport const fragnoDatabaseLibraryVersion = \"0.1\" as const;\n\nexport interface CreateFragnoDatabaseDefinitionOptions<T extends AnySchema> {\n  namespace: string | null;\n  schema: T;\n}\n\nexport function isFragnoDatabase(value: unknown): value is FragnoDatabase<AnySchema> {\n  if (value instanceof FragnoDatabase) {\n    return true;\n  }\n\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n\n  return (\n    fragnoDatabaseFakeSymbol in value &&\n    value[fragnoDatabaseFakeSymbol] === fragnoDatabaseFakeSymbol\n  );\n}\n\n/**\n * A Fragno database instance with a bound adapter.\n * Created from a FragnoDatabaseDefinition by calling .create(adapter).\n */\nexport class FragnoDatabase<const T extends AnySchema, TUOWConfig = void> {\n  #namespace: string | null;\n  #schema: T;\n  #adapter: DatabaseAdapter<TUOWConfig>;\n\n  constructor(options: {\n    namespace: string | null;\n    schema: T;\n    adapter: DatabaseAdapter<TUOWConfig>;\n  }) {\n    this.#namespace = options.namespace;\n    this.#schema = options.schema;\n    this.#adapter = options.adapter;\n  }\n\n  get [fragnoDatabaseFakeSymbol](): typeof fragnoDatabaseFakeSymbol {\n    return fragnoDatabaseFakeSymbol;\n  }\n\n  get namespace() {\n    return this.#namespace;\n  }\n\n  get schema() {\n    return this.#schema;\n  }\n\n  get adapter(): DatabaseAdapter<TUOWConfig> {\n    return this.#adapter;\n  }\n}\n\nexport {\n  DatabaseFragmentDefinitionBuilder,\n  type FragnoPublicConfigWithDatabase,\n  type DatabaseFragmentContext,\n  type DatabaseServiceContext,\n  type DatabaseHandlerContext as DatabaseRequestContext,\n  type ImplicitDatabaseDependencies,\n} from \"./db-fragment-definition-builder\";\n\nexport { withDatabase } from \"./with-database\";\n\nexport { decodeCursor, type CursorData } from \"./query/cursor\";\n\nexport {\n  createUnitOfWork,\n  UnitOfWork,\n  TypedUnitOfWork,\n  type IUnitOfWork,\n  type IUnitOfWorkRestricted,\n  type UOWCompiler,\n  type UOWExecutor,\n  type UOWDecoder,\n} from \"./query/unit-of-work/unit-of-work\";\n\nexport {\n  type RetryPolicy,\n  NoRetryPolicy,\n  ExponentialBackoffRetryPolicy,\n  LinearBackoffRetryPolicy,\n} from \"./query/unit-of-work/retry-policy\";\n\nexport {\n  ConcurrencyConflictError,\n  // Builder pattern exports\n  ServiceTxBuilder,\n  HandlerTxBuilder,\n  createServiceTxBuilder,\n  createHandlerTxBuilder,\n  type TxResult,\n  // Builder context types\n  type ServiceBuilderMutateContext,\n  type HandlerBuilderMutateContext,\n  type BuilderTransformContextWithMutate,\n  type BuilderTransformContextWithoutMutate,\n  type ExtractServiceRetrieveResults,\n  type ExtractServiceFinalResults,\n} from \"./query/unit-of-work/execute-unit-of-work\";\n\nexport type { BoundServices } from \"@fragno-dev/core\";\n\nexport { internalFragmentDef } from \"./fragments/internal-fragment\";\nexport type { InternalFragmentInstance } from \"./fragments/internal-fragment\";\nexport type {\n  OutboxConfig,\n  OutboxEntry,\n  OutboxPayload,\n  OutboxMutation,\n  OutboxRefMap,\n} from \"./outbox/outbox\";\n\nexport type {\n  HookContext,\n  HooksMap,\n  HookFn,\n  HookPayload,\n  TriggerHookOptions,\n  DurableHooksProcessingOptions,\n  StuckHookProcessingInfo,\n  StuckHookProcessingEvent,\n  StuckHookProcessingTimeoutMinutes,\n} from \"./hooks/hooks\";\nexport {\n  createDurableHooksProcessor,\n  type DurableHooksProcessor,\n} from \"./hooks/durable-hooks-processor\";\n\nexport type AnyFragnoInstantiatedDatabaseFragment<TSchema extends AnySchema = AnySchema> =\n  FragnoInstantiatedFragment<\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    any,\n    ImplicitDatabaseDependencies<TSchema>,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    any,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    any,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    any,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    any,\n    FragnoPublicConfigWithDatabase\n  >;\n\n/**\n * Helper function to run migrations for a database fragment.\n * Extracts the database adapter, schema, and namespace from the fragment and runs migrations.\n * This function:\n * 1. Ensures the internal settings fragment is migrated first\n * 2. Retrieves the current database version from the internal fragment\n * 3. Runs migration from current version to target version\n *\n * @param fragment - The instantiated fragment to run migrations for\n * @throws Error if the fragment doesn't have database support or the adapter doesn't support migrations\n *\n * @example\n * ```typescript\n * const fragment = instantiate(myFragmentDef)\n *   .withConfig({})\n *   .withRoutes([])\n *   .withOptions({ databaseAdapter: myAdapter })\n *   .build();\n *\n * await migrate(fragment);\n * ```\n */\nexport async function migrate<TSchema extends AnySchema>(\n  fragment: AnyFragnoInstantiatedDatabaseFragment<TSchema>,\n): Promise<void> {\n  const { deps } = fragment.$internal;\n  const adapter = deps.databaseAdapter;\n\n  // Check if adapter supports prepareMigrations\n  if (!adapter.prepareMigrations) {\n    throw new Error(\n      \"Database adapter does not support prepareMigrations. Please use an adapter that implements this method.\",\n    );\n  }\n\n  const schema = deps.schema;\n  const namespace = deps.namespace ?? schema.name;\n\n  // Step 1: Ensure the internal fragment (settings table) is migrated first\n  const internalFragment = getInternalFragment(adapter);\n\n  if (!(await adapter.isConnectionHealthy())) {\n    throw new Error(\n      \"Database connection is not healthy. Please check your database connection and try again.\",\n    );\n  }\n\n  const internalDeps = internalFragment.$internal.deps;\n  const internalSchema = internalDeps.schema;\n  // Internal fragment uses databaseNamespace: null (no table suffix).\n  // Version tracking uses empty string so the key is \".schema_version\",\n  // which matches both the legacy format and how the internal fragment was designed.\n  const internalNamespace = internalDeps.namespace ?? \"\";\n\n  const internalCurrentVersion = await getSchemaVersionFromDatabase(\n    internalFragment,\n    internalNamespace,\n  );\n\n  // Migrate internal fragment if needed\n  if (internalCurrentVersion < internalSchema.version) {\n    const internalMigrations = adapter.prepareMigrations(internalSchema, internalNamespace);\n    await internalMigrations.execute(internalCurrentVersion, internalSchema.version);\n  }\n\n  // Step 2: Get current database version for this fragment's namespace\n  const currentVersion = await getSchemaVersionFromDatabase(internalFragment, namespace);\n\n  // Step 3: Run the migration from current version to target version\n  const targetVersion = schema.version;\n\n  if (currentVersion === targetVersion) {\n    return;\n  }\n\n  if (currentVersion > targetVersion) {\n    throw new Error(\n      `Cannot migrate backwards: current version (${currentVersion}) > target version (${targetVersion})`,\n    );\n  }\n\n  const migrations = adapter.prepareMigrations(schema, namespace);\n  await migrations.execute(currentVersion, targetVersion);\n}\n","structuredPatch":[{"oldStart":97,"oldLines":6,"newStart":97,"newLines":7,"lines":["   TypedUnitOfWork,","   type IUnitOfWork,","   type IUnitOfWorkRestricted,","+  type UnitOfWorkInit,","   type UOWCompiler,","   type UOWExecutor,","   type UOWDecoder,"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"fee3242b-ddfc-4423-be8a-bdd124ccb952"}
{"parentUuid":"34e45e26-d02d-46f1-9fe8-bf4c938612e0","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01URtG7WLZV4ebiZZwhLkbGT","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TWhwAyhiGnwZS8nM5Kt4WS","name":"TaskUpdate","input":{"taskId":"1","status":"completed"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":296,"cache_read_input_tokens":75435,"cache_creation":{"ephemeral_5m_input_tokens":296,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43uCAV1oTTBBBPfDNEX","type":"assistant","uuid":"43c61c0a-435d-4c29-854b-9c3b6a930798","timestamp":"2026-02-12T10:54:03.100Z"}
{"parentUuid":"43c61c0a-435d-4c29-854b-9c3b6a930798","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TWhwAyhiGnwZS8nM5Kt4WS","type":"tool_result","content":"Updated task #1 status"}]},"uuid":"d65fb50c-9f96-41f0-ad69-811aeec8eff7","timestamp":"2026-02-12T10:54:03.103Z","toolUseResult":{"success":true,"taskId":"1","updatedFields":["status"],"statusChange":{"from":"in_progress","to":"completed"}},"sourceToolAssistantUUID":"43c61c0a-435d-4c29-854b-9c3b6a930798"}
{"parentUuid":"d65fb50c-9f96-41f0-ad69-811aeec8eff7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01URtG7WLZV4ebiZZwhLkbGT","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WNLLj89AbNYK6DNhBbvCTK","name":"TaskUpdate","input":{"taskId":"2","status":"in_progress"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":296,"cache_read_input_tokens":75435,"cache_creation":{"ephemeral_5m_input_tokens":296,"ephemeral_1h_input_tokens":0},"output_tokens":25,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43uCAV1oTTBBBPfDNEX","type":"assistant","uuid":"0325e514-b134-4189-b8c3-ee8823e967b0","timestamp":"2026-02-12T10:54:03.471Z"}
{"parentUuid":"0325e514-b134-4189-b8c3-ee8823e967b0","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WNLLj89AbNYK6DNhBbvCTK","type":"tool_result","content":"Updated task #2 status"}]},"uuid":"4dce2042-4ff5-4adb-aabe-a33c28451474","timestamp":"2026-02-12T10:54:03.474Z","toolUseResult":{"success":true,"taskId":"2","updatedFields":["status"],"statusChange":{"from":"pending","to":"in_progress"}},"sourceToolAssistantUUID":"0325e514-b134-4189-b8c3-ee8823e967b0"}
{"parentUuid":"4dce2042-4ff5-4adb-aabe-a33c28451474","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01JgkVc1DhWvZPCeZFqmS6Rs","type":"message","role":"assistant","content":[{"type":"text","text":"**Task 2: Decompose conditionals in `buildJoinIndexed`**\n\nLet me re-read the function to identify the bumps:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":198,"cache_read_input_tokens":75731,"cache_creation":{"ephemeral_5m_input_tokens":198,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43uRVAyJEz8aKpijFDb","type":"assistant","uuid":"57054dd0-e9dc-4467-9c63-3aa51f344335","timestamp":"2026-02-12T10:54:06.241Z"}
{"parentUuid":"57054dd0-e9dc-4467-9c63-3aa51f344335","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01JgkVc1DhWvZPCeZFqmS6Rs","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01VJEu8xPo4yTBzy7LwMSxra","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","offset":831,"limit":72}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":198,"cache_read_input_tokens":75731,"cache_creation":{"ephemeral_5m_input_tokens":198,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43uRVAyJEz8aKpijFDb","type":"assistant","uuid":"04fca83a-f006-4aae-ba13-d5b145179d92","timestamp":"2026-02-12T10:54:07.079Z"}
{"parentUuid":"04fca83a-f006-4aae-ba13-d5b145179d92","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01VJEu8xPo4yTBzy7LwMSxra","toolUseID":"toolu_01VJEu8xPo4yTBzy7LwMSxra","timestamp":"2026-02-12T10:54:07.084Z","uuid":"b4387ee2-584f-4610-9def-626ea8ec507b"}
{"parentUuid":"04fca83a-f006-4aae-ba13-d5b145179d92","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01VJEu8xPo4yTBzy7LwMSxra","type":"tool_result","content":"   831→export function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n   832→  table: TTable,\n   833→  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n   834→): CompiledJoin[] {\n   835→  const compiled: CompiledJoin[] = [];\n   836→  const builder: Record<string, unknown> = {};\n   837→\n   838→  for (const name in table.relations) {\n   839→    const relation = table.relations[name]!;\n   840→\n   841→    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n   842→      // Create join builder for this relation's table\n   843→      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n   844→      if (builderFn) {\n   845→        builderFn(joinBuilder);\n   846→      }\n   847→      const config = joinBuilder.build();\n   848→\n   849→      // Build condition with indexed columns only\n   850→      let conditions: Condition | undefined;\n   851→      if (config.where) {\n   852→        const cond = buildCondition(relation.table.columns, config.where);\n   853→        if (cond === true) {\n   854→          conditions = undefined;\n   855→        } else if (cond === false) {\n   856→          // If condition evaluates to false, skip this join\n   857→          compiled.push({\n   858→            relation,\n   859→            options: false,\n   860→          });\n   861→          delete builder[name];\n   862→          return builder;\n   863→        } else {\n   864→          conditions = cond;\n   865→        }\n   866→      }\n   867→\n   868→      // Build orderBy from orderByIndex if provided\n   869→      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n   870→      if (config.orderByIndex) {\n   871→        const index = relation.table.indexes[config.orderByIndex.indexName];\n   872→        if (index) {\n   873→          // Use all columns from the index for ordering\n   874→          orderBy = index.columns.map(\n   875→            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n   876→          );\n   877→        } else {\n   878→          // Fallback to ID column if index not found\n   879→          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n   880→        }\n   881→      }\n   882→\n   883→      compiled.push({\n   884→        relation,\n   885→        options: {\n   886→          select: config.select ?? true,\n   887→          where: conditions,\n   888→          orderBy,\n   889→          join: config.joins,\n   890→          limit: config.pageSize,\n   891→        },\n   892→      });\n   893→\n   894→      delete builder[name];\n   895→      return builder;\n   896→    };\n   897→  }\n   898→\n   899→  fn(builder as IndexedJoinBuilder<TTable, {}>);\n   900→  return compiled;\n   901→}\n   902→"}]},"uuid":"440233cd-cabe-4220-ad10-7a95f2fa939e","timestamp":"2026-02-12T10:54:07.083Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","content":"export function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n","numLines":72,"startLine":831,"totalLines":2310}},"sourceToolAssistantUUID":"04fca83a-f006-4aae-ba13-d5b145179d92"}
{"parentUuid":"440233cd-cabe-4220-ad10-7a95f2fa939e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01KntVwKyjxwj271BuQQ7YyD","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"The bumps in `buildJoinIndexed` come from:\n\n1. `if (config.where)` → nested `if (cond === true)` / `else if (cond === false)` / `else` \n2. `if (config.orderByIndex)` → nested `if (index)` / `else`\n\nI'll extract two helpers:\n1. `resolveJoinCondition` - handles the where clause compilation with clear returns\n2. `resolveJoinOrderBy` - handles the orderBy resolution\n\nThe false condition case is tricky because it causes an early return from the outer function. Let me use a sentinel approach or a different structure.\n\n\nActually, I can simplify this by having the helper functions return result objects that indicate what action to take—like a `ConditionResult` type that either signals to skip or provides the resolved condition. Defining helper functions that return these structured results will let me handle the early return case cleanly without nested conditionals.\n\nFor the orderBy resolution, I'm creating a function that checks if an index exists for the given name and maps its columns to the sort direction, falling back to the ID column if needed. This approach eliminates all the edge cases and branching logic that was making the code messy.","signature":"EoYOCkYICxgCKkA41iy1djrlvRJ43w0jFqCcd+WWkE0o7WmbjD4K14lINAnFVERsIpZz/IEnRkyIuZ9V04D9bXl2e92LK556RkHkEgxw9iMHE2wTzQHlks0aDIFXrhzeO52XrpQmjCIwtjPOIkgLwVaFmuwbYGGaCiKukTH7WDcYjWXsy96J/w+IiX7FhvFUo+u4806yB47GKu0M6XkiEMpPQctMxB7wkq3PsY0BD7429o7ZZJ433rl1Q5SyagfISut7jrsEUZGKFvtHQNicVGDjwDjY1VB4OSe12tDYJf7sX3ju2Wlu9s4lBxIyhg7YhxCX65z45RNwcqvXRQRIFPalhnfZ5QLyfsKVUs3uD2YdkoZKDJWiYHuTXCMP+Y8kg3XvAtUf8Dc9o0cdqLgdM5xQoDT5Y1i8yp+924yQAOc9ni8DXvi5wN9FRhxcxkccM8Xpeo3A/zBOS3GWuOBYY29opnkb+Jdeu+CP62usOx/waIIwccg+Oais5z4kivrzyiNEkLRY2SYz2TREH0SE9nQzCv7WW7IyBtvux6ph3XCdny2K5VjDFKvoX+ekgJx4CVDkKUv9N1pt50LSdZqxCijMp0/VLrln2wwY174UxM1z8+CgT4PTd8qlfq0PUTB+cxHblGAMLsc8UV/fMY7IZnXGvqAa0MPw1V/P93Li/oDwgLkRdGNHeP02DrZZQOc3y8hW0gibUEtiz7bFG/Ik8PYKTAJf+tbC/QjxNSxMYX6RMLlfleA74l5tL9n8VU1o1wtU34pQeAimFseh0wI7r9PhrAtfGE4o3pmKa4Zxyb9/RuwPGS/PLtdDA0mfP7qdpA1PQR6GHm9Lr1oSDqF16QUxZybjtIwl0xzZyVieP7/SRXFgaum/f0t0P6dhCew+W9yqeEnckuqfIqYGIbNbUU9i2tHFKZm0I1/iotoXFTKYaSxjFrZmZfkOrOvjDGdOWvdZWGsHOpdKXZWqlprxbLWaEIpEke/C5fm4QwuUGQiNLWed3qxbG3oRk1eV14AkNheNVY5UlvvWR3W2vm5iRjTd83j8hXd6ZpGJYBnaknhYr28MFPHOAOBW58P/kr0XGjPWiray8EdW5gYNjPjQWJtOtdk14KQ6N4mDDbIrRVxdntqwXQ93W4LQh2Q/woibatYULZYBPMSmz8VqyyTOzFBZQeWQ3c3SMKEDrp11Afe0l6sAnuUjEtxwY1p5qEAveG4N+UBbrG7ZgMravw1DBZ4a3JH++98t0G1Y0WEPR6gMytRrhzq8IjX8D/9Zl0fL4IedcfpY5jE2li+azdEhsWdEczWg8bkCEL/84rZA45Ycvh2AQH4wplOb3DLZWyZqDg/XZnCI+TL6N+5xyI9W90wb5ME7GsR+xB9i38PHIcnkr9A9vgMWyer7w9yLUSWkcu6+1u47by+DuzPLeMIdFYVM1D2GsmeUPb8370znwNBpSRCjaQDdM+TbhXmDsRa9RuvPw4lQuRz+1+gSzAxwDXsdirNax76mls/WOB5tHSG5gF+JgMMnHXWfVG9pW91MNE3zOGtLqXn25IrSDKAs1aScCsHTKnncLCtkpGkdwJn7J+LucqxPkMAGcvv2X4e7pbvf83tY+6pIuI4/ok6PsNZkzwUcMcPic+E27Ba7X00XCC0xicvO6lYUm8jVASFLrHI+7pMDywQrU1c3OUcXS44mfVoed1Lzu5aDVG3n6xk502yUrQCFlf8opRimtz/pnRJ0D2nCHLA4A64TwzGbaIJXJlcINYxL5Zn3r/9G1dIe0xFj8p20Mxebo4Bk+YZnHVCBr0npqEHLRtKJ4I+2XBhLULaKpzQL38sbT09osBM6Oz9jiSXVL37uQ0tN9FWmYB8XKBc322yiwyzuCiB+12Bb/nMf63Aa5x7wE2Hb54KwfFqqFQNxSTfsJ+cl2T6HwJuFaWUBhnE10ZlpTW77HNsXoiqfP2J5ANq0o6w/BEpvAxykY06eu/wCKKpU15CKIORw1bLIQ/YRh1aHsjS44aBAQ5xMUhexLrUIm7NNkaF5kWnHHWTs4CVEUoku0KUjZ13T7NTjrpnWp0oM3oDI0SR1nUKfF04fEYP8uiEALfOpdwlRHiQ8NEghsHH9quKb3u5+T0E1WvfBOhU+pD2yEYOt2jTEqb7XbWnw8gyFTe6En/igvfkN/A3df5ZPNrkFNTsrfQ7WwzlwqSFcGVAJM9yOTH6zHG/IKsNg821bPU+e5ZvxnWTnEeXrxBqBBwtpkvXvO8QcKlMKR1klsH8yVBZy8rZG6958TicpD3cLeWGtaD6Ll6CHaLOsyPh0jj1IwaZhhllq4wdZ1wRlx7WanAsD5E25Q3xzQdWN+tj2/wqHVjM0oAlifRzA6jDaYVpfMSHrmWGTIpQoisuxRxsDLYE+qv2ekkVsXRgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1034,"cache_read_input_tokens":75929,"cache_creation":{"ephemeral_5m_input_tokens":1034,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43ugc1qyE1J4DNx6fkg","type":"assistant","uuid":"33644cba-3da5-4422-9de7-298c9f069e03","timestamp":"2026-02-12T10:54:18.124Z"}
{"parentUuid":"33644cba-3da5-4422-9de7-298c9f069e03","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01KntVwKyjxwj271BuQQ7YyD","type":"message","role":"assistant","content":[{"type":"text","text":"I'll extract two helper functions to flatten the nested conditionals:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1034,"cache_read_input_tokens":75929,"cache_creation":{"ephemeral_5m_input_tokens":1034,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43ugc1qyE1J4DNx6fkg","type":"assistant","uuid":"0e2cd06b-55a1-4856-bfc2-100fd7c05591","timestamp":"2026-02-12T10:54:18.212Z"}
{"parentUuid":"0e2cd06b-55a1-4856-bfc2-100fd7c05591","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01KntVwKyjxwj271BuQQ7YyD","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Te2EH1CZvMYqMWnVkJdhKC","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","old_string":"/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(","new_string":"/**\n * Resolve a join's where clause into a Condition, or signal that the join should be skipped.\n * Returns `{ skip: true }` when the condition evaluates to literal false.\n */\nfunction resolveJoinCondition(\n  table: AnyTable,\n  where: ((eb: IndexedConditionBuilder<AnyTable>) => Condition | boolean) | undefined,\n): { skip: true } | { skip: false; condition: Condition | undefined } {\n  if (!where) {\n    return { skip: false, condition: undefined };\n  }\n  const cond = buildCondition(table.columns, where);\n  if (cond === false) {\n    return { skip: true };\n  }\n  return { skip: false, condition: cond === true ? undefined : cond };\n}\n\n/**\n * Resolve an orderByIndex specification into column/direction pairs.\n */\nfunction resolveJoinOrderBy(\n  table: AnyTable,\n  orderByIndex: { indexName: string; direction: \"asc\" | \"desc\" } | undefined,\n): [AnyColumn, \"asc\" | \"desc\"][] | undefined {\n  if (!orderByIndex) {\n    return undefined;\n  }\n  const index = table.indexes[orderByIndex.indexName];\n  if (index) {\n    return index.columns.map(\n      (col) => [col, orderByIndex.direction] as [AnyColumn, \"asc\" | \"desc\"],\n    );\n  }\n  return [[table.getIdColumn(), orderByIndex.direction]];\n}\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>("}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1034,"cache_read_input_tokens":75929,"output_tokens":1156,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":1034},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43ugc1qyE1J4DNx6fkg","type":"assistant","uuid":"d09ae91f-a7c0-48b7-bc5b-a0c3e5162af1","timestamp":"2026-02-12T10:54:24.226Z"}
{"parentUuid":"d09ae91f-a7c0-48b7-bc5b-a0c3e5162af1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01Te2EH1CZvMYqMWnVkJdhKC","toolUseID":"toolu_01Te2EH1CZvMYqMWnVkJdhKC","timestamp":"2026-02-12T10:54:24.245Z","uuid":"fcae27b1-96c4-4317-8cc3-36d1c0b10fdf"}
{"parentUuid":"d09ae91f-a7c0-48b7-bc5b-a0c3e5162af1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Te2EH1CZvMYqMWnVkJdhKC","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts has been updated successfully."}]},"uuid":"ffbd1b24-f68f-4014-a371-55cbe3402859","timestamp":"2026-02-12T10:54:24.244Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","oldString":"/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(","newString":"/**\n * Resolve a join's where clause into a Condition, or signal that the join should be skipped.\n * Returns `{ skip: true }` when the condition evaluates to literal false.\n */\nfunction resolveJoinCondition(\n  table: AnyTable,\n  where: ((eb: IndexedConditionBuilder<AnyTable>) => Condition | boolean) | undefined,\n): { skip: true } | { skip: false; condition: Condition | undefined } {\n  if (!where) {\n    return { skip: false, condition: undefined };\n  }\n  const cond = buildCondition(table.columns, where);\n  if (cond === false) {\n    return { skip: true };\n  }\n  return { skip: false, condition: cond === true ? undefined : cond };\n}\n\n/**\n * Resolve an orderByIndex specification into column/direction pairs.\n */\nfunction resolveJoinOrderBy(\n  table: AnyTable,\n  orderByIndex: { indexName: string; direction: \"asc\" | \"desc\" } | undefined,\n): [AnyColumn, \"asc\" | \"desc\"][] | undefined {\n  if (!orderByIndex) {\n    return undefined;\n  }\n  const index = table.indexes[orderByIndex.indexName];\n  if (index) {\n    return index.columns.map(\n      (col) => [col, orderByIndex.direction] as [AnyColumn, \"asc\" | \"desc\"],\n    );\n  }\n  return [[table.getIdColumn(), orderByIndex.direction]];\n}\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(","originalFile":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(init: UnitOfWorkInit<TRawInput>) {\n    this.#compiler = init.compiler;\n    this.#executor = init.executor;\n    this.#decoder = init.decoder;\n    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();\n    this.#name = init.name;\n    this.#config = init.config;\n    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork<TRawInput>({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","structuredPatch":[{"oldStart":825,"oldLines":6,"newStart":825,"newLines":43,"lines":[" };"," "," /**","+ * Resolve a join's where clause into a Condition, or signal that the join should be skipped.","+ * Returns `{ skip: true }` when the condition evaluates to literal false.","+ */","+function resolveJoinCondition(","+  table: AnyTable,","+  where: ((eb: IndexedConditionBuilder<AnyTable>) => Condition | boolean) | undefined,","+): { skip: true } | { skip: false; condition: Condition | undefined } {","+  if (!where) {","+    return { skip: false, condition: undefined };","+  }","+  const cond = buildCondition(table.columns, where);","+  if (cond === false) {","+    return { skip: true };","+  }","+  return { skip: false, condition: cond === true ? undefined : cond };","+}","+","+/**","+ * Resolve an orderByIndex specification into column/direction pairs.","+ */","+function resolveJoinOrderBy(","+  table: AnyTable,","+  orderByIndex: { indexName: string; direction: \"asc\" | \"desc\" } | undefined,","+): [AnyColumn, \"asc\" | \"desc\"][] | undefined {","+  if (!orderByIndex) {","+    return undefined;","+  }","+  const index = table.indexes[orderByIndex.indexName];","+  if (index) {","+    return index.columns.map(","+      (col) => [col, orderByIndex.direction] as [AnyColumn, \"asc\" | \"desc\"],","+    );","+  }","+  return [[table.getIdColumn(), orderByIndex.direction]];","+}","+","+/**","  * Build join operations with indexed-only where clauses for Unit of Work","  * This ensures all join conditions can leverage indexes for optimal performance","  */"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"d09ae91f-a7c0-48b7-bc5b-a0c3e5162af1"}
{"parentUuid":"ffbd1b24-f68f-4014-a371-55cbe3402859","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01FMSnSSQfT3Sog6K7Eh5XN1","type":"message","role":"assistant","content":[{"type":"text","text":"Now simplify the `buildJoinIndexed` body to use these helpers:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1191,"cache_read_input_tokens":76963,"cache_creation":{"ephemeral_5m_input_tokens":1191,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43vx2EpW5ogWrJ82zV6","type":"assistant","uuid":"ca76ebf3-b4df-4cdd-9fd1-ca3dacb6b98e","timestamp":"2026-02-12T10:54:26.579Z"}
{"parentUuid":"ca76ebf3-b4df-4cdd-9fd1-ca3dacb6b98e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01FMSnSSQfT3Sog6K7Eh5XN1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EYw3JmERNwk2BN6mJKRkF7","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","old_string":"    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };","new_string":"    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      const conditionResult = resolveJoinCondition(relation.table, config.where);\n      if (conditionResult.skip) {\n        compiled.push({ relation, options: false });\n        delete builder[name];\n        return builder;\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditionResult.condition,\n          orderBy: resolveJoinOrderBy(relation.table, config.orderByIndex),\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1191,"cache_read_input_tokens":76963,"output_tokens":903,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":1191},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43vx2EpW5ogWrJ82zV6","type":"assistant","uuid":"0af4a31a-278e-4c1e-b9ff-837e0ad23c55","timestamp":"2026-02-12T10:54:32.989Z"}
{"parentUuid":"0af4a31a-278e-4c1e-b9ff-837e0ad23c55","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_01EYw3JmERNwk2BN6mJKRkF7","toolUseID":"toolu_01EYw3JmERNwk2BN6mJKRkF7","timestamp":"2026-02-12T10:54:33.005Z","uuid":"90292592-4900-49fc-8145-1982dadfa9a8"}
{"parentUuid":"0af4a31a-278e-4c1e-b9ff-837e0ad23c55","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EYw3JmERNwk2BN6mJKRkF7","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts has been updated successfully."}]},"uuid":"ea907a84-6612-41b1-8be8-9cec01fd9308","timestamp":"2026-02-12T10:54:33.004Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","oldString":"    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };","newString":"    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      const conditionResult = resolveJoinCondition(relation.table, config.where);\n      if (conditionResult.skip) {\n        compiled.push({ relation, options: false });\n        delete builder[name];\n        return builder;\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditionResult.condition,\n          orderBy: resolveJoinOrderBy(relation.table, config.orderByIndex),\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };","originalFile":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Resolve a join's where clause into a Condition, or signal that the join should be skipped.\n * Returns `{ skip: true }` when the condition evaluates to literal false.\n */\nfunction resolveJoinCondition(\n  table: AnyTable,\n  where: ((eb: IndexedConditionBuilder<AnyTable>) => Condition | boolean) | undefined,\n): { skip: true } | { skip: false; condition: Condition | undefined } {\n  if (!where) {\n    return { skip: false, condition: undefined };\n  }\n  const cond = buildCondition(table.columns, where);\n  if (cond === false) {\n    return { skip: true };\n  }\n  return { skip: false, condition: cond === true ? undefined : cond };\n}\n\n/**\n * Resolve an orderByIndex specification into column/direction pairs.\n */\nfunction resolveJoinOrderBy(\n  table: AnyTable,\n  orderByIndex: { indexName: string; direction: \"asc\" | \"desc\" } | undefined,\n): [AnyColumn, \"asc\" | \"desc\"][] | undefined {\n  if (!orderByIndex) {\n    return undefined;\n  }\n  const index = table.indexes[orderByIndex.indexName];\n  if (index) {\n    return index.columns.map(\n      (col) => [col, orderByIndex.direction] as [AnyColumn, \"asc\" | \"desc\"],\n    );\n  }\n  return [[table.getIdColumn(), orderByIndex.direction]];\n}\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      // Create join builder for this relation's table\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      // Build condition with indexed columns only\n      let conditions: Condition | undefined;\n      if (config.where) {\n        const cond = buildCondition(relation.table.columns, config.where);\n        if (cond === true) {\n          conditions = undefined;\n        } else if (cond === false) {\n          // If condition evaluates to false, skip this join\n          compiled.push({\n            relation,\n            options: false,\n          });\n          delete builder[name];\n          return builder;\n        } else {\n          conditions = cond;\n        }\n      }\n\n      // Build orderBy from orderByIndex if provided\n      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;\n      if (config.orderByIndex) {\n        const index = relation.table.indexes[config.orderByIndex.indexName];\n        if (index) {\n          // Use all columns from the index for ordering\n          orderBy = index.columns.map(\n            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],\n          );\n        } else {\n          // Fallback to ID column if index not found\n          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];\n        }\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditions,\n          orderBy,\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(init: UnitOfWorkInit<TRawInput>) {\n    this.#compiler = init.compiler;\n    this.#executor = init.executor;\n    this.#decoder = init.decoder;\n    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();\n    this.#name = init.name;\n    this.#config = init.config;\n    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork<TRawInput>({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","structuredPatch":[{"oldStart":876,"oldLines":53,"newStart":876,"newLines":25,"lines":["     const relation = table.relations[name]!;"," ","     builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {","-      // Create join builder for this relation's table","       const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);","       if (builderFn) {","         builderFn(joinBuilder);","       }","       const config = joinBuilder.build();"," ","-      // Build condition with indexed columns only","-      let conditions: Condition | undefined;","-      if (config.where) {","-        const cond = buildCondition(relation.table.columns, config.where);","-        if (cond === true) {","-          conditions = undefined;","-        } else if (cond === false) {","-          // If condition evaluates to false, skip this join","-          compiled.push({","-            relation,","-            options: false,","-          });","-          delete builder[name];","-          return builder;","-        } else {","-          conditions = cond;","-        }","+      const conditionResult = resolveJoinCondition(relation.table, config.where);","+      if (conditionResult.skip) {","+        compiled.push({ relation, options: false });","+        delete builder[name];","+        return builder;","       }"," ","-      // Build orderBy from orderByIndex if provided","-      let orderBy: [AnyColumn, \"asc\" | \"desc\"][] | undefined;","-      if (config.orderByIndex) {","-        const index = relation.table.indexes[config.orderByIndex.indexName];","-        if (index) {","-          // Use all columns from the index for ordering","-          orderBy = index.columns.map(","-            (col) => [col, config.orderByIndex!.direction] as [AnyColumn, \"asc\" | \"desc\"],","-          );","-        } else {","-          // Fallback to ID column if index not found","-          orderBy = [[relation.table.getIdColumn(), config.orderByIndex.direction]];","-        }","-      }","-","       compiled.push({","         relation,","         options: {","           select: config.select ?? true,","-          where: conditions,","-          orderBy,","+          where: conditionResult.condition,","+          orderBy: resolveJoinOrderBy(relation.table, config.orderByIndex),","           join: config.joins,","           limit: config.pageSize,","         },"]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"0af4a31a-278e-4c1e-b9ff-837e0ad23c55"}
{"parentUuid":"ea907a84-6612-41b1-8be8-9cec01fd9308","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_016B3NJfzJVduxToMzUkzm1n","type":"message","role":"assistant","content":[{"type":"text","text":"Those warnings are likely stale diagnostics — the functions are used inside `buildJoinIndexed`. Let me verify:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1071,"cache_read_input_tokens":78154,"cache_creation":{"ephemeral_5m_input_tokens":1071,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43wbVVWxzp1FtRSkJs3","type":"assistant","uuid":"968c0909-0474-485b-a78d-9888023d5c52","timestamp":"2026-02-12T10:54:36.430Z"}
{"parentUuid":"968c0909-0474-485b-a78d-9888023d5c52","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_016B3NJfzJVduxToMzUkzm1n","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01EarrvxNZRt7Q47cuoiGvsA","name":"Grep","input":{"pattern":"resolveJoin","path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","output_mode":"content"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1071,"cache_read_input_tokens":78154,"output_tokens":151,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":1071},"inference_geo":"","iterations":[]}},"requestId":"req_011CY43wbVVWxzp1FtRSkJs3","type":"assistant","uuid":"fbee4f0c-c078-4e45-babc-b34901b93dd1","timestamp":"2026-02-12T10:54:37.396Z"}
{"parentUuid":"fbee4f0c-c078-4e45-babc-b34901b93dd1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Grep","command":"callback"},"parentToolUseID":"toolu_01EarrvxNZRt7Q47cuoiGvsA","toolUseID":"toolu_01EarrvxNZRt7Q47cuoiGvsA","timestamp":"2026-02-12T10:54:37.512Z","uuid":"fc88ce16-819b-4c3d-b2ab-6e47bf2a34bb"}
{"parentUuid":"fbee4f0c-c078-4e45-babc-b34901b93dd1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01EarrvxNZRt7Q47cuoiGvsA","type":"tool_result","content":"831:function resolveJoinCondition(\n848:function resolveJoinOrderBy(\n885:      const conditionResult = resolveJoinCondition(relation.table, config.where);\n897:          orderBy: resolveJoinOrderBy(relation.table, config.orderByIndex),"}]},"uuid":"f31f5834-8eee-4685-9289-e30fdf81ad59","timestamp":"2026-02-12T10:54:37.512Z","toolUseResult":{"mode":"content","numFiles":0,"filenames":[],"content":"831:function resolveJoinCondition(\n848:function resolveJoinOrderBy(\n885:      const conditionResult = resolveJoinCondition(relation.table, config.where);\n897:          orderBy: resolveJoinOrderBy(relation.table, config.orderByIndex),","numLines":4},"sourceToolAssistantUUID":"fbee4f0c-c078-4e45-babc-b34901b93dd1"}
{"parentUuid":"f31f5834-8eee-4685-9289-e30fdf81ad59","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Kp3QZMh6YFSg5ezo7p8DFk","type":"message","role":"assistant","content":[{"type":"text","text":"Good, they are used. Those are stale diagnostics."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":232,"cache_read_input_tokens":79225,"cache_creation":{"ephemeral_5m_input_tokens":232,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43wviszpMiouoEwwrDB","type":"assistant","uuid":"4afede0b-69f9-4111-8a72-99940de8cc6d","timestamp":"2026-02-12T10:54:40.262Z"}
{"parentUuid":"4afede0b-69f9-4111-8a72-99940de8cc6d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Kp3QZMh6YFSg5ezo7p8DFk","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01S8icqJTnFEnb4WxPTcgcd6","name":"TaskUpdate","input":{"taskId":"2","status":"completed"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":232,"cache_read_input_tokens":79225,"cache_creation":{"ephemeral_5m_input_tokens":232,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43wviszpMiouoEwwrDB","type":"assistant","uuid":"a55a5191-3ad8-44fa-84e6-0584de55ebd0","timestamp":"2026-02-12T10:54:40.659Z"}
{"parentUuid":"a55a5191-3ad8-44fa-84e6-0584de55ebd0","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01S8icqJTnFEnb4WxPTcgcd6","type":"tool_result","content":"Updated task #2 status"}]},"uuid":"b8ea12bb-9205-4333-aaff-f169b07ee4f3","timestamp":"2026-02-12T10:54:40.662Z","toolUseResult":{"success":true,"taskId":"2","updatedFields":["status"],"statusChange":{"from":"in_progress","to":"completed"}},"sourceToolAssistantUUID":"a55a5191-3ad8-44fa-84e6-0584de55ebd0"}
{"parentUuid":"b8ea12bb-9205-4333-aaff-f169b07ee4f3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Kp3QZMh6YFSg5ezo7p8DFk","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01RinwFrasEsayerW64agzc4","name":"TaskUpdate","input":{"taskId":"3","status":"in_progress"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":232,"cache_read_input_tokens":79225,"cache_creation":{"ephemeral_5m_input_tokens":232,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43wviszpMiouoEwwrDB","type":"assistant","uuid":"7766fb7c-55f0-454c-8288-04446692cd25","timestamp":"2026-02-12T10:54:41.078Z"}
{"parentUuid":"7766fb7c-55f0-454c-8288-04446692cd25","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01RinwFrasEsayerW64agzc4","type":"tool_result","content":"Updated task #3 status"}]},"uuid":"61f82180-504a-4133-9b97-dd53405df2e8","timestamp":"2026-02-12T10:54:41.080Z","toolUseResult":{"success":true,"taskId":"3","updatedFields":["status"],"statusChange":{"from":"pending","to":"in_progress"}},"sourceToolAssistantUUID":"7766fb7c-55f0-454c-8288-04446692cd25"}
{"parentUuid":"61f82180-504a-4133-9b97-dd53405df2e8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Vboepb5XejxJRigxmB8eoR","type":"message","role":"assistant","content":[{"type":"text","text":"**Task 3: Extract functions from `executeRetrieve`**\n\nLet me re-read the current state of `executeRetrieve`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":212,"cache_read_input_tokens":79457,"cache_creation":{"ephemeral_5m_input_tokens":212,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43xCA5NmK9v9VFWpqhZ","type":"assistant","uuid":"756f2c37-d4cc-431c-b258-824db582c7dc","timestamp":"2026-02-12T10:54:43.996Z"}
{"parentUuid":"756f2c37-d4cc-431c-b258-824db582c7dc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Vboepb5XejxJRigxmB8eoR","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_017SBPrawNTGqZELDCpfvqmZ","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","offset":1563,"limit":100}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":212,"cache_read_input_tokens":79457,"cache_creation":{"ephemeral_5m_input_tokens":212,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43xCA5NmK9v9VFWpqhZ","type":"assistant","uuid":"e89c8d58-8f9b-4aab-9583-6b5b54b9ba47","timestamp":"2026-02-12T10:54:44.877Z"}
{"parentUuid":"e89c8d58-8f9b-4aab-9583-6b5b54b9ba47","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_017SBPrawNTGqZELDCpfvqmZ","toolUseID":"toolu_017SBPrawNTGqZELDCpfvqmZ","timestamp":"2026-02-12T10:54:44.882Z","uuid":"a21f4c13-ab93-44cf-920f-ef2cee8bbe68"}
{"parentUuid":"e89c8d58-8f9b-4aab-9583-6b5b54b9ba47","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_017SBPrawNTGqZELDCpfvqmZ","type":"tool_result","content":"  1563→      if (this.#retrievalOps.length === 0) {\n  1564→        this.#state = \"building-mutation\";\n  1565→        const emptyResults: unknown[] = [];\n  1566→        afterRan = true;\n  1567→        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1568→        if (afterInjection) {\n  1569→          return this.#handleRetrieveInjection(afterInjection);\n  1570→        }\n  1571→        this.#retrievalPhaseDeferred.resolve(emptyResults);\n  1572→        return emptyResults;\n  1573→      }\n  1574→\n  1575→      // Compile retrieval operations using single compiler\n  1576→      const retrievalBatch: unknown[] = [];\n  1577→      for (const op of this.#retrievalOps) {\n  1578→        const compiled = this.#compiler.compileRetrievalOperation(op);\n  1579→        if (compiled !== null) {\n  1580→          this.#config?.onQuery?.(compiled);\n  1581→          retrievalBatch.push(compiled);\n  1582→        }\n  1583→      }\n  1584→\n  1585→      if (this.#config?.dryRun) {\n  1586→        this.#state = \"executed\";\n  1587→        const emptyResults: unknown[] = [];\n  1588→        afterRan = true;\n  1589→        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1590→        if (afterInjection) {\n  1591→          return this.#handleRetrieveInjection(afterInjection);\n  1592→        }\n  1593→        this.#retrievalPhaseDeferred.resolve(emptyResults);\n  1594→        return emptyResults;\n  1595→      }\n  1596→\n  1597→      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n  1598→\n  1599→      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n  1600→\n  1601→      // Store results and transition to mutation phase\n  1602→      this.#retrievalResults = results;\n  1603→      this.#state = \"building-mutation\";\n  1604→\n  1605→      afterRan = true;\n  1606→      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1607→      if (afterInjection) {\n  1608→        return this.#handleRetrieveInjection(afterInjection);\n  1609→      }\n  1610→\n  1611→      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n  1612→\n  1613→      return this.#retrievalResults;\n  1614→    } catch (error) {\n  1615→      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n  1616→      failed = true;\n  1617→      throw error;\n  1618→    } finally {\n  1619→      try {\n  1620→        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n  1621→      } catch {\n  1622→        // Ignore finalizer errors when unwinding failures.\n  1623→      }\n  1624→\n  1625→      if (!afterRan && failed) {\n  1626→        try {\n  1627→          await this.#runInstrumentation(\"afterRetrieve\");\n  1628→        } catch {\n  1629→          // Ignore after-retrieve hook errors when unwinding failures.\n  1630→        }\n  1631→      }\n  1632→    }\n  1633→  }\n  1634→\n  1635→  /**\n  1636→   * Execute the mutation phase\n  1637→   * Returns success flag indicating if mutations completed without conflicts\n  1638→   */\n  1639→  async executeMutations(): Promise<{ success: boolean }> {\n  1640→    if (this.#coordinator.isRestricted) {\n  1641→      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n  1642→    }\n  1643→\n  1644→    if (this.#state === \"executed\") {\n  1645→      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n  1646→    }\n  1647→\n  1648→    let afterRan = false;\n  1649→    let failed = false;\n  1650→    try {\n  1651→      // Wait for all children to signal readiness\n  1652→      await this.#coordinator.mutationReadinessPromise;\n  1653→\n  1654→      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n  1655→      if (beforeInjection) {\n  1656→        return this.#handleMutationInjection(beforeInjection);\n  1657→      }\n  1658→\n  1659→      // Compile mutation operations using single compiler\n  1660→      const mutationBatch: CompiledMutation<unknown>[] = [];\n  1661→      for (const op of this.#mutationOps) {\n  1662→        const compiled = this.#compiler.compileMutationOperation(op);"}]},"uuid":"bba2221e-42c6-44a5-af71-00edd9fbc35b","timestamp":"2026-02-12T10:54:44.881Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","content":"      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);","numLines":100,"startLine":1563,"totalLines":2319}},"sourceToolAssistantUUID":"e89c8d58-8f9b-4aab-9583-6b5b54b9ba47"}
{"parentUuid":"bba2221e-42c6-44a5-af71-00edd9fbc35b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01ShQRKcggVcmBpZHF4wej15","type":"message","role":"assistant","content":[{"type":"thinking","thinking":"The key complexity in both methods comes from:\n1. The try/catch/finally with `afterRan`/`failed` tracking\n2. Repeated pattern of \"run after instrumentation → check injection → handle injection\"\n3. Multiple early returns (empty ops, dry run)\n\nThe main pattern I see repeated 3 times in `executeRetrieve` and 2 times in `executeMutations` is:\n```ts\nafterRan = true;\nconst afterInjection = await this.#runInstrumentation(\"afterX\");\nif (afterInjection) {\n  return this.#handleXInjection(afterInjection);\n\n\n}\n```\n\nAnd the compilation loops can be extracted. I'm thinking I should create separate methods for the compilation batches and the after-instrumentation handling, since both `executeRetrieve` and `executeMutations` share the same `afterRan` tracking pattern with the finally block.\n\nLooking at the structure more carefully, both methods follow: guard checks, initialize tracking flags, try-catch-finally with before/after instrumentation wrapping around the core logic, and conditional after-instrumentation in the finally block if things didn't complete normally. The core logic differs between them, but the wrapper is identical.\n\nI think the cleanest approach is extracting the compilation helpers first, then pulling out the after-instrumentation resolution logic as a shared method.\n\nNow examining what each method actually does inside: `executeRetrieve` either returns empty results early if there are no operations or after a dry-run, or executes and decodes the batch; `executeMutations` similarly returns early on dry-run but otherwise executes and processes the result. Both patterns end with the same \"set afterRan, run after-instrumentation, resolve, return\" sequence.\n\nI could extract that common resolution pattern into a helper, but the return types and handlers differ between them. The real complexity driver is actually the nested conditionals—the guard check, the empty ops check, the dry-run check—so I should focus on extracting those branches first to reduce the cyclomatic complexity. I'm seeing that the real win here is extracting the batch compilation logic and the phase completion pattern into separate methods. The `#withPhaseInstrumentation` wrapper could handle the try/catch/finally boilerplate and error tracking, which would dramatically reduce the cyclomatic complexity. Let me focus on the most impactful extractions first—pulling out the batch compilation and the instrumentation wrapper should give the biggest payoff. I'm settling on a simpler extraction strategy: pull out the batch compilation logic into separate methods for retrievals and mutations, then wrap the core execution logic with a shared method that handles the try/catch/finally and phase tracking. The key insight is that extracting just the compilation loops and the repeated instrumentation-resolve pattern will give me the biggest cyclomatic complexity reduction without over-engineering. I'm stepping back to think about the cleanest way to extract this logic. The key insight is that `afterRan` tracking happens at multiple points and affects the finally block, so I need a helper that manages the \"resolve phase with after-instrumentation\" while keeping the try/catch/finally structure intact. My plan is to extract compilation helpers first since those are straightforward, then create a helper for the phase resolution that handles the `afterRan` tracking properly.\n\nWriting helper methods... Writing finalization methods...\n\nNow I'm thinking through the `afterRan` tracking and how it fits into the overall flow.  The key insight is that `afterRan` needs to signal whether the after-instrumentation hook executed successfully in the normal path, so that the finally block can catch cases where an error occurred before reaching that hook and ensure it still runs. I'm considering extracting the core phase execution into a separate method that the try block calls, which would help manage this state more cleanly.\n\nNow I'm working through the retrieve phase execution—checking readiness, running the before-instrumentation hook, handling any injections, compiling the retrieval batch, accounting for dry-run mode, and then executing the actual retrieval and decoding the results. Finishing the cleanup logic...\n\nThe `#runPhaseCleanup` method handles the finalization by running instrumentation finalizers, then conditionally running the after-phase instrumentation if the phase didn't complete successfully. But I'm realizing there's a potential issue here—since `#finalizeRetrieve` already runs the after-instrumentation as part of the normal success path, I need to make sure we're not duplicating that work when `phaseCompleted` is true.\n\nLooking back at the original logic, the `afterRan` flag gets set to true before the after hook runs, so even if the hook throws an injection error, the flag remains true. This means the finally block can check whether the after hook already executed and avoid running it twice.\n\nRefactoring the extraction...\n\nThe issue is that `afterInstrumentationRan` needs to be set inside `#finalizeRetrieve` itself, not after `#executeRetrievePhase()` completes, because the after-instrumentation could throw and we'd still need to know it ran. So the flag should be managed within the phase execution logic, not in the try block of the outer method.\n\nI'm thinking a cleaner approach would be to extract the batch compilation and core execution logic separately, then handle the instrumentation guards directly in the main method to avoid this flag-tracking complexity. I could add early returns for guard conditions, extract the batch compilation into its own method, and keep the instrumentation handling inline where it's easier to track state.\n\nRestructuring the method... Finishing the error handling and cleanup logic...\n\nI see the issue now—I'm duplicating the after-instrumentation logic across multiple code paths. The empty ops, dry-run, and execute paths all need to call after-instrumentation and check for injection, then resolve the deferred promise. I can consolidate these by moving the common logic into a single place rather than repeating it three times. Handling the injection result if one exists, then resolving the retrieval phase with the actual results. The core retrieval method compiles the batch, checks for dry-run mode, executes the phase, and decodes the raw response.\n\nNow I'm refactoring the mutation execution similarly—consolidating the after-instrumentation calls and significantly reducing cyclomatic complexity in both methods. Still writing mutation logic...\n\nNow I'm seeing I need to extract some shared helpers too—the batch compilation methods and a cleanup function that can handle the finally block logic for both retrieval and mutation phases.","signature":"EtCVAQpGCAsYAipAjv5AwJ26VD1r5E6D5Z/nhOW6VqttlVf05ihsgfSSxQj1/dkUT3I7S4C4RyW/Kkj4cMVl9Mca4H/zEWQuAPTM6BIMOJ0VlZkEa0k/3MqjGgzTA5ulpSekWkyJ+BwiMAxamNpD0lcdnmNxYotEUGoG+W53VhT5Y32CKc3SusHiqSf79AavZswzJSqGF+9h1Cq2lAGGBhsX1hC0BemEk6+Wkfn46Zhqy6pTFq3kfi9Z09JvFzYJRJkDHMvbMdEYvtQMPZFe1VeDwVV27WGuDm4QKEAN4E9BwqD0XvZFQqyOPUaefhTM9NuF8DHnCLJRFX8/+H4nk5hlkpv0GhTPHLeuKpm6uzufCGIqMdAMcCKWT+pwr4wM61wdeJnf1HODkHrNQiSgbkjqLBGcbUEnWJrlXPlaPK/uY39J6zmAbrndxUyEf1/I//v6SoaXFztKoe5IuSuDYY365jQ8XPimti4nPqLwORbzAfHuQN+yvKV2qFzHR3ZcyIFlIiLNrZ2KTObRMy+P9RC1vf6ocyAErmRzI2a18bbJSRvWhW7ZZ5j+0Ejgmf9Kp6b62PDyzy/CkKyHCX1vpRYvx4p3Uf5GlU2PIdhLrR0GL4MlWuA6dV8FSznneLP5H0sg/nrinVKuXcV89bRFsbsElfu7d0BalluWS1DL/Za1B0wPOW0YSVowtARZNfz5g0aS14Cwu49sTQFfMsC+Kcf57I5yHTnCncmQyW8MfOMebVg/vIs21nYHAK4pJ5Jiiq//mzLTLXCRe6wI+dXbeHLM8AxPaNer/5NxpqW5UolItiPUBceHWx1qHeYEJdRdJCaOrsc9fOHQ1dkUIDwiVVWADOr5HSSTHA8ce3Aveotd5cc7dZmWsp9rOiz2YBUZCtmUmB89kR6CHqX4EGxko62XVFCgHqc3QPhIUcFIT9bMr76jODU5C4eoZ/+T2PFNudk+fOp49WzeTXTfCdc0W3SM3nlrZev+OKARLaL++VAd+Tt4MMSlp98F64BS7KqPlpcNvr2i4Ov6l/7vyRMCMKp5gRK87ruuAbrwwS79Hxvichy4oua8XpD+qPHxxzU6gNP6Z3VkYPwCSv2YeERRDKukz43JYoCkUgSRSQJdM45WZWTNYUDtxjyM6jX6j+NtRFKbFcwQWVW8EQuicRs5pAjs55qhdMNXAqPa6UrgUUWBLhjVD+Slyxbl8lMBj78vi7YqDM1ikprianKCPxNnUBK+nIeJFfwgO+DL+VsEhwlX2g0uXatUBN85SXVckinfQ8y2ZJfGAA7vlmiuHrwemsTXg4vT4iXdvGdmtzMMYzVmC8ZWY27paPZB7RRsaFwHHueLnt/yAym4F4BJrLNLjMuZBJ+rBL0tY1Wf8k9W2jCB9YJrRM6poVdadxaNmmjIoB/R+cA4ePp5c0hQ/28eu3OmrLtAgZZdYjSXpoVGeYvy6IR7VCU3e38nCLnIFXXPoUm9HccZ0JcKWd+Ih4RTiILOeMRaS756QeezZN3YByg2xZB4CmBAlWl07HCJeR+YCIP374R60ZeReuRg4MrZI69HAXKyfU4vf/xTNCi04SyGqQx+qzAjlGgtppXZF0c0kFw/XKLy92QcUXIj65cWOnWT9/JLs/+ax/O4qiXS0Mj2fdbKWxCDBybUmq2o1h4GMdYZ1Hd6WUApxQw4enD+rS+WWisyg2KU2nqLePwzPj3xXhN8Kb4/j1I1w/1tZr/mh92UTQzlTrL5na5Q8Y2wrmFPC+1E9C6gnyp5lSSUAZz59mvMrC3zqKcZtwu6MpIP00mLfUGdIIPtJAyQNiOIzHKUw4MUvbDg6hNZ+FuYJj7jooeVc0KqVRL9/99csPlibVTUcHqnyH+ukZwggvNeLiHgtfJdAsSA5iDiTtMogNcLmP8JT2nm8Ftbv6K5Blg1edDBREEbDzCbNHsjkm93CtazPdojx0keBKOwZZW1+U40tT7mmSmA4uZM00D3a2gBB92/bc+V2IxBkpm+Bd//p63v6sncGPi+jFiEFWkiq5QsF/ub3WuNTLLLpdLGL4m3g04Z5ekVAr9crRlNyfhi5SPX3HYKkr3YbPO+uSRiGe3kgF3hGmSgzrclaOFFMS0k8VsLMAGSoPSOrt/lF0hD6idlRTtEhfHKdeWYnaOwsILOV6xvdQnNInIxz5fUy1R/dWLbt0smNg3wCUdM4pDB8RjoZUdZUgesYqUzRbw8cWe7tdFOy1wP2aTd2Yw4yVEDl5ab93PUIqHJ7Sv1x/xd8PFTbUjkSUeNpNPKcBSGyqg2RLfr+8XyznjUXSw8NDqD9xNplChYIgLlolLIqG2ijtDBBCDI7FbClO+4QkTNPVb9oe1Vusv0Pbj4d4Fgbxpp0x8ou+/8snINxkvXL3ceTN84fvD2/9aDSE4nUd63htCngAFVk9GdTisaV3KZ4e1hn0muhTw53ocKA6kGLgctz/m/+4BidmRXT+7ugcxpfBrz0y2vlTvFFcu4crGxne5RTixjmmH6C9ZwfGWfK3ohUsLh9jM0QXiIm3Y1/9oprQ29eOm746Of5pyta8GE2R+3MIIjtT3DDPTKTcl3dEpho87/kDjCa/L8isTuT8kXPZ9yzVLePyQpLmwFxUSF0ctUQ8qb15iMsazYaxrXIrgQFBCcuPLYV3Jqp+eYljlRV9nY3/W1/VtfXHI/APsRKyQCMitx9Ma5uMnBzZ1i1O6Iq0zeXUp4nvUC74GChNxYlP7b5Yca2K0gfNmIYHArU0Icz+tAHyHvv41n8HBezjyB7H1MS2Mgx1vvmAVu6qZI+zAm2RAaAcQ4LCJYcUR1xytnH7luZGKJSWYQHzSyfX6gBU+v5Nc1uu1B2ZIHoB4DSgZH2l6t0s9EMP1BNNRBjUwTkaKTW5H0X5e7ZHhE8y8FSniTPOmycy8T6ugkXtDg46oM3R/BxhYbNA0HJj1/PihZrObUCtaIJogY5fz8X0eY7fVX/md1ejaxvF9Sqy258pacr9ddfuqwjp9XJoPyUSP99QincY07EbkgRaaK/mThGofzI7EZtWS7hvOW6tABpjrR1GREG4REZWuWyYCsD38ZWU8HLQPX2sGqLzkj6tE3S1siefAllg1c+UwJbtyjnuUNdRm21z2y38jKZ7riYRGNxCkOPX/X46FDU5iONgtqeIwAPNVcPMt9hr65W4k6me8jWrCVS2Oz7/AGi34AYo7NyGasPM5epVALV1HDrxyO9QR+9f3tzSlFaL0zdPiKgchLyLjsB2+fQXWOUd3lRxIP8n98UkQi+as86PQ7Y04lD2oTigbp2OkST8Pv2q/liutan889UNxU0RaIIhVF8KulcPvib3yc92QZ5NdoCC6BK/fmX4xC2hX83admeseuJNgdfydV85K1KoHs51fGv8Qfuf+Ufknsj2mSJpcD4xcVhJpZQX9umVB/Dio10v2JTJnyYMKef2bQabj8iR4rNpcifWUWRqB/+wYgdhM2g3miNtwME33EFMevNcEi+tagviIu9x72equRcQw2jOq7sxtTuv/2w+mnzaLC7p14g5pG4sKYzjPvwRnFlnQphRBoVxgXdnwu37Wab95RpbsMgQBCAPdTuQaJ3h4FxfUyjY4x0U0jW8gx8o0Q2hGkEzlnKK6F7P7HWGCicfBRk+08UUB8E9SNC4x1jTbqiTBLEf1YAC/DONZyVUbEsPHCbsKqnwaqVDN7kwXbcIUnkNEPdHPljEDYIx6F90tgA463X3+HVy5qBshOkSMeu9X1FkH0eodRQgQEiPjtvcIYnPKbQBMoy0EOXTTb6hF1jehkhG++G2WcifWPygrbs1hDbCMHkL4NV1U83MIZxAygwaY0Yfr97wzvxoryhSwuq7L8T1H4YRS92TuxrZV9xIWsIbBhKoJS7pjeCxHM/BUWRnUv16pCS0P6U/yMk+hyj/+shQb4X6FOE35OlAyTjFBb0wGuIczE99uuxr3nN6Ifml6sUfqP3Sm+OergIb6UCZJqM+EZZLzkXA3IOrsGE3qiE/G0MbATTqc3CnQnEA+pzUmxISLDj4Ul7zgupxs4KHoJ0AJYnRZKoOI0Xgkb0ww7yB/PHu6wWtiTYBmYox6X4hxr6QevkMa+au1sgiSOUTkWED+ZftwSE8+xFan+tVwwenvlR2arh1tz7rs4E+ALx8Z/uWnUpGMJz7ohDKESPPUOxRx1npWtSrKupOX2C/HmtzdEk/+iuduznjaxgih+GUkPIpBsFvMsq9/IEIgbqkrrKNgn2o4cLaTkGfRzw3WwHybPk/oNLhEplBMlbdXKEMOGs2Sgs8vIwgTgPv6NgkjJue7p4MZgeew/hRfW4FgIuQmMFjZ6eeWxl2pt4fTp47mXN3yZRzIxyXIm4gdm0KNHqVpORYkha4ooRtTNPTWq7txFI/DSbVINqkK0HEbMaIIduccYkyvXjAdWPuxiz9/6vgSznQfDZ0v8LK4m9YvnSSiKx/We1tVR4252DRHIeoSV1LM/P7n8YkOCV+DGKBUFekoU9ltzrShLiPbpDVRjNSAmhEYyOqbduRfC707X9QlGhS6ZURtA4GSdn1DsJKtQr4XKTmOwl7JnHbhttiUsHWbL0ozEAbQnSN0MmpFdIx0Wr3HoLhrHAOc0DwSCtQZ2/P4zTHN+5CZDiVyqD6IexG9xkCiEpd4HIJbc+5N84UVY2x0GAYeseI0GbxfXzhCTWAViZttRUgNx8MaJt9llFR8EPVGk4OpFRYzgfTCp367lZb6gJhSp678+0uOBRGnkvrzSPzRTFMRGUZujbKSXHx9BYh0fHx0FBPcQr5r3FvJiEwwle4JQzqDr9VKqtQQi2VibcOypm+9dJPtA/LrsZ0OKP9TSHCh/W0IaguqIi7PVgVCxy6O0vvMhHhUY5pm87H/gyuPDfZVEOO7Ty5IjWc8jvYBsAl0PBtjoRSaeITzYuUZef/rzJ6/XbSIRlLwFKAkUl6eqR9s108SQ05AoRyrw1o+BReyqF5ZnuZY0p2ip/WbPXeEtC4gq/G27dol1+qrBW0XGkh3MZeWR82CxdOvAVESX323HHKFwfrRA0BtYQQXGyMyAH94D7Fh0wJtAe6lyWMQANyxtYs4iSwO7WwNRPU7TsLmNQT2kQRPkARzhouqmxySWuRy5K9hZEJH0IGuE5q9AlIY7E8b+H5DWB5E4iXPq4sn2tNn++JpwdtKIbzzRswvHlSUwCJbQrHNXTKm9woZkkjwTF3iprF7pafve0+bPiOHzxL0UCsi3sBFpV8X0CYENlYlXn7CwM9vsH0MBk7uV6ghKNhw7m4742Rc4XPIIcRy2Wb5QM89VGQtT4KGE9mbeclV8TqIy9FEsMbIxLqmls8yTUJqrjFI7W5hwOCqv52h7MR75yF4Ecwk45GCkWaTv0EtZdNJdCYVll1YbGy75qv+5wI/ke33vnaslJ1yAIYSjG3tB+R4ovPVG/01FcjFNvB8oj8GCCEDEOB5WJ40ISfnfmJcVjLJRPTjh+rrpdMDloWgyS6hWtdb/gTrif15PILqGVp3oR7Ku/SJj+hW3PrSiyusZPARSCa/LB4sfi+CeNeswLYgHi1V8f3PwqdZsxE3Ertnvg1DCWNlhiiq3GNymP59YXlID9QcgaME5ynrGqc2j8LcNl4x96G8CG+Fp2996lgqRB+lJVAMV2kjMGGzRsa2YU7a3zbPs83rJK8mIL6Rn0VEClVD3kB7bKVh7UWNuZM8+Q+1SfrLA95OqW7xlw6v1SQlmPt5dXiXRzMVnp+DTAaUslhVHsR7u3Z+bkeHt0b1G0Vu+uBwOXtnb3fkZtFh30AhEqdSOBBV08FIcjs9ZLAoWvsuonvVNrOMNXI9DOFCffL42pBIrAORk+3R5hkn1TJSBQ1zMnmxIvAY8YTHEPUBIQg26NJ6uMyQl7eCckYZQMoLtU1yp2B/O/IbfHH3S0xxGs1kkuMsoaOs2p49nyVD8kG/9nPlfLfOstTq08gjWF0kSLN+f3tqNBF0vGz1lw9QlidnKvHYct1xHkgkJ9KBNrQ3JBSlBjRrLcbz1ocR3KPErIMyaCzQXPu2MDI/dbSjdFa6QIgrulcDWUdq+PmZj0xEpwu5yZ3MWfAp/QQo7vPA8Q9zc1o78xpVf5Qr+Cm4TWBZZ80cRlS/W0x5yaV3hPezF0rPwG+0VfOibd8v/KnZ5yHzr1IuNupu/MOrKgE8D6Pr5umpWnrBtNzNAnqArYWn3o45JoUaCiha/8fEEkUHGWSxfPjU0VwYsDJiWAFxHMy0HP79DgVm4d3+36YP/Ep/atMA8Pc1PHJO+XwC4xv0TyZfFYmBtsgR5Vsha/ZH78Jg93HtzPa7FM8/1kDgZuUCDUVd0Qa4QJKfo8aNYIFiy+TDihLRACl3BQWkl1p7IjyEBn5r0AJG9n3hTcaHqsSRDKR5r1PJ6mKbagxSTYbGJbZSnr6QlowbK+I86G4lIV74OuFRcQMeOiXrNOqxPZacxwD+rrdV/9vmHAC+PVV//Md1/aTIPMSNZbpDxNOS7eHHbKuLa8FdIeQ9wlms9OrZET1xiSTdrfbE6G6AwBJrF5Pr5Gz/bo2v4bTKmBICLeyO4RyY2KKdiAYumES4MbTAfOI/i1nJXLjHVJeQQCppmUv8ghroFb40lkAf2KERocoVvO+lKP8tXhF5YPqQlavH2/MAUk0kUIlGsFWI8RMyKtztKrxvR+myNIK9+sk6UYLpJpzZQJufWbR9TcS3Mxg+E1BVibGVzZKL5vOdH3t67b9xB22U1O9A3IcP8E1AvfFIPomMWwaBRT8IOjz6roEjj288uhD6GWOCH52jQFWwhlM/U+7I65NxhkA25+pJrO59ASs40gOLnhBY9ZlELE6zUoxcy3TrWahrsUS9sIUI34ezTlv16Q2/CfjAcydotnpnCClvVk8fD/Wz6pBRu8btlMU/wod9qdrU4LWwovEImSR0qxApIrKch390BFiVgdzO1dJj/rzi9tgyBaBB+XT2x8kmhiXNb5ku2Ri9T0URjRC6KEBVpzbNHz8AN2h9T2asem4aCTeyq7H5yBIPI8UU5PRWX0mSR+mIfiOqMXCG+hCVEgpsiRKd7CdwjGHidK6yk9LHlHhNONRsIUxLTVDygOpNOpeuYlMzM4qqPsqopfWGYcMjR8lDh2WrauK/EbFziKDfmLJUEBkRx3K7wnExUnlzsG0/SPG9apq16WDWLrag3y3jf+E+nmW4Ex2ayjxt101HfWhd2KlvxrAlZQnxhQ2biUpiowKx1eHNrnGOAkd+XoFnKHFo4jvRoeCwaB+Wu6bhYRCr7OJ4kx8g+E9IXZrvcIw4G85+Vr2i8XXSXM8rQbmT6vFNjA2YgzPu0i32n1Kh0KMhGJpItSX30e/P6m46cm0FCQsp4wZB/uWIrElT2uHpGR7cWf9+0BTR0lsAOAc4+i6k+SFz6Ryb520tMVGfOloRe0X3mcMLsL0OQhPJhBoz1h8w65MkCD3+UR5Yc9cpxCBuMSnw+d4AdQn7q54UzKFuB+ytmIH4NSTEy4Jq2nZ1ySafbOQsPsBpLjaoociLlAzPVOQNRio7UlcSdN/zWEgXvF+3cCApcOLMh+8UIWymG11M6OOIrDjftYjC7OXTilR+DcW+WFo8SImw9xi8q0dInvQ0qxtg+eq5H8lNHOGxzCqksr9AH7wR1zw1RyvRnygJ/Ma/7K/Bw+y+DIsGgUVcmpuvWQJUPaMdRyFZjVukYehef4hBJLU2k1a+8INNoSJeFN2EkXM44MOXhyWrRLm4vMwtR3eV46yvhRP6Y1TJp26D57DWAJNwS7lwldpmK86jxGbUc93gUx5DAkqaqtJH2D+8MHrqvM9t7B09rVolrnY4nVPO+Sz5847xRWX8bW2+FzgRmp6pTSXx+msliR2Ou4wKAdMoFVXwBs57BjzJwUTnSMZda+WMTwmMInKwwNLrFppNl3aW3dcu1wRLRTm0xb+Qb4jzAjxMz8ML8kiKFjYDHBIlHqGj2PcwCBCe+3BTGSty2rzQ5d1zzlUrLO71q4q5q13lyWkqfFAqunTpVLcuCUDGzCnkHxh6MGUQRnQEm1KdAJk5BvQbBnEcQjLNd+cIaXSqn+9mLR41cgrG0SZOcqmfvR/1cUmq+CyfgDy9L7IRxHD7AT5QyZTkTEUHresQSl/uCO9bFkzWmZ5eaZq+d0nmUBUmIfhJBMBbpRuiDIWr5D2nqaj/d3z8hMoMkto384Xu2gAwWsLsNB7wzstHfr//XrEOhAmxmiu0oHkG8+yO1cnwmE45ncu3TJlbz/bau8OvQ5kYk5o7xRrnXUrz9cALc2B1V4tFWkxcYDSFRBuZ6l+W7/yr3juLJxM9bLJMFTaeMVZI1phcUtFlLkFUqT6WhpEPtp9d3x1lYmgBh8K7jZ/yfPk5b9kKtpf5pLsuak6CXtRfqZ3Gu2tLJqx9GI5SnYFRkYwsaHbA4/llZbZbphIDXsCgnDl1rn1E4P0PjaVQVCaMmuYjT9AlSlKzyW373PD/rn7TgOz+0JtwmTZ6/OwN9ApmWOiTjvX7wxbtHWdCXH5FUJpay43+tRTBqmaNTJlDK9DnlWfO6gqhLiGr+F9X0z908UzfI1fkeHmNFXJqfMrU00ktWKXQ7/5f1JCDfPUBrfI8aiQ4NE3AXgSqv5Wbq/Y4edXKo6Zp83ROyces2Z3LRmRVGTSmOwg2qKUhlDCodmhcJwsIG6neZsmh9O5TFySLyR2cknN0MWSulAsNUZ0ZtaDfewiPzDGRddCIPEoj/WUqzYnlLadbWkLcs+nt/YbJTgK2kxcB8l/2JBVXzvyg4+3Cjjiv4f7ZwPE6Zdp0Olmx4wnSabVgdmO3yshLQpmdUT2joj0XxKFioJazhoqqxdoYB8Tnq6ecp354zi+7E/zrZnv+mw6hTmKozf/bEP6BjYBuN1asm9S0SzDVDnGskLyvyFBGlBHopY7wRv/QtP8mwIaQRIYDmkjLUYs0N4SN3k9P+SFLBfYVF400v0YJEpg0s3pHuXQfVYweFxJNExFzkVWCdIwmXS7rCsAecVvFUILx9i11mPB1zIQHsBgFdIbCFi+ddSOTtkHx9au0zqIghCqpFA10EaZ6n9MjHuj1GnzahwP/sJCKYsnp2CKUF7cVLJF19MvW9WHi6vKN/rYpKe24Hh1Z4MhWfDQOuq5PytTen+TucziPdeu4F20ygg+RRdcFQ4usicE5MrLhbTTtrqcf8zW8CO7Dr1moxkBWQNN8XPycPJTXZC3Nd1jX5aMxBYq3JHSPg2XVRy82DvK1Oxfix74lAaBKn+tZAj2FlUhVIqJ5av4lC36GkVYL9a4uVrn+CQevGDyWr3zHpESD76sKlYV36ng8dKduWNl7de6HU+Y5Ms7ggwxBev4hq+hUPKeVVc0gt2LWc3v80vJbA+RsblEXoPofw259k+7EcBUMC+eFf1ux4FzJ16E9/w0kTUL7FaeKMJQb+b9WAWmKbOJ0ldeZRNn0G3N36LGMP412I8it0Y4UDy7OSCJIFwWABwp2dXqGoYlfeBfH1r0dpJZh8HOcNqpY9fOIvwqlX4xT9zWdvxIYPyztvNgDg5+U6IY1v+wG8hE34+U9h8mV+60jDB1Oo/FR63aWDAaVXJp/dkTe25BcM+Eb4jPf61kIduu0lS0oDfUQr5N5nDxGHMiu+GDuXxrrcf11KcKnqxGyxY+H8R6eqryczT/mtUrtIGXEvzYN/LIXeyLFEvVdzLkcnv1HgLtTmFiA8hpKFP9D6GnDNnDSbWNrKUUY5abxOSQYgAJ4YOBwY5GG54OoJAY85cuCt2BYMHeTVc8ivPr0rfE4hf55vAGAQbsQ/SjulBuUTShTXZUuC0YM4WVjUDELJ3eePcztgNrpcd1fE7asKP+0spGp3H3TzKiTowfLk/YXf9SJobRkyu9ODvouRu2zQsfAqCCYc+mPGSfU3VKEBjxeHOsHG90YmJMnbavQY4geKIMXvM5rW508HkVcTqJ+nfKKuXjN1mBPsfS8WsYej/rN49wR9Tut84ptpLPS2ajpewx+Jr7I6mm5eB88IWe28gTrF9zc8gzMtAAY9waWfgwiZIEKAnlgcb71fMnBPwWc1bbSAihBiIFYLIpknfa80j/dH0QNjg70otgeFo7dYY0KvTTSewNqVSAQ7rCXLbTGSKC9uzsJswWNfDJbmokjjaivc6pozJblzCPvz44IfhsBKbOj3s8QXUjBPWnu6Wap0P4jT5T8mgdntt4KTO0jVIERrw1fBIxSujENv+yw4BmYb0kYZKvhi8mIswHS2aRioyKabRcR6ccZDa8CHZpwANh2sdRW35LyBjtw2Mdbt6uJK2FJCVAbQ41z0NSADm4zHgORti+6DVRgafPAMlq8wZh0ULtu8+m5KAAHWCWzbsFIqE+Kr1nfl0CJrKvUWrpClMtjzeuvrtxc4tM7ivbj3VCkDtdCIzroynKxcBvDgTea3A38xuIZfTlnHDYeai3SJgG3yvwd/1l4GmWCvcIFXC5JhkfrMkB8pys1YJ+x/n26SXDg8q3cH/nudw42mqJf1hgUjNjuRf88ksYHgkN/uue2UJXYwHwGe+qSDfyLT33+X8hqBV4IAo5YAVf14dtNgdGbTElfwfSoi2A/u0XuS2qQljiWK40/jfNNrcxfqspY+yvZpLeE6ZiEaNkUYTezoQgGYELOOyFZd37ABjQGyTI7i1UAQ0ppuXpi2x5pWfGgbjbXNm6lIb9IyKXrk9wEUGKbLl410vXwwBimD1Mv5xy2E625pkiVF/vonUZood6ThujslXftwNuI9sG0LeLMM/aPlJ5R0MWldDezMHP4S8smJhfNqtHcyVmWubEIbFzGdklfWS2qnhxWpJseenp1C3fVA9y/XkMN8wguCErsCBnH2Iq480v3Eh+fMHG4LwNb8aYX0pEdwT5pfCh4NcxjDWI931pA+pSUOstOtMAUiFKNAokgntsRcQn6F96fSbkCRVYXxGtc9M6gBSvB5OKEr/RPHnymvZrA/I1bWwUz1/7+n7+l8fIptSkrocYodF3ydgrAhSSsUA1MxohUJnQ3VIH5VD35OQkMFm4Ciqih4cjdvyIS6l773ymaBuIHTLLBQ4qLXOJrQGxB11tJtjDUxYKcSGkXvCsXPj9NGerB5TS47MY6aGX9EpFhM0Zz6GcqfDmZqkfO0PNK1wpRi/cfg5W/WyJzBVUtmiSX8VJ1h9GTGZF4zlBAs94KZM4U/t3bs4shXWKUGVN81kGh6gmsQSUF/NGtsjV03KmihApHBywsRgZ/Xxuh0nGRZx3gT3xWolYXg4/xGrxC7AECjYwwCQvmKrO316R7Dj5U/gGV1cwfhZS4Eg95ugNo6HFh6M14swgdb2ziqlHxxXQbAXK20DUx/6PAzaGYXqIj+LYlcEINY01rqsa7kxUR2tau7rwLcyC7LYLYpyr25AtU+CLa/CJpyP2mlqI0T70F4YWGiRZYEjMYGqhtHdf4iaqKrN/mMIm9w4RKMBfAplDJOB4lhkJS2L//9+ne6/KwJDe6ob8o2/hYm5BYEafvja5zNCOrAGVMZ9rGmSD1LxNQZAGozLRCZOpvvZeimM+P+bjW8J7Tv04qnka97NQnnF5UpYKOVnvwxmBikehhIWMnGvZ5LitQd+LlPa1p/HsANzAz5tXcFnEnNr4E6/+mNhqH1g1Ld5gw914tJH8x4DtO/aQmrIacce62gUayXsV8g8Z75R41esz9X4l7GoaW03qGHMl6Clk4PaHT/IE3gbgWeMFR0gpPeJa6aU8yWDKjB1b/2SVNrixLTYGQq1hyk7RvHNJsWnpaUfnx5znmQLOZPisunmVRG+udwIvrusrq510AyGjRVxqZKoeeJPj28BwbHFyxM0n73rTvGgH1bRW6PPdwZE7rI8afXtMIHu6RkiJ7EZ7oJRTQRWnIEesJva3KdA8m30B4oDEquwWd7iyCsHbyjzJQZub6vf6Ow7SXWgEQnTUhG4bQKc26ksiACMXkTwyf0eux757k2vKeTuOO4baMW93IfzMV5mqScmcqB5N+Bt/AocZHtO+UnQrgIunutBnsevLctrBkI8rXn5pq9SdAAh4ShlBfBPHOM7Rp5vVdhF6j7ADsJsAEq2aWHiI2CVeRHEla38TvTVpr1GQaQczkamhEYRdKNksybAdsTJ799hYit1eO3nbcbjCCKLZ5iP3NSY90BN3pn65wDNP5kmq7thjTYvIQprCTsIdzIvQta3zSAcTKB5nftd16qiuop6aYVZ61BlHjbTJ8KTOU5RADsAlOUU4m/XUutz8iLFCcGc38v+jXNjHjCAMWuMut3CHPjGQTo55tndkXtqkH/UZJKMBCn5c/taGJ46tvQmncghTsxAvCa/XKSvYkbB1UwrqzGv5ASSryuOvAetL0GGdHAjc5vgogTl+t1Mru2X4vTbVdNOeC12rPHiped96ICu8ityFwGtM+gr2Y4ua6MAjnbLaOo0/M9yrxWy1LRocMBQcqIvamVCn19emXO7u48lYFSxPZWSEgdFZBLrMgGq8UoIgQpXw8lNeXEBzobXc8uEcpnq1rR3Nw1u8Z7xsQa06zOEKDr8El8X4hTEC6oun8QgvXan/BaslDHrdTsc3VxLE7IhkUbA7fvdeYpEMENIkN/Au79ErkUTI+n6Zmem3vlCuII+8K4lca614pucXQhKjfBksduuhfHPVU8f7LzYM4P79lJa/1ZFKLvy5CmWCbFQI+miai61Bv28s0Ay/g6iKwbv7yZjgqTMySnu4Ikb8H3M7900fepCSxKnjGSm3WFKsOlHLsN3vzf19oG4dGHgv1WDITuWytRwYilsESlTZFxRi5gD8Xt3DxFXIh95k1qZ8CuVNytsuu64cxntCrnCyxk8nyX5qRJbhBt9fjdpcXztVg+cvzqtzJSO+T46u/5bsB/T4OKNSuPt88p/7X3KtAZXG1tbZ+WUgDlLAaz96D4AAwj8WCPDdtI8Yo8uuTA5Iu3L8g8cqtFeadmtSZOFP3LTS/Qmou+CmGU+o0Y454mbE4IqQ7PIUXvIZsvkClH/cDPRqROf5dSLJigOfqIPHcwTwxfv35t3x94ljyerwCv5sy2Dj/6Rq5rxbmFqI5HseTrGmfl2ym8tJgqjyhC1hBpE7CAKBL7IWF2LSoB3mMobPJ9jIJmtmcaONwPqCNx8RSG8k59Stj3c38mXeuxdeJWM6DVT+F2K41dhm1MmxnRgNBe1z3JxjciyNT59FLpRtpnQ5XtPukTF8bZr0U2dE98Ud9dg+zP0SxQUmvTRnxaJ3gxPuzB+vNgzfDWUKxx3+Bf7uCMY78W2gdXd4TiuXmtsLwWwfdBPelg8MeigApX+W/trPhkQI/vNeRHAWehrgRmKh48gIca0ZfJG685g9lwPdBQlbtRekihKEETrMiv0IPI13IQT21UbO7lfDKczHLjF9ecvFLy3WVvnycKNZ7iGXrGRq1m6Jtm+aoFjWGz1aNFZvBirVKtUJm18VeQiJpk900YXbxjDUKsgL9A9G12sxLotnutePTubjGd+qPou0gv9UE1yhjWOCjG8l5Kw49vMbMuleetTGh+Lzf+B5ofcpA8sIqdaEXQTvxO9P1WdxjzQqfnJdPqp8BEtMX4HK+WC14qit8BeAg68Yqz9NoC+5UfrTVWDxgc/fmBxkLyRXnqO+X9n9zlKv1B68z8D/oCmlEZcO/JDd1smusisnjUJPyxt6W3efUgjTidsfVjAOj6ol07um46KYd5Kjiie4tQACOcQ4NJQPPyAXGom6Q+JpJaSQnkYPVWCovJh57iL9imM7kDQoSwmGFj8PDP1UxUKn6nzpaPmmiiwPbrsZaZ0JYmk1+yVWbffD4G9PXoAKKN+u33MTzAN1R5h6EH5d2H+HQd6CGqItnLvm0rYQl7D+I6NHvQcreFPv06zTRaXFkX9cUIlu3VXe64Gz8ORw0ZyjCx53NHwAIOFbtT+imOwj41b6fj6sXoMCzNrX/HOddEuldPrTyyy54AzB2P+RQrW05ptlwffTdBCLN7cqgNKwCGrWhADPq6blDMrbpxTBn6ATAhGI+Hy9VKUUNS1OvZJeNL7ztUIzrQCyS5ZGKuuZXsdZEIB2uTBB48VhRJWcuw2dbo5aHNysrlcUFeeVBoJPKRWZ2CCNtF0W839kvdGkNgQKmfsEj3c+BWadIDaQrK3dI3m15mV3JlPybLqMWi8hyQi0wVHSFCaTVnCW1pjk4q0p8W7JNJESEI98vaU/gfom3iKsWELGcKm1dNbZWdJBPQw/4re9jmGRI9PR5NcjRPzOQBs5lafQxjEPnVX8Guk9hWTfkNt4IZA1cMKnTNgQ32/B5sV/l/bibVlIb0A08HyISW3imYOEDerruZ+20L4IAjqe1qonP6KivaK1nQ1LTbQx9WpPtSFDBvI8XI1l/AvD8HghK42ougR9M29cJAuyfbfc/szvo2KNU/8sNhZrWoM0J1drWuTTyCGcnIJyooq3u8M3b1f8yhOQjq8gD9K8jVlIkTYM0Yh2N08Fd5IHtyP3a4Ed3mnk4VNs1QyByvw78QbImaCuoqmuawHkMvVFk+swk8u7olyS8nmXxHoYDIk+KkuEBWoeDfwG3JnaX+fDeCYt3oruLkgSQn1c0/TGPI2QMK0tt49tE2jKm6Fky6bb4EC13qohcnWBFQLq2+x1rHpBQvc6sMgqcOMRN/7xtrQSD01hCrKvC/a8m4vEUufhvxeFNUYGl045jYu2MmGqov8zwWq4PIF11sg1ORnk8Xl64PmUMkv1ZUO+IEA5hVm//bItZCnLZG0J4esyj/wgGqehArFhW0SmngZ+/c0WbpT2nLQfyccHOhoPc19TrqV++X/tB33PvRJnzIzOIK1Og9pkWohs587VxDWnTlOKp4HHxEeo+wMTbwZABp8nNawfFkEl76KAnWsTLq6aVMLkolHAIIq1XIQTUNms2pFWTD6NqGUjtELdHxSx0KNc3ieO7gvdNKBNuCqWp05AGyltjYyjo6+d/v214D4EHUw9TuHPuf5/Y66UD4gKAHFtMH9UrethskzaeZph/Fce+DoSWdInE1U56wPncVlV1sWrupblBPiOAjQvch2fr/sCsViuQzDX4kl78bmwU8TqePphPGkWPnvkMC1OthKRWMThrpDRaI9XSMUHGx1uj+BNXRCJaitXwk5eDFJTB88rrThJfi6HhVIV62z7IIny4rIhDqNHZrR8+hYNkx6fK+TikRjtuRM6fh6QrhzJjiz4uA9Zwz9umKgRIeqcg+C7+0mKEH/Ag1RrXZUK7Ia4EgdMcTYYiMfESWFvhp0lR2zt9aE0VXD8XPvinyQlpnfhtT3B9ku4SeogyVSVNd6c3SDO7ugaECCMWMsWsEfcfJivU+reqB5mSg/2DqJlO45WOGMyYnWPHmDY92SmXmxBkgN7bvkrovBt+ApiYLqUPhwPaBI9YZOhGhYoPbtmH+4U8x3Z+X+o39flPiJ8DtzXIKF23ekJMCtkZU74lv55NFFN27XCBHMAiBhp5GNu+ZPGbJqdWO3eHKn88zEnF6S6bBJ3WXu+YT142UcTgikrkx1BA55SCQj8W07DoRZzn7gErj8m24QI6z0ew26MVRpgb6PBqiheyHg/RuaE1dWaEwTXT/daKJWgWwThQN4vigxb/1Zn9R5JdgmvsKeq894zMh6uPZZvlWUaB9XtiMmuD+Ykn6S13Wp8VSEbflb44ru1YwboiV4TdcSZuSJrKlASrj6M/FqHA+8tOBs0ywGW71JiB6pvJtgY1DBh8LxKRXLEfiSDkKMguij4/IbQPsh6LKSgYUjhgFIv6FXnU84DK5zsv7Gh2ZaAJ+7UHtTHMaC/PdbGBlxbmP3IJk+VOmBhzqjsWlz7keqcCauypvKjalwTl8NfuUpT5cEj5td2jNFywewbHDM+SAgd2xD4CSF68glzrcKNPaEIhk9CLLsY6xwLdjp/E8mI2i/NA2pADHz1DJJs3jhXMU7i01prC4oDNDra5901bZG8WvFrK8JwcjHCNvOC1vxwkMGSR7hSoSJ0K5k67zRfqYTxyRGEjTL+PrYfTd8/PECY4FJHAppN3smnIe+lKcJLK6cFUMeHO6vPSTtrTjfyFQ66TvUTXMpgTIAWhAmSUK/yGJZueQWkLge//DaNHr6Vzq5h3d3io5C0s/Jm/w320Qux3Xpy74H2j0iNoz89gL5h/qGW5zvEEhywGoVO1s+VJ2nMgxRRk3rQQLs1hobnd8zP85yNccwWdJFduKcf5IAsvrplvSNSCmioeyI5B7qnhkdXBOS8JmbZ9bWI9tUUUiDaQNtI4HXULXoyCayfgSKQhYTneI+b4Igir7triACLxdZv/ghmxBGFGWf9q82KMmjlOknHMmb1Q56H6m/jfGXK9SHb5gMRI1adr5qGvgZYFfVwo0158ys23qV65sX7mW3V5yafvF7ShvQV+prd+b5Z/RXlKPu5B+DdBldRqfhN8OSLJp0HlGdltC41IKrWAi+Z6vzUs3UPQd8TH4r7/QTPi5p+uIghuIeBiwICA1wm5GLEMAaDUocDhEWv6l65Vu0Rvtls7GmvVw4VYoz9iED3Xqw6XQg1j2tbHplX7sZ2Q+1hLtOSYwIHLriNYIzfWCEsC7oiu0a3gwjJVWHvEe/x67y3vcfnqAUvK2XrmKA7HRWCECsz+SWwyV7WNRiC7h1rS1Qa+Qkp0DBbcZ1oWRfCNZ6y8ikBOBMK79czQF7AEUcIf7PmZ0N8tBukR9g2W4DkK9vvaQi+qLyb8i7bDD7nTmxShB6iUHpI3Ku/lgfj8lgyyJXp58Hi4rMEYpUxwm0ncuqovbCcP1iqai/DhxtTyjxN4xKCY1W7Wz1g/KLXp08e75JiDNAu4Ct2kr3L1dEkyMV0++WmuSGWTz1NsNnSz8Qymm6I9DU4KppSKZp3pRqAcmW9sZngjKhXPRhqfqrXhwtDzqf7ShAXAK4ZB5F+xEe18hk+TDWprFfCWMv7UkNX1/ayhx0YSWJ1RhdFzjfx89wllW1TsBlvg12ac2xDEJsTp8I3ArzwniU3xFZIg3dr6VySG+8YeRY7XdXYtZautSOakxLSe2py7Q0QVeqiaGbPnzh0tMSt6MdWEnJBaPdR4CQnEeW4x9D6Tt0DvDhDnp5hWOTV4wJcxO4wfjiAPJxZH06GiXLys853cqp7dEc32fJkIkdenAeEK7WNxDdo37yQVRgYleeusu0NWGUOdLOw7WcY6+znOPbFhhZDk762giNqUNaJn/Ae3JsMyANB2erJU1N05Dx7spkEghf1iutHHdWimJmFuyR/Jh8YKYOyl5LK0fSU52IQ/QrDQ7nJ/IfsSc7khLdKICUGmslAYoXzC5Xk/eGW7+2lnRfx7eraZHEGbTSDn//cHrrujSOTCi8Tvk+2v8Lj3rwpDfBI98bTDGRCWZ5Igawf09GJL/cJFBiQL8KOVHTp8hqG1KlIhuqxCUCwbZY03IaR99kjMMFbk2IZNscX5HAbJUpqFRSSiKNcEQNs77Nvfce2IXgkRCHKyq9WQmf1/QfDRvhhbODHolx+14JcyOoqcXR8jbuH9Ag+eXqNANKKKs4KKPU3Bge0DylRxOK/qB2xLxrcXMiHEekHswsZSGJg2V7zVIiubdfqG6eo5pJphVg7gbFUFh8yPt1ZddOFW4IkRngVZPTrnX+M9DYw1n1bsn00KZemljwNjuP22mz4K9voJFvX0JcVI/QDO+t57J9WRIKgWWbj4An6a1uzf/Z7kMvXR6IiJhX/IbTiBMVeaLILF9AEMGt0hYDCXhEv40iMuerKcMWecggr0ISPlOpl4GSJUJBETrQQUoxHaSvVHUar5t3rnYDmGF/BZR1Y7Bnn0x9EwhYc+HzUwJew18WIWvI6wWpwP1+F62rNfChXnKfm5ramhfjXCiKziSmo+6OTOije4QP0LZA//8g2Jp/K+FIEyFqlJdxsVM1EbzZfSKG92U5TtwNb1knezAMObGZQPBt5MKn+4gu3SP5wMa6WQzyuGej2SqIAMMVHHhNlcOcLlGGyBqiOkNie0y+QtkV3LpyTPq+3dEHcZE/EUbFBMm25SmcEOUDLVqcRWLk5kwu+owhR5YwfgmGX+dXOzk1Hz1r76LTJf5u1UHIfsTrGnF6h2TNgfOUb7O6pa5VhH7ZG/AcxudMW1q90STDF8OazLty1t+yvmwdkICCtJJaMdOgSbxh7KVCI34+7IvPA8l7Ili00SSfOLBeS9AD1Q9TKXD0Itpsr4ikXSWBG3twsBsKQCmyag05nxLCNWaC4cN08Frz401sY3caynLBAkynExxO6GiteSVGszTAsTNwa3lraeXqMr6c0eaXEBY1go0Kcrl0eBZBczWxW5OxWh+GCNLjE1diTV7DnjWoTMPqWpNUv5ho7wDWq010TfyQ9JnXSU4X1igW14z0MFqPdo57VTvU6zTQfkFa0ZCdlWxR2XdrFkpF5S0FS9hm4EEypL3Yo82mkHaFcQPn4KHUo8e1Z3462eBPqNznR9HajTaTfzMyJD63Plp5Z4KjQNinKVSnKEEsFnvMpoHy+MM0VXtUPMyfn5uNgxtkrEiii5+KNefCsF+YEhrng8kjL+QIvxoOc4VWTIM+p+yAXGqFmyB1f5rn+GLTWaG1QbSQ/AWXtxbBvBbkJUgKI4P15FD2xG0DdxCCSHbOr4kDDYKz8INNQXVLWFPwKaMCVWlSRHPiJouvkrdJJVdpT07qt2Hi50QdIQSbR0okRZJQko0ia6qy2RCeXcvYof7GiMRGHjSP4VQvU1nMUjd32fBsc4AMnJIic89SQFWq14sV54c49GFHmBSaessKvxCYM5/bJOuRNGqAvddHolRxbzpbyhM/9f7gj7R1iOxScwXhNTFQt0E5/Z1z7kQt4iC4dhsn3KlbxPlbVPyZrXEw6rxrO9rbaLRlU2mWh14pI1++ZvHNub6ZJrXWIXp5w6fiww4FIjhrFdmkfO0lgBliwiRITDucoPWkYR5DH5myRQ6dSrHPYtBKhfmL5a9Ku4YwLeKX6uEttNjGP2NkyTQL8NnRxwztn7obPo3Fw7UD98r5awUz7VPBElwOtMmEkSd12DlUtRlr+RanIUDO8gbN1ziGoLAHW3cpTnoWqoel+/Nn0gQFctCPqFldbTkdwA/uxbzww5HOtz+XzR2IlEBbevjFbTsgy5IG6OxUA2v31cSLf/+22tBXlXZGpaujB9H6GCk/ZmiuffkeU/bN9a4qm9eZvh9dJYzF2sxLpNyoV1vvxw/Fmke0fKK1S9iHdrggNch/ji0vpgwJX5NEQnZ4JbKsqZ+h0iFpp7hjmdgsSxR2ucfVptBFJ0/B+YojXh8uuufm4PMOuSb7xSQKc1ekurvenADiLklTFvRYW0CgXk4lq0MVWEgMMXQDl2BiTf6DlkKb6nYHecXSLBAF+iWdRw7xfs76HlGMAQyTfiXQ8aChuB92n2fGXyt4yyu/qx2cC72MvjHxZ7jBnJ+ya7OVM4eN4WqmwZTyupI9gNAK6yNnKYqCf/O6n5NgT2s828+s1cNBlGvTjiWCSF5gAL7rfxvVAs/iP5G6jPQGyHiaV/8EcGDKHRIq5Auejuaahp2P0Rvt8ij2OAruNW1R7mp8ddK2s8gUvRrEcnMhnOUqDoU3xD5gs+Bqjkzn1pLmTH1u8jBTwj0zTJfXGbxGTbG5Bf0YYTUPKjWxST09HdFZtkbPz4gOsvvvIkgBWWuS14d1kggwK+xETKixip/8oPJJ/hCeGsaOhIzZ/hqu4+054wU6Kk1n7xQbQXMbhqLlMom94Ys5HagTihTvx5EFuE05q4F7SIW1LW3n2vSyUFnRwJiFqdHarRIil60sH0xwX5ZiVkym3zUV9SQfoChcYefwjXDqO+QFcqDQdVEQEIPAd3O64pose3TP4IsdFwvB1lagdOKEv3AddylKAtdqKNCc/+7PZs1bBjRqjzyOaifXUdWpCZ1ROSOPAR/RFTpOGfrRlklM8Ilh84eh9+lttgDCHGt4LfoMazwc+peeEDjGHF1oQmf2py3iSi5UgyvaDksK7cXgB+6Hh8p+7NYbLdfxS0FZ4k44aKC56DvTigc0vHzipVa/DfnotwS33iFOp53B8Rb7zCfRBUnGPqKzfYa0dDnK4i41LNBRTX0J7pJissZ1/8aviICUai5B4g/bhu31j5VtDoLZllSCQAZgfCyR/aBO7M7f5XD+zAa/ylJ5gEpoCPBwKZKUbszoSZLch7Vi2nQkghmmLh0GcxNlgdAhuXfrXVr8kYjvfiRxgoSp+hTptP2NAGepry0T6YUTp1v3+gSm/U055hTFOU3Z3bkhJwSagpgWd0Pbr1mYd0S2Xwi+Vzmsruwc1TB6obVqrT/NGlm0RXs5WVgkAXoSf5655XLYwIlgfwKuoxgnMgt1/te/TGWEwevBnNtMPmqH2jDj7HNX6KSrdyIhdTsWCOXT9Sj80wCNyJLrwCteZuZ7NyIq8mSvQzhwPJb3aw71psZ3LvhGdVhzKCZX0r+Gj9GMqcenhlWtgIsadELoZG7qb7dnDMI9QCHi8xJJcZtNKKmut5SBhJpopsb9qPWSVWg5rmXuAp/Mg0VE5grGrxHiSkiyq+SHvues2mbO9BsrOw4o26RU+C6jJF97e/nJXbjFCCthS/fyKp2939kgmMGsAYzhf56KabzQrs3CR8NLy6ASjFeFrjWzcNClWvYYC7gjPJ7ZwMiR9kp3fedIgrTTiP/rsClYDk7B6rAa6Ov69mw9nhUlpcR30BOvOay3uPpTCSFQP82lIsSwZH+MYBuLuelh+RQ6ZH0OUUOdV4O5t9MgHCRK2JGqnXffyKBZTWLjwHMr83baENtxwVIYJjhitMaSVvluxCq64CzQFr3k2nFdJ5UDy/IUPWf5lEtoyjpV4vf7xhVPrqOv9GL0stqW6lCYJraFuOlaxkUtWhLvPS9cMT4OsBhW0oALHJ7D6ovoLZcgGh797lSAs3GgBGk7cDoXqQ9bSkQ08afpi2AnRSmLNbWrM6fzKclOQPmrkaJ0QUQe/AHc98YrBk0oBNGzRHBzCaQ5A3Zt7Dym7On1KPerlwlS0xRLx9TmXAuoXY1GrpEmbCiQTw2kAlHkNn1L47RRgWwQA/NvSVi7ipLzwg8Chn+jNpojBJs8Brsc9e4af8lqSMJ0tHRyfavnp42APO7wDs4Zob0XdcOYhJTx/1yPhCZA4jqN8525IAiIWth2DcSycPfB72qTmG/2wjuVTNKmVivdNQXZAcem1XtJbnEwDjN6Kivdz0EVYsDMvF9hCkUI6fAmqqbomYHKElaDvjKKtQvhbEz8TIipkl3avGzw1jdLXSwYRkgBlMfAORyDclZdltipNzYFMwncfPjKLdNLXngpCH3aX9DdHPsdiFd4PoIj3pKHqsEEUjfoD6PrIyUNRjsY5pkTE3BVIf2DIZs0Hn0lS6p0l4xjZx/Fb95l5Q/5ZVf/VDVenaGGYN2jHvF8EH8qTXecPNuhyIzWThiPAWt+H7CB9iNsDWOLe7MAIaMFo90U2Vsm4+Ek99jhDpwSEMpsHBSkShD7b+2SCFKX/2OGqWH1zmHiHfJdJuaIzP9RwxSDpZfCdHAynVtw1hb+1EycLFw0Yig1y6Do5hsu61tVWTxZno1Jv8ZgiKITwpn7/VGOhtbyjc/EjvPyW+nd7s573tEGFxX8IJ39fMf6zQn4uIFqctW6OUmLZK/Rc5WsCTHCPC1WKoxXHV5xFRxwgMD7lZN/iP3jtaAqEedA9fpcAYseC7vNPLXw8GKMfA3XuQgRr7QNtozgeTVkvMkElkU0v9Dgbvco5bonIwpW+mWSgFy7hTUXBUEr7ROX8Jm4U4R3RBqmBIQxO5lI/oBRkTIT48caJEkYOm6cpqDs1OQeqexIEEiLqV6TjLzEEalHhxPQuUd9OA6pIIkCqJ0Gnja6ZEQ9ok2v++GK00PckJ9aYhSH+ar6O4GhXKlsySWDYZ0H3OoXhpNCAa7AwDpS0N10NHvya1Vl0MT92NIZG1IHuue5rHs9oNYfISoFbvParcuOmtCRz5A9gkeVIXl5IptTgp6Da0Dm7ZGWfkdfMKdpmEpajucrhkdR5v0PetLstZbSSm0DgcaA21LF5N6pO4XSqL3wQqhpU2UtTyo9JacDlxExnZxIrsVhkkSuSsACyn0DpV0ADNkd7fp7b4N2LnxPelCqKvzJO6w+HfdRSMbvi4A5vjvvcIau0WHX/sQ5oPS41BB/yVVeSTj+J8F5lLjwzRMvFSmX+zEdQJIblWbN2xT+b9yF9UConEqtrkTeltcbd/SqO7PICrXouDEj14OQAT3iKLSR12CkgiqMtUI8wW0WNAn5FMI/DFodlcOIGCF3QPiD+MXFVo9NfjEledAQj2rnmuZNVpv225bqJ3fgEH6OM4C/30zY9EDAKwwdwWVuNwl/pASeZDBNjWIJcYpz1AaeE4dgEQUENpSHjihpMenK+6fbQ2cbcAJYDWE8GgEmhlpM4/gb43ZZ2FTuuGrfCu3CK7zUHe1iWZ99nW7uql8lECzYfNAsPmUsaFHfRYQOTy9KwHTXp/AmeDGD1B7/BKfRi+R1xGOB+MzCBQpovROPNJ3/QtVrVeCgok1Kp+jPAbZ79l1DABtfvyzPOYROfdlgJQLo1je0zH6qFO0FXm/AtplbBAUxZe6IcUn068A87zR5HlfoxqAHlrYOtHOP6O4UaemfOLAJ7mfmLQ5tjc49k1jHctBl1+ZzZlZV8gf15hmY088/jjkJ2yRG1zP2bOjpvIPc+t7uVhOYenG2rEk27PulrMHIQhq6KcCl8HcxaolmbGEn0qTBhk3+J4njqIHvAhJeNNwxaOsx4Vsi5WD2THlg5Wjf3YhG9fr7d+Arj/cU4m6A0CEv34E3R38MQd//vDAKNPsaTTh4nro4+Vab+bztfctodVNn2XvESE2Fh9+irululmTjwyzswXTu0koLzL2k0azs++xh1szhfjBXQEyQwPl+NLQBkwErXqUxJj8RpVhmLDqq8wsh5kzrJikw0t55rTkQwVQw70QCatKb1rD8x+YC1nOPV3M7JByHkMP6mW5mFfTSifA7cLqGlzrlV25XuCCB8S/nKdWrDTRUjpulVsbtR7W/dJJgeWwCvXGYsV3VWzvgp1GRYHU1Hhc6cZFL5zdHTsl5bgATU5bSCksCkko4NdfKWAKpdZoTDfdfskIVeShqVMZNxJDd1CEj8N5/xV0NHf0qUdPxZPewjFlVgJVYyLvnqpjM5fFfZdph2QB0dkEUEhvse8QVZXdVTZg5cmKKJq0rAy6bc31y6sxWLPMvXCmjzSl8BXnn2JPUDZg7pGcDxG8o2hHneLwB67qPkxnXBHGiaYsXc9Pm9/akz0ka/rwqgvho8pkjW2u35OAv3aoym7B98vcc1LRgKPMpgYD59wfNtMhCRJzySq3JaZcgH4eXd5yEiPuCkDEw2cdFqwa6mNTV+YUfMjmg5vLGXCToZ/0qTLEaAteFf2okPpnl9HQK5VsOgq06DuylYvsCPEa0yPfUqMDQjcqYGFrLH71LAxamQZVYbpAiYXPCNVh0t6/8peAR9pI8AWPqRQ0HDy2yKkmmqvhml5rAIpRmZR8eZq75lQXnC7HuheyabBFwGNCOpyv6XpfGN3XZA3y+ATm8kDlERGh2mnuhWVmN1CyFoF//1pAD2vFRLL1nQLhmMfCL7/adDEZZTDw8fyAhAEwsinrDaLnDeuRd36SR5LpdHrS3eN7cxoZrkVFsykt30ovNLmw660LF8tyLs9rbuwnN+soT8QMHfOj1PNGT4ZDwnWkun7/pcuHxDpCwPwp9PLZSsIBEv+ErTogaoWBawce00qCk+qyipL51fgV79CkfEypmPCH2DE1EnVSiJ3mfbtJDb9nPzFDWs3JGeUPRLckHdZtDAAy/ySBvX66HpIfacbsMoiXwNYf2x8TT9com6121opxfJ+kv3i6FFIe3pk0G9tX4aDdHasY+GjPoR5aCfwiqLtVdiqh9f+hD6FxZp3Rw9vsT8l8MO7oFEdaAyocUQ9SbQUzjQVccCFcqq7Amc/LGB+8Iz2FtAY9zYSdL9hW5V7TVpbkaTLiiroNnhKWJJo4Sz3431sau7N9rZR+lvMIFpxBwsn1OS1SyTYvLl46UvAmgWiT/2knm8j/j91Ck6OLOpt1WyTNXCH/5s+c4goKTGL9YMNkCoGtwThVZHR+0qdO6r7CMQ/isNLtmmQdRYjgSExSJbbFSIYv9X/qyi3gsJxzlJi5zPA5JP5ZBZ/+tBGBhy409C3ClINafmWxE+a/XXnAq0LXUJ+WgNJbr1F0SaSxYrgHsiy/xWBmLty43/KL10BWZnkvlHCZP+8cLy94FmW5fVXu3Um2lDiSiImQfitrdEap+UciQgBzGWMQVwPRDyOKrHny6ut+IQnm41Lm1DTKYTfR81hBnAb1fT5dafgL8FsK8T8SS8imivqyDZ36Usm8QKtDumtJRf9aJLVnELhubeQZTnXl2rS7jSvrx9exW4fkz+3Tuie2mnU9+EQ41gPjSakLVSsHamrI4gMH6i2UNe2Z8/dko29BIEGj7DHHV/bCo4kmrARSsyz0taMEL9YnTIqbTRRpToo+t9hNbMkhDUmRuFvs6GSQnj+2OESGafdKyGzAteP2Irh5gT8TIcqC6IKDkj8zmgpA/nJ9Yo1SJsldHSY/+0x3QGXup1+z4CPkI5ghNeo7Qkm5fYKJZPDuvSG7LXNa1UAuUpsDkiBrhZMHUgv2Chh07dCtrLSYEpGvU/6mhl5jCvM1MSUzscOK5XvpXPWVIHaD4cJ90KF8UiNSR9VCm3f1lX940Sz0njcaE3O4DF3gXPTOdwqi3TxPXoRVKEFsQHea5Zk8pQp85SlftW0vSmKqEAYQyVXf4ZfD0xveui1pXTvYrwiDJkFGdGkv6uA+zLJLo9IBKtqgrmNDhiC+ZbhoR7VzxQol+7qu79Qq1ZGgkSbW+EZcVfP+LqzTppoXuEqkesZkIi6OGPk3TJjvKasnfy3N9G1nsh8qIcbo9Vc85tX3WmaK3JubKzJeLT7AEzCz9UgDLsRWjmi26pEzVlnqxuHpvDPiEfknPKvjCJdJZ8Ec57sGsA5DE/KoNQjG+J5I7W2R7HmiP/if+L4w4wPHBNCQHyKtCUM9d2JDujqMbVpHnkmeukskc9750ng92KKiky948o/v2Bpfs1ma069VaadPGWP12So4ArKA9m/RYFdqrQKVTi+vKuGwgJvUmrqRctaVEst5OlTBvUuR7IubFILfM+d4vEiBWNr4vB0VgMd+xTLY2WI/AEFlpoBb4TxQca8FwM6DPC66WtysVVzy6pIVp5VIoIftUGr/6n5dbsFYsHSlKPXz+g2dHjl137NF5gQ4ULEPXP+SDsowmdR/Gfz6AnHHVl7cHTMw8Lz55mgCwJ2MAkpta/Odgcx0pBkzLVPII4EmhyEGO3Ce2Pj37z9g0i9SVddenP3KqxWHK4DCqDKbFbShbIsPUZRhzsltAmXlmqVTXhC/5NR6XeZPxGNcCTa9LszOEjorVqssTvbiORNdj6eUEU1VDYFE2SJ4BrzwzhgB"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1546,"cache_read_input_tokens":79669,"cache_creation":{"ephemeral_5m_input_tokens":1546,"ephemeral_1h_input_tokens":0},"output_tokens":9,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43xUDid8mDCkQsW7iAc","type":"assistant","uuid":"0ebfbae1-7f12-4c73-bb29-368cb5f5fad8","timestamp":"2026-02-12T10:56:09.420Z"}
{"parentUuid":"0ebfbae1-7f12-4c73-bb29-368cb5f5fad8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01ShQRKcggVcmBpZHF4wej15","type":"message","role":"assistant","content":[{"type":"text","text":"Let me read the full `executeRetrieve` to plan the extraction:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1546,"cache_read_input_tokens":79669,"cache_creation":{"ephemeral_5m_input_tokens":1546,"ephemeral_1h_input_tokens":0},"output_tokens":9,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43xUDid8mDCkQsW7iAc","type":"assistant","uuid":"d8b24178-3c6b-492f-a8aa-8cbebfb170f7","timestamp":"2026-02-12T10:56:09.657Z"}
{"parentUuid":"d8b24178-3c6b-492f-a8aa-8cbebfb170f7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01ShQRKcggVcmBpZHF4wej15","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01NQAgg1tJNSc5d1Z6B98fei","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","offset":1538,"limit":100}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1546,"cache_read_input_tokens":79669,"cache_creation":{"ephemeral_5m_input_tokens":1546,"ephemeral_1h_input_tokens":0},"output_tokens":9,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY43xUDid8mDCkQsW7iAc","type":"assistant","uuid":"a2a6f1f7-d9d7-4a05-8253-dfee979e2804","timestamp":"2026-02-12T10:56:10.545Z"}
{"parentUuid":"a2a6f1f7-d9d7-4a05-8253-dfee979e2804","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01NQAgg1tJNSc5d1Z6B98fei","toolUseID":"toolu_01NQAgg1tJNSc5d1Z6B98fei","timestamp":"2026-02-12T10:56:10.552Z","uuid":"5c93e48f-4f06-4abf-9186-f66efaa236b4"}
{"parentUuid":"a2a6f1f7-d9d7-4a05-8253-dfee979e2804","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NQAgg1tJNSc5d1Z6B98fei","type":"tool_result","content":"  1538→   * Execute the retrieval phase and transition to mutation phase\n  1539→   * Returns all results from find operations\n  1540→   */\n  1541→  async executeRetrieve(): Promise<unknown[]> {\n  1542→    if (this.#coordinator.isRestricted) {\n  1543→      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n  1544→    }\n  1545→\n  1546→    if (this.#state !== \"building-retrieval\") {\n  1547→      throw new Error(\n  1548→        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n  1549→      );\n  1550→    }\n  1551→\n  1552→    let afterRan = false;\n  1553→    let failed = false;\n  1554→    try {\n  1555→      // Wait for all children to signal readiness\n  1556→      await this.#coordinator.retrievalReadinessPromise;\n  1557→\n  1558→      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n  1559→      if (beforeInjection) {\n  1560→        return this.#handleRetrieveInjection(beforeInjection);\n  1561→      }\n  1562→\n  1563→      if (this.#retrievalOps.length === 0) {\n  1564→        this.#state = \"building-mutation\";\n  1565→        const emptyResults: unknown[] = [];\n  1566→        afterRan = true;\n  1567→        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1568→        if (afterInjection) {\n  1569→          return this.#handleRetrieveInjection(afterInjection);\n  1570→        }\n  1571→        this.#retrievalPhaseDeferred.resolve(emptyResults);\n  1572→        return emptyResults;\n  1573→      }\n  1574→\n  1575→      // Compile retrieval operations using single compiler\n  1576→      const retrievalBatch: unknown[] = [];\n  1577→      for (const op of this.#retrievalOps) {\n  1578→        const compiled = this.#compiler.compileRetrievalOperation(op);\n  1579→        if (compiled !== null) {\n  1580→          this.#config?.onQuery?.(compiled);\n  1581→          retrievalBatch.push(compiled);\n  1582→        }\n  1583→      }\n  1584→\n  1585→      if (this.#config?.dryRun) {\n  1586→        this.#state = \"executed\";\n  1587→        const emptyResults: unknown[] = [];\n  1588→        afterRan = true;\n  1589→        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1590→        if (afterInjection) {\n  1591→          return this.#handleRetrieveInjection(afterInjection);\n  1592→        }\n  1593→        this.#retrievalPhaseDeferred.resolve(emptyResults);\n  1594→        return emptyResults;\n  1595→      }\n  1596→\n  1597→      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n  1598→\n  1599→      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n  1600→\n  1601→      // Store results and transition to mutation phase\n  1602→      this.#retrievalResults = results;\n  1603→      this.#state = \"building-mutation\";\n  1604→\n  1605→      afterRan = true;\n  1606→      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n  1607→      if (afterInjection) {\n  1608→        return this.#handleRetrieveInjection(afterInjection);\n  1609→      }\n  1610→\n  1611→      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n  1612→\n  1613→      return this.#retrievalResults;\n  1614→    } catch (error) {\n  1615→      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n  1616→      failed = true;\n  1617→      throw error;\n  1618→    } finally {\n  1619→      try {\n  1620→        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n  1621→      } catch {\n  1622→        // Ignore finalizer errors when unwinding failures.\n  1623→      }\n  1624→\n  1625→      if (!afterRan && failed) {\n  1626→        try {\n  1627→          await this.#runInstrumentation(\"afterRetrieve\");\n  1628→        } catch {\n  1629→          // Ignore after-retrieve hook errors when unwinding failures.\n  1630→        }\n  1631→      }\n  1632→    }\n  1633→  }\n  1634→\n  1635→  /**\n  1636→   * Execute the mutation phase\n  1637→   * Returns success flag indicating if mutations completed without conflicts"}]},"uuid":"aa8e1cb1-0d48-431e-b900-75211d7880af","timestamp":"2026-02-12T10:56:10.551Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","content":"   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts","numLines":100,"startLine":1538,"totalLines":2319}},"sourceToolAssistantUUID":"a2a6f1f7-d9d7-4a05-8253-dfee979e2804"}
{"parentUuid":"aa8e1cb1-0d48-431e-b900-75211d7880af","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01EuqnbpqFykcf5q1hk2ZLTf","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me also re-read `executeMutations`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":7063,"cache_read_input_tokens":81215,"cache_creation":{"ephemeral_5m_input_tokens":7063,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY444nYx4rbfZFN2EMe7U","type":"assistant","uuid":"d1a3482a-d5ed-47ba-b1a4-af6291fab15e","timestamp":"2026-02-12T10:56:13.072Z"}
{"parentUuid":"d1a3482a-d5ed-47ba-b1a4-af6291fab15e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01EuqnbpqFykcf5q1hk2ZLTf","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01TCxQZ4NKG21ZrjG87VAXiN","name":"Read","input":{"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","offset":1635,"limit":85}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":7063,"cache_read_input_tokens":81215,"cache_creation":{"ephemeral_5m_input_tokens":7063,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY444nYx4rbfZFN2EMe7U","type":"assistant","uuid":"5eb0215e-32d8-488c-a210-d0cc44bf74b6","timestamp":"2026-02-12T10:56:13.915Z"}
{"parentUuid":"5eb0215e-32d8-488c-a210-d0cc44bf74b6","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Read","command":"callback"},"parentToolUseID":"toolu_01TCxQZ4NKG21ZrjG87VAXiN","toolUseID":"toolu_01TCxQZ4NKG21ZrjG87VAXiN","timestamp":"2026-02-12T10:56:13.920Z","uuid":"c66edbd1-23ce-4d3d-901e-62ca859e23db"}
{"parentUuid":"5eb0215e-32d8-488c-a210-d0cc44bf74b6","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01TCxQZ4NKG21ZrjG87VAXiN","type":"tool_result","content":"  1635→  /**\n  1636→   * Execute the mutation phase\n  1637→   * Returns success flag indicating if mutations completed without conflicts\n  1638→   */\n  1639→  async executeMutations(): Promise<{ success: boolean }> {\n  1640→    if (this.#coordinator.isRestricted) {\n  1641→      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n  1642→    }\n  1643→\n  1644→    if (this.#state === \"executed\") {\n  1645→      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n  1646→    }\n  1647→\n  1648→    let afterRan = false;\n  1649→    let failed = false;\n  1650→    try {\n  1651→      // Wait for all children to signal readiness\n  1652→      await this.#coordinator.mutationReadinessPromise;\n  1653→\n  1654→      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n  1655→      if (beforeInjection) {\n  1656→        return this.#handleMutationInjection(beforeInjection);\n  1657→      }\n  1658→\n  1659→      // Compile mutation operations using single compiler\n  1660→      const mutationBatch: CompiledMutation<unknown>[] = [];\n  1661→      for (const op of this.#mutationOps) {\n  1662→        const compiled = this.#compiler.compileMutationOperation(op);\n  1663→        if (compiled !== null) {\n  1664→          compiled.uowId = this.#idempotencyKey;\n  1665→          this.#config?.onQuery?.(compiled);\n  1666→          mutationBatch.push(compiled);\n  1667→        }\n  1668→      }\n  1669→\n  1670→      if (this.#config?.dryRun) {\n  1671→        this.#state = \"executed\";\n  1672→        afterRan = true;\n  1673→        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n  1674→        if (afterInjection) {\n  1675→          return this.#handleMutationInjection(afterInjection);\n  1676→        }\n  1677→        this.#mutationPhaseDeferred.resolve();\n  1678→        return {\n  1679→          success: true,\n  1680→        };\n  1681→      }\n  1682→\n  1683→      // Execute mutation phase\n  1684→      const result = await this.#executor.executeMutationPhase(mutationBatch);\n  1685→      this.#state = \"executed\";\n  1686→\n  1687→      if (result.success) {\n  1688→        // Mutate array in-place to preserve shared references with child UOWs\n  1689→        this.#createdInternalIds.length = 0;\n  1690→        this.#createdInternalIds.push(...result.createdInternalIds);\n  1691→      }\n  1692→\n  1693→      afterRan = true;\n  1694→      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n  1695→      if (afterInjection) {\n  1696→        return this.#handleMutationInjection(afterInjection);\n  1697→      }\n  1698→\n  1699→      // Resolve the mutation phase promise to unblock waiting service methods\n  1700→      this.#mutationPhaseDeferred.resolve();\n  1701→\n  1702→      return {\n  1703→        success: result.success,\n  1704→      };\n  1705→    } catch (error) {\n  1706→      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n  1707→      failed = true;\n  1708→      throw error;\n  1709→    } finally {\n  1710→      try {\n  1711→        await this.#runInstrumentationFinalizer(\"afterMutate\");\n  1712→      } catch {\n  1713→        // Ignore finalizer errors when unwinding failures.\n  1714→      }\n  1715→\n  1716→      if (!afterRan && failed) {\n  1717→        try {\n  1718→          await this.#runInstrumentation(\"afterMutate\");\n  1719→        } catch {"}]},"uuid":"d066ea58-6d57-4cb3-8e25-e0e3a0f1e779","timestamp":"2026-02-12T10:56:13.919Z","toolUseResult":{"type":"text","file":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","content":"  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {","numLines":85,"startLine":1635,"totalLines":2319}},"sourceToolAssistantUUID":"5eb0215e-32d8-488c-a210-d0cc44bf74b6"}
{"parentUuid":"d066ea58-6d57-4cb3-8e25-e0e3a0f1e779","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_0168wYbwfs7XGnYZP6mEjD8G","type":"message","role":"assistant","content":[{"type":"text","text":"Now I'll implement the refactoring. The strategy:\n\n1. Extract `#compileRetrievalBatch()` and `#compileMutationBatch()` \n2. Extract `#runRetrievalCore()` and `#runMutationCore()` — the core execution logic that returns results\n3. Extract `#runPhaseCleanup()` — the shared finally block logic\n4. Consolidate the 3x repeated after-instrumentation pattern into a single call point\n\nI'll add the private helper methods right before `executeRetrieve`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1293,"cache_read_input_tokens":88278,"cache_creation":{"ephemeral_5m_input_tokens":1293,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY4452xd4iswEAL2H4zxD","type":"assistant","uuid":"cacc82f7-eac3-4e90-be3f-106bf10f384b","timestamp":"2026-02-12T10:56:18.396Z"}
{"parentUuid":"cacc82f7-eac3-4e90-be3f-106bf10f384b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_0168wYbwfs7XGnYZP6mEjD8G","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011NXRu93L9VfiiiVcW8oLER","name":"Edit","input":{"replace_all":false,"file_path":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","old_string":"  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }","new_string":"  #compileRetrievalBatch(): unknown[] {\n    const batch: unknown[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = this.#compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        this.#config?.onQuery?.(compiled);\n        batch.push(compiled);\n      }\n    }\n    return batch;\n  }\n\n  #compileMutationBatch(): CompiledMutation<unknown>[] {\n    const batch: CompiledMutation<unknown>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = this.#compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        this.#config?.onQuery?.(compiled);\n        batch.push(compiled);\n      }\n    }\n    return batch;\n  }\n\n  /**\n   * Core retrieval logic: compile, execute, decode.\n   * Returns the results and the state to transition to.\n   */\n  async #runRetrievalCore(): Promise<{ results: unknown[]; nextState: UOWState }> {\n    if (this.#retrievalOps.length === 0) {\n      return { results: [], nextState: \"building-mutation\" };\n    }\n\n    const batch = this.#compileRetrievalBatch();\n\n    if (this.#config?.dryRun) {\n      return { results: [], nextState: \"executed\" };\n    }\n\n    const rawResults = await this.#executor.executeRetrievalPhase(batch);\n    const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n    this.#retrievalResults = results;\n    return { results, nextState: \"building-mutation\" };\n  }\n\n  /**\n   * Core mutation logic: compile, execute, store created IDs.\n   * Returns the success status.\n   */\n  async #runMutationCore(): Promise<{ success: boolean }> {\n    const batch = this.#compileMutationBatch();\n\n    if (this.#config?.dryRun) {\n      return { success: true };\n    }\n\n    const result = await this.#executor.executeMutationPhase(batch);\n    if (result.success) {\n      // Mutate array in-place to preserve shared references with child UOWs\n      this.#createdInternalIds.length = 0;\n      this.#createdInternalIds.push(...result.createdInternalIds);\n    }\n    return { success: result.success };\n  }\n\n  /**\n   * Shared cleanup for both phases: runs the instrumentation finalizer,\n   * and if the after-hook never ran during a failure, runs it for observability.\n   */\n  async #runPhaseCleanup(\n    afterPhase: \"afterRetrieve\" | \"afterMutate\",\n    afterRan: boolean,\n    failed: boolean,\n  ): Promise<void> {\n    try {\n      await this.#runInstrumentationFinalizer(afterPhase);\n    } catch {\n      // Ignore finalizer errors when unwinding failures.\n    }\n\n    if (!afterRan && failed) {\n      try {\n        await this.#runInstrumentation(afterPhase);\n      } catch {\n        // Ignore after-hook errors when unwinding failures.\n      }\n    }\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      const { results, nextState } = await this.#runRetrievalCore();\n      this.#state = nextState;\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(results);\n      return results;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      await this.#runPhaseCleanup(\"afterRetrieve\", afterRan, failed);\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      const result = await this.#runMutationCore();\n      this.#state = \"executed\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      this.#mutationPhaseDeferred.resolve();\n      return result;\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      await this.#runPhaseCleanup(\"afterMutate\", afterRan, failed);\n    }\n  }"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1293,"cache_read_input_tokens":88278,"output_tokens":3672,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":1293},"inference_geo":"","iterations":[]}},"requestId":"req_011CY4452xd4iswEAL2H4zxD","type":"assistant","uuid":"3e7d9303-0d4f-4afa-82b2-328114f0a062","timestamp":"2026-02-12T10:56:45.237Z"}
{"parentUuid":"3e7d9303-0d4f-4afa-82b2-328114f0a062","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"PostToolUse","hookName":"PostToolUse:Edit","command":"callback"},"parentToolUseID":"toolu_011NXRu93L9VfiiiVcW8oLER","toolUseID":"toolu_011NXRu93L9VfiiiVcW8oLER","timestamp":"2026-02-12T10:56:45.261Z","uuid":"389eb2ac-ef9b-404e-aea9-60f60a6e04c9"}
{"parentUuid":"3e7d9303-0d4f-4afa-82b2-328114f0a062","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011NXRu93L9VfiiiVcW8oLER","type":"tool_result","content":"The file /home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts has been updated successfully."}]},"uuid":"e4d3ffe8-1f67-4bc2-a7d5-16aa394a1c25","timestamp":"2026-02-12T10:56:45.260Z","toolUseResult":{"filePath":"/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/unit-of-work.ts","oldString":"  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }","newString":"  #compileRetrievalBatch(): unknown[] {\n    const batch: unknown[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = this.#compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        this.#config?.onQuery?.(compiled);\n        batch.push(compiled);\n      }\n    }\n    return batch;\n  }\n\n  #compileMutationBatch(): CompiledMutation<unknown>[] {\n    const batch: CompiledMutation<unknown>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = this.#compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        this.#config?.onQuery?.(compiled);\n        batch.push(compiled);\n      }\n    }\n    return batch;\n  }\n\n  /**\n   * Core retrieval logic: compile, execute, decode.\n   * Returns the results and the state to transition to.\n   */\n  async #runRetrievalCore(): Promise<{ results: unknown[]; nextState: UOWState }> {\n    if (this.#retrievalOps.length === 0) {\n      return { results: [], nextState: \"building-mutation\" };\n    }\n\n    const batch = this.#compileRetrievalBatch();\n\n    if (this.#config?.dryRun) {\n      return { results: [], nextState: \"executed\" };\n    }\n\n    const rawResults = await this.#executor.executeRetrievalPhase(batch);\n    const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n    this.#retrievalResults = results;\n    return { results, nextState: \"building-mutation\" };\n  }\n\n  /**\n   * Core mutation logic: compile, execute, store created IDs.\n   * Returns the success status.\n   */\n  async #runMutationCore(): Promise<{ success: boolean }> {\n    const batch = this.#compileMutationBatch();\n\n    if (this.#config?.dryRun) {\n      return { success: true };\n    }\n\n    const result = await this.#executor.executeMutationPhase(batch);\n    if (result.success) {\n      // Mutate array in-place to preserve shared references with child UOWs\n      this.#createdInternalIds.length = 0;\n      this.#createdInternalIds.push(...result.createdInternalIds);\n    }\n    return { success: result.success };\n  }\n\n  /**\n   * Shared cleanup for both phases: runs the instrumentation finalizer,\n   * and if the after-hook never ran during a failure, runs it for observability.\n   */\n  async #runPhaseCleanup(\n    afterPhase: \"afterRetrieve\" | \"afterMutate\",\n    afterRan: boolean,\n    failed: boolean,\n  ): Promise<void> {\n    try {\n      await this.#runInstrumentationFinalizer(afterPhase);\n    } catch {\n      // Ignore finalizer errors when unwinding failures.\n    }\n\n    if (!afterRan && failed) {\n      try {\n        await this.#runInstrumentation(afterPhase);\n      } catch {\n        // Ignore after-hook errors when unwinding failures.\n      }\n    }\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      const { results, nextState } = await this.#runRetrievalCore();\n      this.#state = nextState;\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(results);\n      return results;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      await this.#runPhaseCleanup(\"afterRetrieve\", afterRan, failed);\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      const result = await this.#runMutationCore();\n      this.#state = \"executed\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      this.#mutationPhaseDeferred.resolve();\n      return result;\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      await this.#runPhaseCleanup(\"afterMutate\", afterRan, failed);\n    }\n  }","originalFile":"import type {\n  AnySchema,\n  AnyTable,\n  Index,\n  IdColumn,\n  AnyColumn,\n  Relation,\n} from \"../../schema/create\";\nimport { FragnoId } from \"../../schema/create\";\nimport { generateId } from \"../../schema/generate-id\";\nimport type { Condition, ConditionBuilder } from \"../condition-builder\";\nimport type {\n  SelectClause,\n  TableToInsertValues,\n  TableToUpdateValues,\n  SelectResult,\n  ExtractSelect,\n  ExtractJoinOut,\n} from \"../simple-query-interface\";\nimport { buildCondition } from \"../condition-builder\";\nimport type { CompiledJoin } from \"../orm/orm\";\nimport type { CursorResult } from \"../cursor\";\nimport { Cursor } from \"../cursor\";\nimport type { Prettify } from \"../../util/types\";\nimport type { TriggeredHook, TriggerHookOptions, HooksMap, HookPayload } from \"../../hooks/hooks\";\n\n/**\n * Builder for updateMany operations that supports both whereIndex and set chaining\n */\nexport interface UpdateManyBuilder<TTable extends AnyTable> {\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this;\n  set(values: TableToUpdateValues<TTable>): this;\n}\n\n/**\n * Extract column names from a single index\n */\nexport type IndexColumns<TIndex extends Index> = TIndex[\"columnNames\"][number];\n\ntype RemoveEmptyObject<T> = T extends object ? (keyof T extends never ? never : T) : never;\n\n/**\n * Extract all indexed column names from a table's indexes\n */\ntype IndexedColumns<TIndexes extends Record<string, Index>> = TIndexes[keyof TIndexes] extends Index\n  ? IndexColumns<TIndexes[keyof TIndexes]>\n  : never;\n\ntype OmitNever<T> = { [K in keyof T as T[K] extends never ? never : K]: T[K] };\n\n/**\n * Extract the name of the ID column from a table\n * Checks if column has 'id' property set to true (which IdColumn class has)\n */\nexport type InferIdColumnName<TTable extends AnyTable> = keyof OmitNever<{\n  [K in keyof TTable[\"columns\"]]: TTable[\"columns\"][K] extends IdColumn<\n    infer _,\n    infer __,\n    infer ___\n  >\n    ? K\n    : never;\n}>;\n\n/**\n * Get the columns for a specific index name.\n * For \"primary\", returns only the ID column.\n * For named indexes, returns the columns defined in that index.\n */\ntype ColumnsForIndex<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = TIndexName extends \"primary\"\n  ? Pick<TTable[\"columns\"], InferIdColumnName<TTable>>\n  : TIndexName extends keyof TTable[\"indexes\"]\n    ? Pick<TTable[\"columns\"], IndexColumns<TTable[\"indexes\"][TIndexName]>>\n    : never;\n\n/**\n * ConditionBuilder restricted to indexed columns only.\n * Used throughout Unit of Work to ensure all queries can leverage indexes for optimal performance.\n */\nexport type IndexedConditionBuilder<TTable extends AnyTable> = ConditionBuilder<\n  Pick<TTable[\"columns\"], IndexedColumns<TTable[\"indexes\"]>>\n>;\n\n/**\n * ConditionBuilder restricted to columns in a specific index.\n */\ntype IndexSpecificConditionBuilder<\n  TTable extends AnyTable,\n  TIndexName extends ValidIndexName<TTable>,\n> = ConditionBuilder<ColumnsForIndex<TTable, TIndexName>>;\n\n/**\n * Valid index names for a table, including the static \"primary\" index\n */\nexport type ValidIndexName<TTable extends AnyTable> =\n  | \"primary\"\n  | (string & keyof TTable[\"indexes\"]);\n\n/**\n * Find options for Unit of Work (internal, used after builder finalization)\n */\ntype FindOptions<\n  TTable extends AnyTable = AnyTable,\n  TSelect extends SelectClause<TTable> = SelectClause<TTable>,\n> = {\n  /**\n   * Which index to use for this query (required)\n   */\n  useIndex: string;\n  /**\n   * Select clause - which columns to return\n   */\n  select?: TSelect;\n  /**\n   * Where clause - filtering restricted to indexed columns only\n   */\n  where?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  /**\n   * Order by index - specify which index to order by and direction\n   */\n  orderByIndex?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  /**\n   * Cursor for pagination - continue after this cursor\n   */\n  after?: Cursor | string;\n  /**\n   * Cursor for pagination - continue before this cursor\n   */\n  before?: Cursor | string;\n  /**\n   * Number of results per page\n   */\n  pageSize?: number;\n  /**\n   * Join operations to include related data\n   */\n  joins?: CompiledJoin[];\n};\n\n/**\n * Unit of Work state machine\n */\nexport type UOWState = \"building-retrieval\" | \"building-mutation\" | \"executed\";\n\n/**\n * Retrieval operation - read operations in the first phase\n */\nexport type RetrievalOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"find\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: FindOptions<TTable, SelectClause<TTable>>;\n      withCursor?: boolean;\n      withSingleResult?: boolean;\n    }\n  | {\n      type: \"count\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable;\n      indexName: string;\n      options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n    };\n\n/**\n * Mutation operations - write operations in the second phase\n */\nexport type MutationOperation<\n  TSchema extends AnySchema,\n  TTable extends AnyTable = TSchema[\"tables\"][keyof TSchema[\"tables\"]],\n> =\n  | {\n      type: \"update\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n      set: TableToUpdateValues<TTable>;\n    }\n  | {\n      type: \"create\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      values: TableToInsertValues<TTable>;\n      generatedExternalId: string;\n    }\n  | {\n      type: \"delete\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId | string;\n      checkVersion: boolean;\n    }\n  | {\n      type: \"check\";\n      schema: TSchema;\n      namespace?: string | null;\n      table: TTable[\"name\"];\n      id: FragnoId;\n    };\n\n/**\n * Compiled mutation with metadata for execution\n */\nexport interface CompiledMutation<TOutput> {\n  query: TOutput;\n  /**\n   * Original mutation operation for execution metadata (e.g., outbox payloads).\n   */\n  operation?: MutationOperation<AnySchema>;\n  /**\n   * Idempotency key for the Unit of Work that produced this mutation.\n   */\n  uowId?: string;\n  /**\n   * The type of mutation operation (create, update, delete, or check).\n   */\n  op: \"create\" | \"update\" | \"delete\" | \"check\";\n  /**\n   * Number of rows this operation must affect for the transaction to succeed.\n   * If actual affected rows doesn't match, it indicates a version conflict.\n   * null means don't check affected rows (e.g., for create operations).\n   */\n  expectedAffectedRows: bigint | null;\n  /**\n   * Number of rows this SELECT query must return for the transaction to succeed.\n   * Used for check operations to verify version without modifying data.\n   * null means this is not a SELECT query that needs row count validation.\n   */\n  expectedReturnedRows: number | null;\n}\n\n/**\n * Compiler interface for Unit of Work operations\n */\nexport interface UOWCompiler<TOutput> {\n  /**\n   * Compile a retrieval operation to the adapter's query format\n   */\n  compileRetrievalOperation(op: RetrievalOperation<AnySchema>): TOutput | null;\n\n  /**\n   * Compile a mutation operation to the adapter's query format\n   */\n  compileMutationOperation(op: MutationOperation<AnySchema>): CompiledMutation<TOutput> | null;\n}\n\nexport type MutationResult =\n  | { success: true; createdInternalIds: (bigint | null)[] }\n  | { success: false };\n\n/**\n * Executor interface for Unit of Work operations\n */\nexport interface UOWExecutor<TOutput, TRawResult = unknown> {\n  executeRetrievalPhase(retrievalBatch: TOutput[]): Promise<TRawResult[]>;\n\n  /**\n   * Returns success status indicating if mutations completed without conflicts,\n   * and internal IDs for create operations (null if database doesn't support RETURNING)\n   */\n  executeMutationPhase(mutationBatch: CompiledMutation<TOutput>[]): Promise<MutationResult>;\n}\n\n/**\n * Decoder interface for Unit of Work retrieval results\n *\n * Transforms raw database results into application format (e.g., converting raw columns\n * into FragnoId objects with external ID, internal ID, and version).\n */\nexport interface UOWDecoder<TRawInput = unknown> {\n  /**\n   * Decode raw database results from the retrieval phase\n   *\n   * @param rawResults - Array of raw result sets from database queries\n   * @param operations - Array of retrieval operations that produced these results\n   * @returns Decoded results in application format\n   */\n  decode(rawResults: TRawInput[], operations: RetrievalOperation<AnySchema>[]): unknown[];\n}\n\n/**\n * Builder for find operations in Unit of Work\n */\nexport class FindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #afterCursor?: Cursor | string;\n  #beforeCursor?: Cursor | string;\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>;\n  #countMode = false;\n  #cursorMetadata?: Cursor;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   * @throws Error if selectCount() has already been called\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): FindBuilder<TTable, TNewSelect, TJoinOut> {\n    if (this.#countMode) {\n      throw new Error(\n        `Cannot call select() after selectCount() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as FindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Select count instead of records\n   * @throws Error if select() has already been called\n   */\n  selectCount(): this {\n    if (this.#selectClause !== undefined) {\n      throw new Error(\n        `Cannot call selectCount() after select() on table \"${this.#tableName}\". ` +\n          `Use either select() or selectCount(), not both.`,\n      );\n    }\n    this.#countMode = true;\n    return this;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination after this point (forward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  after(cursor: Cursor | string): this {\n    this.#afterCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set cursor to continue pagination before this point (backward pagination)\n   * If a Cursor object is provided, its metadata will be used to set defaults for\n   * index, orderByIndex, and pageSize (if not explicitly set)\n   */\n  before(cursor: Cursor | string): this {\n    this.#beforeCursor = cursor;\n    if (cursor instanceof Cursor) {\n      this.#cursorMetadata = cursor;\n    }\n    return this;\n  }\n\n  /**\n   * Set the number of results per page\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): FindBuilder<TTable, TSelect, TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as FindBuilder<TTable, TSelect, TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build():\n    | { type: \"find\"; indexName: string; options: FindOptions<TTable, TSelect> }\n    | {\n        type: \"count\";\n        indexName: string;\n        options: Pick<FindOptions<TTable>, \"where\" | \"useIndex\">;\n      } {\n    // Apply cursor metadata as defaults if available and not explicitly set\n    let indexName = this.#indexName;\n    let orderByIndex = this.#orderByIndexClause;\n    let pageSize = this.#pageSizeValue;\n\n    if (this.#cursorMetadata) {\n      // Use cursor metadata as defaults\n      if (!indexName) {\n        indexName = this.#cursorMetadata.indexName;\n      }\n      if (!orderByIndex) {\n        orderByIndex = {\n          indexName: this.#cursorMetadata.indexName,\n          direction: this.#cursorMetadata.orderDirection,\n        };\n      }\n      if (pageSize === undefined) {\n        pageSize = this.#cursorMetadata.pageSize;\n      }\n\n      // Validate that explicit params match cursor params\n      if (indexName && indexName !== this.#cursorMetadata.indexName) {\n        throw new Error(\n          `Index mismatch: builder specifies \"${indexName}\" but cursor specifies \"${this.#cursorMetadata.indexName}\"`,\n        );\n      }\n      if (\n        orderByIndex &&\n        (orderByIndex.indexName !== this.#cursorMetadata.indexName ||\n          orderByIndex.direction !== this.#cursorMetadata.orderDirection)\n      ) {\n        throw new Error(`Order mismatch: builder and cursor specify different ordering`);\n      }\n      if (pageSize !== undefined && pageSize !== this.#cursorMetadata.pageSize) {\n        throw new Error(\n          `Page size mismatch: builder specifies ${pageSize} but cursor specifies ${this.#cursorMetadata.pageSize}`,\n        );\n      }\n    }\n\n    if (!indexName) {\n      throw new Error(\n        `Must specify an index using .whereIndex() before finalizing find operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    // If in count mode, return count operation\n    if (this.#countMode) {\n      return {\n        type: \"count\",\n        indexName,\n        options: {\n          useIndex: indexName,\n          where: this.#whereClause,\n        },\n      };\n    }\n\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    // Convert Cursor objects to strings for after/before\n    const afterCursor =\n      this.#afterCursor instanceof Cursor ? this.#afterCursor.encode() : this.#afterCursor;\n    const beforeCursor =\n      this.#beforeCursor instanceof Cursor ? this.#beforeCursor.encode() : this.#beforeCursor;\n\n    const options: FindOptions<TTable, TSelect> = {\n      useIndex: indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex,\n      after: afterCursor,\n      before: beforeCursor,\n      pageSize,\n      joins: compiledJoins,\n    };\n\n    return { type: \"find\", indexName, options };\n  }\n}\n\n/**\n * Builder for update operations in Unit of Work\n */\nexport class UpdateBuilder<TTable extends AnyTable> {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n  #setValues?: TableToUpdateValues<TTable>;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Specify values to update\n   */\n  set(values: TableToUpdateValues<TTable>): this {\n    this.#setValues = values;\n    return this;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    id: FragnoId | string;\n    checkVersion: boolean;\n    set: TableToUpdateValues<TTable>;\n  } {\n    if (!this.#setValues) {\n      throw new Error(\n        `Must specify values using .set() before finalizing update operation on table \"${this.#tableName}\"`,\n      );\n    }\n\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n      set: this.#setValues,\n    };\n  }\n}\n\n/**\n * Builder for delete operations in Unit of Work\n */\nexport class DeleteBuilder {\n  readonly #tableName: string;\n  readonly #id: FragnoId | string;\n\n  #checkVersion = false;\n\n  constructor(tableName: string, id: FragnoId | string) {\n    this.#tableName = tableName;\n    this.#id = id;\n  }\n\n  /**\n   * Enable version checking for optimistic concurrency control\n   * @throws Error if the ID is just a string (no version available)\n   */\n  check(): this {\n    if (typeof this.#id === \"string\") {\n      throw new Error(\n        `Cannot use check() with a string ID on table \"${this.#tableName}\". ` +\n          `Version checking requires a FragnoId with version information.`,\n      );\n    }\n    this.#checkVersion = true;\n    return this;\n  }\n\n  /**\n   * @internal\n   */\n  build(): { id: FragnoId | string; checkVersion: boolean } {\n    return {\n      id: this.#id,\n      checkVersion: this.#checkVersion,\n    };\n  }\n}\n\n/**\n * Builder for join operations in Unit of Work\n * Similar to FindBuilder but tailored for joins (no cursor pagination, no count mode)\n */\nexport class JoinFindBuilder<\n  TTable extends AnyTable,\n  TSelect extends SelectClause<TTable> = true,\n  TJoinOut = {},\n> {\n  readonly #table: TTable;\n  readonly #tableName: string;\n\n  #indexName?: string;\n  #whereClause?: (eb: IndexedConditionBuilder<TTable>) => Condition | boolean;\n  #orderByIndexClause?: {\n    indexName: string;\n    direction: \"asc\" | \"desc\";\n  };\n  #pageSizeValue?: number;\n  #selectClause?: TSelect;\n  #joinClause?: (jb: IndexedJoinBuilder<TTable, TJoinOut>) => IndexedJoinBuilder<TTable, TJoinOut>;\n\n  constructor(tableName: string, table: TTable) {\n    this.#tableName = tableName;\n    this.#table = table;\n  }\n\n  /**\n   * Specify which index to use and optionally filter the results\n   */\n  whereIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    condition?: (eb: IndexSpecificConditionBuilder<TTable, TIndexName>) => Condition | boolean,\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#indexName = indexName === \"primary\" ? \"_primary\" : indexName;\n    if (condition) {\n      // Safe: IndexSpecificConditionBuilder is a subset of IndexedConditionBuilder.\n      // The condition will only reference columns in the specific index, which are also indexed columns.\n      this.#whereClause = condition as unknown as (\n        eb: IndexedConditionBuilder<TTable>,\n      ) => Condition | boolean;\n    }\n    return this;\n  }\n\n  /**\n   * Specify columns to select\n   */\n  select<const TNewSelect extends SelectClause<TTable>>(\n    columns: TNewSelect,\n  ): JoinFindBuilder<TTable, TNewSelect, TJoinOut> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this as any).#selectClause = columns;\n    return this as unknown as JoinFindBuilder<TTable, TNewSelect, TJoinOut>;\n  }\n\n  /**\n   * Order results by index in ascending or descending order\n   */\n  orderByIndex<TIndexName extends ValidIndexName<TTable>>(\n    indexName: TIndexName,\n    direction: \"asc\" | \"desc\",\n  ): this {\n    // Validate index exists (primary is always valid)\n    if (indexName !== \"primary\" && !(indexName in this.#table.indexes)) {\n      throw new Error(\n        `Index \"${String(indexName)}\" not found on table \"${this.#tableName}\". ` +\n          `Available indexes: primary, ${Object.keys(this.#table.indexes).join(\", \")}`,\n      );\n    }\n\n    this.#orderByIndexClause = {\n      indexName: indexName === \"primary\" ? \"_primary\" : indexName,\n      direction,\n    };\n    return this;\n  }\n\n  /**\n   * Set the number of results to return\n   * @throws {RangeError} If size is not a positive integer\n   */\n  pageSize(size: number): this {\n    if (!Number.isInteger(size) || size <= 0) {\n      throw new RangeError(`pageSize must be a positive integer, received: ${size}`);\n    }\n    this.#pageSizeValue = size;\n    return this;\n  }\n\n  /**\n   * Add joins to include related data\n   * Join where clauses are restricted to indexed columns only\n   */\n  join<TNewJoinOut>(\n    joinFn: (jb: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TNewJoinOut>,\n  ): JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut> {\n    this.#joinClause = joinFn;\n    return this as unknown as JoinFindBuilder<TTable, TSelect, TJoinOut & TNewJoinOut>;\n  }\n\n  /**\n   * @internal\n   */\n  build(): {\n    indexName: string | undefined;\n    select: TSelect | undefined;\n    where: ((eb: IndexedConditionBuilder<TTable>) => Condition | boolean) | undefined;\n    orderByIndex:\n      | {\n          indexName: string;\n          direction: \"asc\" | \"desc\";\n        }\n      | undefined;\n    pageSize: number | undefined;\n    joins: CompiledJoin[] | undefined;\n  } {\n    // Compile joins if provided\n    let compiledJoins: CompiledJoin[] | undefined;\n    if (this.#joinClause) {\n      compiledJoins = buildJoinIndexed(this.#table, this.#joinClause);\n    }\n\n    return {\n      indexName: this.#indexName,\n      select: this.#selectClause,\n      where: this.#whereClause,\n      orderByIndex: this.#orderByIndexClause,\n      pageSize: this.#pageSizeValue,\n      joins: compiledJoins,\n    };\n  }\n}\n\ninterface MapRelationType<T> {\n  // FIXME: Not sure why we need the RemoveEmptyObject, we should somehow fix at the source where it's added to the union\n  one: RemoveEmptyObject<T> | null;\n  many: RemoveEmptyObject<T>[];\n}\n\n/**\n * Join builder with indexed-only where clauses for Unit of Work\n * TJoinOut accumulates the types of all joined relations\n */\nexport type IndexedJoinBuilder<TTable extends AnyTable, TJoinOut> = {\n  [K in keyof TTable[\"relations\"]]: TTable[\"relations\"][K] extends Relation<\n    infer TRelationType,\n    infer TTargetTable\n  >\n    ? <TSelect extends SelectClause<TTable[\"relations\"][K][\"table\"]> = true, TNestedJoinOut = {}>(\n        builderFn?: (\n          builder: JoinFindBuilder<TTable[\"relations\"][K][\"table\"]>,\n        ) => JoinFindBuilder<TTable[\"relations\"][K][\"table\"], TSelect, TNestedJoinOut>,\n      ) => IndexedJoinBuilder<\n        TTable,\n        TJoinOut & {\n          [P in K]: MapRelationType<\n            SelectResult<TTargetTable, TNestedJoinOut, TSelect>\n          >[TRelationType];\n        }\n      >\n    : never;\n};\n\n/**\n * Resolve a join's where clause into a Condition, or signal that the join should be skipped.\n * Returns `{ skip: true }` when the condition evaluates to literal false.\n */\nfunction resolveJoinCondition(\n  table: AnyTable,\n  where: ((eb: IndexedConditionBuilder<AnyTable>) => Condition | boolean) | undefined,\n): { skip: true } | { skip: false; condition: Condition | undefined } {\n  if (!where) {\n    return { skip: false, condition: undefined };\n  }\n  const cond = buildCondition(table.columns, where);\n  if (cond === false) {\n    return { skip: true };\n  }\n  return { skip: false, condition: cond === true ? undefined : cond };\n}\n\n/**\n * Resolve an orderByIndex specification into column/direction pairs.\n */\nfunction resolveJoinOrderBy(\n  table: AnyTable,\n  orderByIndex: { indexName: string; direction: \"asc\" | \"desc\" } | undefined,\n): [AnyColumn, \"asc\" | \"desc\"][] | undefined {\n  if (!orderByIndex) {\n    return undefined;\n  }\n  const index = table.indexes[orderByIndex.indexName];\n  if (index) {\n    return index.columns.map(\n      (col) => [col, orderByIndex.direction] as [AnyColumn, \"asc\" | \"desc\"],\n    );\n  }\n  return [[table.getIdColumn(), orderByIndex.direction]];\n}\n\n/**\n * Build join operations with indexed-only where clauses for Unit of Work\n * This ensures all join conditions can leverage indexes for optimal performance\n */\nexport function buildJoinIndexed<TTable extends AnyTable, TJoinOut>(\n  table: TTable,\n  fn: (builder: IndexedJoinBuilder<TTable, {}>) => IndexedJoinBuilder<TTable, TJoinOut>,\n): CompiledJoin[] {\n  const compiled: CompiledJoin[] = [];\n  const builder: Record<string, unknown> = {};\n\n  for (const name in table.relations) {\n    const relation = table.relations[name]!;\n\n    builder[name] = (builderFn?: (b: JoinFindBuilder<AnyTable>) => JoinFindBuilder<AnyTable>) => {\n      const joinBuilder = new JoinFindBuilder(relation.table.name, relation.table);\n      if (builderFn) {\n        builderFn(joinBuilder);\n      }\n      const config = joinBuilder.build();\n\n      const conditionResult = resolveJoinCondition(relation.table, config.where);\n      if (conditionResult.skip) {\n        compiled.push({ relation, options: false });\n        delete builder[name];\n        return builder;\n      }\n\n      compiled.push({\n        relation,\n        options: {\n          select: config.select ?? true,\n          where: conditionResult.condition,\n          orderBy: resolveJoinOrderBy(relation.table, config.orderByIndex),\n          join: config.joins,\n          limit: config.pageSize,\n        },\n      });\n\n      delete builder[name];\n      return builder;\n    };\n  }\n\n  fn(builder as IndexedJoinBuilder<TTable, {}>);\n  return compiled;\n}\n\n/**\n * Full Unit of Work interface with all operations including execution.\n * This allows UOW instances to be passed between different contexts that use different schemas.\n */\nexport interface IUnitOfWork {\n  // Getters (schema-agnostic)\n  readonly state: UOWState;\n  readonly name: string | undefined;\n  readonly idempotencyKey: string;\n  readonly retrievalPhase: Promise<unknown[]>;\n  readonly mutationPhase: Promise<void>;\n\n  // Execution (schema-agnostic)\n  executeRetrieve(): Promise<unknown[]>;\n  executeMutations(): Promise<{ success: boolean }>;\n\n  // Inspection (schema-agnostic)\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>>;\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>>;\n  getCreatedIds(): FragnoId[];\n\n  // Parent-child relationships\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork;\n\n  // Coordination for restricted UOWs\n  signalReadyForRetrieval(): void;\n  signalReadyForMutation(): void;\n\n  // Reset for retry support\n  reset(): void;\n\n  // Schema-specific view (for cross-schema operations)\n  // The optional hooks parameter is for type inference only - pass your hooks map\n  // to get proper typing for triggerHook. The value is not used at runtime.\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ): TypedUnitOfWork<TOtherSchema, [], any, TOtherHooks>;\n\n  // Schema registration (for cross-fragment operations like hooks)\n  registerSchema(schema: AnySchema, namespace: string | null): void;\n\n  // Hook triggering (schema-agnostic, string-based hook names)\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void;\n\n  getTriggeredHooks(): readonly TriggeredHook[];\n}\n\n/**\n * Restricted UOW interface without execute methods.\n * Useful when you want to allow building operations but not executing them,\n * to prevent deadlocks or enforce execution control at a higher level.\n *\n * Note: This is just a marker interface. Restriction is enforced by the UnitOfWork class itself.\n */\nexport interface IUnitOfWorkRestricted\n  extends Omit<IUnitOfWork, \"executeRetrieve\" | \"executeMutations\"> {}\n\nexport type UOWInstrumentationPhase =\n  | \"beforeRetrieve\"\n  | \"afterRetrieve\"\n  | \"beforeMutate\"\n  | \"afterMutate\";\n\nexport type UOWInstrumentationInjection =\n  | { type: \"conflict\"; reason?: string }\n  | { type: \"error\"; error: Error };\n\nexport type UOWInstrumentationContext = {\n  phase: UOWInstrumentationPhase;\n  uowName?: string;\n  idempotencyKey: string;\n  retrievalOpsCount: number;\n  mutationOpsCount: number;\n  uow: IUnitOfWork;\n};\n\nexport type UOWInstrumentation = {\n  beforeRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterRetrieve?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  beforeMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n  afterMutate?: (\n    ctx: UOWInstrumentationContext,\n  ) => void | Promise<void> | UOWInstrumentationInjection;\n};\n\nexport type UOWInstrumentationFinalizer = {\n  afterRetrieve?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n  afterMutate?: (ctx: UOWInstrumentationContext) => void | Promise<void>;\n};\n\nexport interface UnitOfWorkInit<TRawInput = unknown> {\n  compiler: UOWCompiler<unknown>;\n  executor: UOWExecutor<unknown, TRawInput>;\n  decoder: UOWDecoder<TRawInput>;\n  name?: string;\n  config?: UnitOfWorkConfig;\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>;\n}\n\nexport function createUnitOfWork(\n  compiler: UOWCompiler<unknown>,\n  executor: UOWExecutor<unknown, unknown>,\n  decoder: UOWDecoder<unknown>,\n  schemaNamespaceMap?: WeakMap<AnySchema, string | null>,\n  name?: string,\n): UnitOfWork {\n  return new UnitOfWork({ compiler, executor, decoder, name, schemaNamespaceMap });\n}\n\nexport interface UnitOfWorkConfig {\n  dryRun?: boolean;\n  onQuery?: (query: unknown) => void;\n  idempotencyKey?: string;\n  instrumentation?: UOWInstrumentation;\n  instrumentationFinalizer?: UOWInstrumentationFinalizer;\n}\n\nfunction isUowInstrumentationInjection(value: unknown): value is UOWInstrumentationInjection {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n  const injection = value as UOWInstrumentationInjection;\n  return injection.type === \"conflict\" || injection.type === \"error\";\n}\n\n/**\n * Encapsulates a promise with its resolver/rejecter functions.\n * Simplifies management of deferred promises with built-in error handling.\n */\nclass DeferredPromise<T> {\n  #resolve?: (value: T) => void;\n  #reject?: (error: Error) => void;\n  #promise: Promise<T>;\n\n  constructor() {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n\n  get promise(): Promise<T> {\n    return this.#promise;\n  }\n\n  resolve(value: T): void {\n    this.#resolve?.(value);\n  }\n\n  reject(error: Error): void {\n    this.#reject?.(error);\n  }\n\n  /**\n   * Reset to a new promise\n   */\n  reset(): void {\n    const { promise, resolve, reject } = Promise.withResolvers<T>();\n    this.#promise = promise;\n    this.#resolve = resolve;\n    this.#reject = reject;\n    // Attach no-op error handler to prevent unhandled rejection warnings\n    this.#promise.catch(() => {});\n  }\n}\n\n/**\n * Tracks readiness signals from a group of children.\n * Maintains a promise that resolves when all registered children have signaled.\n */\nclass ReadinessTracker {\n  #expectedCount = 0;\n  #signalCount = 0;\n  #resolve?: () => void;\n  #promise: Promise<void> = Promise.resolve();\n\n  get promise(): Promise<void> {\n    return this.#promise;\n  }\n\n  /**\n   * Register that we're expecting a signal from a child\n   */\n  registerChild(): void {\n    if (this.#expectedCount === 0) {\n      // First child - create new promise\n      const { promise, resolve } = Promise.withResolvers<void>();\n      this.#promise = promise;\n      this.#resolve = resolve;\n    }\n    this.#expectedCount++;\n  }\n\n  /**\n   * Signal that one child is ready\n   */\n  signal(): void {\n    this.#signalCount++;\n    if (this.#signalCount >= this.#expectedCount && this.#resolve) {\n      this.#resolve();\n    }\n  }\n\n  /**\n   * Reset to initial state\n   */\n  reset(): void {\n    this.#expectedCount = 0;\n    this.#signalCount = 0;\n    this.#resolve = undefined;\n    this.#promise = Promise.resolve();\n  }\n}\n\n/**\n * Manages parent-child relationships and readiness coordination for Unit of Work instances.\n * This allows parent UOWs to wait for all child UOWs to signal readiness before executing phases.\n */\nclass UOWChildCoordinator<TRawInput> {\n  #parent: UnitOfWork<TRawInput> | null = null;\n  #parentCoordinator: UOWChildCoordinator<TRawInput> | null = null;\n  #children: Set<UnitOfWork<TRawInput>> = new Set();\n  #isRestricted = false;\n\n  #retrievalTracker = new ReadinessTracker();\n  #mutationTracker = new ReadinessTracker();\n\n  get isRestricted(): boolean {\n    return this.#isRestricted;\n  }\n\n  get parent(): UnitOfWork<TRawInput> | null {\n    return this.#parent;\n  }\n\n  get children(): ReadonlySet<UnitOfWork<TRawInput>> {\n    return this.#children;\n  }\n\n  get retrievalReadinessPromise(): Promise<void> {\n    return this.#retrievalTracker.promise;\n  }\n\n  get mutationReadinessPromise(): Promise<void> {\n    return this.#mutationTracker.promise;\n  }\n\n  /**\n   * Mark this UOW as a restricted child of the given parent\n   */\n  setAsRestricted(\n    parent: UnitOfWork<TRawInput>,\n    parentCoordinator: UOWChildCoordinator<TRawInput>,\n  ): void {\n    this.#parent = parent;\n    this.#parentCoordinator = parentCoordinator;\n    this.#isRestricted = true;\n  }\n\n  /**\n   * Register a child UOW\n   */\n  addChild(child: UnitOfWork<TRawInput>): void {\n    this.#children.add(child);\n    this.#retrievalTracker.registerChild();\n    this.#mutationTracker.registerChild();\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForRetrieval() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    if (!this.#parentCoordinator) {\n      throw new Error(\"signalReadyForMutation() can only be called on restricted child UOWs\");\n    }\n\n    this.#parentCoordinator.notifyChildReadyForMutation();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for retrieval (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForRetrieval(): void {\n    this.#retrievalTracker.signal();\n  }\n\n  /**\n   * Notify this coordinator that a child is ready for mutation (internal use).\n   * Called by child UOWs when they signal readiness.\n   */\n  notifyChildReadyForMutation(): void {\n    this.#mutationTracker.signal();\n  }\n\n  /**\n   * Reset coordination state for retry support\n   */\n  reset(): void {\n    this.#children.clear();\n    this.#retrievalTracker.reset();\n    this.#mutationTracker.reset();\n  }\n}\n\n/**\n * Unit of Work implementation with optimistic concurrency control\n *\n * UOW has two phases:\n * 1. Retrieval phase: Read operations to fetch entities with their versions\n * 2. Mutation phase: Write operations that check versions before committing\n *\n * This is the untyped base storage. Use TypedUnitOfWork for type-safe operations.\n *\n * @example\n * ```ts\n * const uow = queryEngine.createUnitOfWork(\"update-user-balance\");\n * const typedUow = uow.forSchema(mySchema);\n *\n * // Retrieval phase\n * typedUow.find(\"users\", (b) => b.whereIndex(\"primary\", (eb) => eb(\"id\", \"=\", userId)));\n *\n * // Execute retrieval and transition to mutation phase\n * const [users] = await uow.executeRetrieve();\n *\n * // Mutation phase with version check\n * const user = users[0];\n * typedUow.update(\"users\", user.id, (b) => b.set({ balance: newBalance }).check());\n *\n * // Execute mutations\n * const { success } = await uow.executeMutations();\n * if (!success) {\n *   // Handle version conflict\n * }\n * ```\n */\nexport class UnitOfWork<const TRawInput = unknown> implements IUnitOfWork {\n  #name?: string;\n  #config?: UnitOfWorkConfig;\n  #idempotencyKey: string;\n\n  #state: UOWState = \"building-retrieval\";\n\n  // Operations can come from any schema\n  #retrievalOps: RetrievalOperation<AnySchema>[] = [];\n  #mutationOps: MutationOperation<AnySchema>[] = [];\n\n  #compiler: UOWCompiler<unknown>;\n  #executor: UOWExecutor<unknown, TRawInput>;\n  #decoder: UOWDecoder<TRawInput>;\n  #schemaNamespaceMap: WeakMap<AnySchema, string | null>;\n\n  #retrievalResults?: unknown[];\n  #createdInternalIds: (bigint | null)[] = [];\n\n  // Phase coordination promises\n  #retrievalPhaseDeferred = new DeferredPromise<unknown[]>();\n  #mutationPhaseDeferred = new DeferredPromise<void>();\n\n  // Error tracking\n  #retrievalError: Error | null = null;\n  #mutationError: Error | null = null;\n\n  // Child coordination\n  #coordinator: UOWChildCoordinator<TRawInput> = new UOWChildCoordinator();\n\n  // Hook triggers\n  #triggeredHooks: TriggeredHook[] = [];\n\n  constructor(init: UnitOfWorkInit<TRawInput>) {\n    this.#compiler = init.compiler;\n    this.#executor = init.executor;\n    this.#decoder = init.decoder;\n    this.#schemaNamespaceMap = init.schemaNamespaceMap ?? new WeakMap();\n    this.#name = init.name;\n    this.#config = init.config;\n    this.#idempotencyKey = init.config?.idempotencyKey ?? crypto.randomUUID();\n  }\n\n  #createInstrumentationContext(phase: UOWInstrumentationPhase): UOWInstrumentationContext {\n    return {\n      phase,\n      uowName: this.#name,\n      idempotencyKey: this.#idempotencyKey,\n      retrievalOpsCount: this.#retrievalOps.length,\n      mutationOpsCount: this.#mutationOps.length,\n      uow: this,\n    };\n  }\n\n  async #runInstrumentation(\n    phase: UOWInstrumentationPhase,\n  ): Promise<UOWInstrumentationInjection | null> {\n    const hook = this.#config?.instrumentation?.[phase];\n    if (!hook) {\n      return null;\n    }\n\n    const result = await hook(this.#createInstrumentationContext(phase));\n    if (isUowInstrumentationInjection(result)) {\n      return result;\n    }\n\n    return null;\n  }\n\n  async #runInstrumentationFinalizer(phase: \"afterRetrieve\" | \"afterMutate\"): Promise<void> {\n    const hook = this.#config?.instrumentationFinalizer?.[phase];\n    if (!hook) {\n      return;\n    }\n\n    await hook(this.#createInstrumentationContext(phase));\n  }\n\n  #handleRetrieveInjection(injection: UOWInstrumentationInjection): never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    throw new Error(injection.reason ?? \"Injected conflict\");\n  }\n\n  #handleMutationInjection(injection: UOWInstrumentationInjection): { success: false } | never {\n    if (injection.type === \"error\") {\n      throw injection.error;\n    }\n\n    this.#state = \"executed\";\n    this.#createdInternalIds.length = 0;\n    this.#mutationPhaseDeferred.resolve();\n    return { success: false };\n  }\n\n  /**\n   * Register a schema with its namespace for cross-fragment operations.\n   * This is used for internal fragments like hooks that need to create\n   * records in a different schema during the same transaction.\n   */\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#schemaNamespaceMap.set(schema, namespace);\n  }\n\n  /**\n   * Get a schema-specific typed view of this UOW for type-safe operations.\n   * Returns a wrapper that provides typed operations for the given schema.\n   * The namespace is automatically resolved from the schema-namespace map.\n   * The optional hooks parameter is for type inference only - pass your hooks map\n   * to get proper typing for triggerHook. The value is not used at runtime.\n   */\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    _hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    const resolvedNamespace = this.#schemaNamespaceMap.get(schema);\n\n    return new TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks>(\n      schema,\n      resolvedNamespace,\n      this,\n    );\n  }\n\n  /**\n   * Create a restricted child UOW that cannot execute phases.\n   * The child shares the same operation storage but must signal readiness\n   * before the parent can execute each phase.\n   *\n   * @param options.readyFor - Controls automatic readiness signaling:\n   *   - \"mutation\" (default): Signals ready for both retrieval and mutation immediately\n   *   - \"retrieval\": Signals ready for retrieval only\n   *   - \"none\": No automatic signaling, caller must signal manually\n   */\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): UnitOfWork<TRawInput> {\n    const readyFor = options?.readyFor ?? \"mutation\";\n\n    const child = new UnitOfWork<TRawInput>({\n      compiler: this.#compiler,\n      executor: this.#executor,\n      decoder: this.#decoder,\n      name: this.#name,\n      config: { ...this.#config, idempotencyKey: this.#idempotencyKey },\n      schemaNamespaceMap: this.#schemaNamespaceMap,\n    });\n    child.#coordinator.setAsRestricted(this, this.#coordinator);\n\n    child.#retrievalOps = this.#retrievalOps;\n    child.#mutationOps = this.#mutationOps;\n    child.#retrievalResults = this.#retrievalResults;\n    child.#createdInternalIds = this.#createdInternalIds;\n    child.#retrievalPhaseDeferred = this.#retrievalPhaseDeferred;\n    child.#mutationPhaseDeferred = this.#mutationPhaseDeferred;\n    child.#retrievalError = this.#retrievalError;\n    child.#mutationError = this.#mutationError;\n    child.#triggeredHooks = this.#triggeredHooks;\n\n    this.#coordinator.addChild(child);\n\n    // Signal readiness based on options\n    if (readyFor === \"mutation\" || readyFor === \"retrieval\") {\n      child.signalReadyForRetrieval();\n    }\n    if (readyFor === \"mutation\") {\n      child.signalReadyForMutation();\n    }\n\n    return child;\n  }\n\n  /**\n   * Signal that this child is ready for retrieval phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForRetrieval(): void {\n    this.#coordinator.signalReadyForRetrieval();\n  }\n\n  /**\n   * Signal that this child is ready for mutation phase execution.\n   * Only valid for restricted (child) UOWs.\n   */\n  signalReadyForMutation(): void {\n    this.#coordinator.signalReadyForMutation();\n  }\n\n  /**\n   * Reset the UOW to initial state for retry support.\n   * Clears operations, resets state, and resets phase promises.\n   */\n  reset(): void {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"reset() cannot be called on restricted child UOWs\");\n    }\n\n    // Clear operations\n    this.#retrievalOps = [];\n    this.#mutationOps = [];\n    this.#retrievalResults = undefined;\n    this.#createdInternalIds = [];\n\n    // Reset state\n    this.#state = \"building-retrieval\";\n    this.#retrievalError = null;\n    this.#mutationError = null;\n\n    // Reset phase promises\n    this.#retrievalPhaseDeferred.reset();\n    this.#mutationPhaseDeferred.reset();\n\n    // Reset child coordination\n    this.#coordinator.reset();\n\n    // Reset hooks\n    this.#triggeredHooks = [];\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook(hookName: string, payload: unknown, options?: TriggerHookOptions): void {\n    this.#triggeredHooks.push({\n      hookName,\n      payload,\n      options,\n    });\n  }\n\n  /**\n   * Get all triggered hooks for this UOW.\n   */\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#triggeredHooks;\n  }\n\n  get state(): UOWState {\n    return this.#coordinator.parent?.state ?? this.#state;\n  }\n\n  get name(): string | undefined {\n    return this.#name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#idempotencyKey;\n  }\n\n  /**\n   * Promise that resolves when the retrieval phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get retrievalPhase(): Promise<unknown[]> {\n    return this.#retrievalPhaseDeferred.promise;\n  }\n\n  /**\n   * Promise that resolves when the mutation phase is executed\n   * Service methods can await this to coordinate multi-phase logic\n   */\n  get mutationPhase(): Promise<void> {\n    return this.#mutationPhaseDeferred.promise;\n  }\n\n  /**\n   * Execute the retrieval phase and transition to mutation phase\n   * Returns all results from find operations\n   */\n  async executeRetrieve(): Promise<unknown[]> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeRetrieve() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot execute retrieval from state ${this.#state}. Must be in building-retrieval state.`,\n      );\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.retrievalReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");\n      if (beforeInjection) {\n        return this.#handleRetrieveInjection(beforeInjection);\n      }\n\n      if (this.#retrievalOps.length === 0) {\n        this.#state = \"building-mutation\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      // Compile retrieval operations using single compiler\n      const retrievalBatch: unknown[] = [];\n      for (const op of this.#retrievalOps) {\n        const compiled = this.#compiler.compileRetrievalOperation(op);\n        if (compiled !== null) {\n          this.#config?.onQuery?.(compiled);\n          retrievalBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        const emptyResults: unknown[] = [];\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n        if (afterInjection) {\n          return this.#handleRetrieveInjection(afterInjection);\n        }\n        this.#retrievalPhaseDeferred.resolve(emptyResults);\n        return emptyResults;\n      }\n\n      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);\n\n      const results = this.#decoder.decode(rawResults, this.#retrievalOps);\n\n      // Store results and transition to mutation phase\n      this.#retrievalResults = results;\n      this.#state = \"building-mutation\";\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");\n      if (afterInjection) {\n        return this.#handleRetrieveInjection(afterInjection);\n      }\n\n      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);\n\n      return this.#retrievalResults;\n    } catch (error) {\n      this.#retrievalError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterRetrieve\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterRetrieve\");\n        } catch {\n          // Ignore after-retrieve hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Execute the mutation phase\n   * Returns success flag indicating if mutations completed without conflicts\n   */\n  async executeMutations(): Promise<{ success: boolean }> {\n    if (this.#coordinator.isRestricted) {\n      throw new Error(\"executeMutations() cannot be called on restricted child UOWs\");\n    }\n\n    if (this.#state === \"executed\") {\n      throw new Error(`Cannot execute mutations from state ${this.#state}.`);\n    }\n\n    let afterRan = false;\n    let failed = false;\n    try {\n      // Wait for all children to signal readiness\n      await this.#coordinator.mutationReadinessPromise;\n\n      const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");\n      if (beforeInjection) {\n        return this.#handleMutationInjection(beforeInjection);\n      }\n\n      // Compile mutation operations using single compiler\n      const mutationBatch: CompiledMutation<unknown>[] = [];\n      for (const op of this.#mutationOps) {\n        const compiled = this.#compiler.compileMutationOperation(op);\n        if (compiled !== null) {\n          compiled.uowId = this.#idempotencyKey;\n          this.#config?.onQuery?.(compiled);\n          mutationBatch.push(compiled);\n        }\n      }\n\n      if (this.#config?.dryRun) {\n        this.#state = \"executed\";\n        afterRan = true;\n        const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n        if (afterInjection) {\n          return this.#handleMutationInjection(afterInjection);\n        }\n        this.#mutationPhaseDeferred.resolve();\n        return {\n          success: true,\n        };\n      }\n\n      // Execute mutation phase\n      const result = await this.#executor.executeMutationPhase(mutationBatch);\n      this.#state = \"executed\";\n\n      if (result.success) {\n        // Mutate array in-place to preserve shared references with child UOWs\n        this.#createdInternalIds.length = 0;\n        this.#createdInternalIds.push(...result.createdInternalIds);\n      }\n\n      afterRan = true;\n      const afterInjection = await this.#runInstrumentation(\"afterMutate\");\n      if (afterInjection) {\n        return this.#handleMutationInjection(afterInjection);\n      }\n\n      // Resolve the mutation phase promise to unblock waiting service methods\n      this.#mutationPhaseDeferred.resolve();\n\n      return {\n        success: result.success,\n      };\n    } catch (error) {\n      this.#mutationError = error instanceof Error ? error : new Error(String(error));\n      failed = true;\n      throw error;\n    } finally {\n      try {\n        await this.#runInstrumentationFinalizer(\"afterMutate\");\n      } catch {\n        // Ignore finalizer errors when unwinding failures.\n      }\n\n      if (!afterRan && failed) {\n        try {\n          await this.#runInstrumentation(\"afterMutate\");\n        } catch {\n          // Ignore after-mutate hook errors when unwinding failures.\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the retrieval operations (for inspection/debugging)\n   */\n  getRetrievalOperations(): ReadonlyArray<RetrievalOperation<AnySchema>> {\n    return this.#retrievalOps;\n  }\n\n  /**\n   * Get the mutation operations (for inspection/debugging)\n   */\n  getMutationOperations(): ReadonlyArray<MutationOperation<AnySchema>> {\n    return this.#mutationOps;\n  }\n\n  /**\n   * @internal\n   * Add a retrieval operation (used by TypedUnitOfWork)\n   */\n  addRetrievalOperation(op: RetrievalOperation<AnySchema>): number {\n    if (this.state !== \"building-retrieval\") {\n      throw new Error(\n        `Cannot add retrieval operation in state ${this.state}. Must be in building-retrieval state.`,\n      );\n    }\n    this.#retrievalOps.push(op);\n    return this.#retrievalOps.length - 1;\n  }\n\n  /**\n   * @internal\n   * Add a mutation operation (used by TypedUnitOfWork)\n   */\n  addMutationOperation(op: MutationOperation<AnySchema>): void {\n    if (this.state === \"executed\") {\n      throw new Error(`Cannot add mutation operation in executed state.`);\n    }\n    this.#mutationOps.push(op);\n  }\n\n  /**\n   * Get the IDs of created entities after executeMutations() has been called.\n   * Returns FragnoId objects with external IDs (always available) and internal IDs\n   * (available when database supports RETURNING).\n   *\n   * @throws Error if called before executeMutations()\n   * @returns Array of FragnoIds in the same order as create() calls\n   */\n  getCreatedIds(): FragnoId[] {\n    if (this.state !== \"executed\") {\n      throw new Error(\n        `getCreatedIds() can only be called after executeMutations(). Current state: ${this.state}`,\n      );\n    }\n\n    const createdIds: FragnoId[] = [];\n    let createIndex = 0;\n\n    for (const op of this.#mutationOps) {\n      if (op.type === \"create\") {\n        const internalId = this.#createdInternalIds[createIndex] ?? undefined;\n        createdIds.push(\n          new FragnoId({\n            externalId: op.generatedExternalId,\n            internalId,\n            version: 0, // New records always start at version 0\n          }),\n        );\n        createIndex++;\n      }\n    }\n\n    return createdIds;\n  }\n\n  /**\n   * @internal\n   * Compile the unit of work to executable queries for testing\n   */\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    const retrievalBatch: TOutput[] = [];\n    for (const op of this.#retrievalOps) {\n      const compiled = compiler.compileRetrievalOperation(op);\n      if (compiled !== null) {\n        retrievalBatch.push(compiled);\n      }\n    }\n\n    const mutationBatch: CompiledMutation<TOutput>[] = [];\n    for (const op of this.#mutationOps) {\n      const compiled = compiler.compileMutationOperation(op);\n      if (compiled !== null) {\n        compiled.uowId = this.#idempotencyKey;\n        mutationBatch.push(compiled);\n      }\n    }\n\n    return {\n      name: this.#name,\n      retrievalBatch,\n      mutationBatch,\n    };\n  }\n}\n\n/**\n * A typed facade around a UnitOfWork that provides type-safe operations for a specific schema.\n * All operations are stored in the underlying UOW, but this facade ensures type safety and\n * filters retrieval results to only include operations added through this facade.\n */\nexport class TypedUnitOfWork<\n  const TSchema extends AnySchema,\n  const TRetrievalResults extends unknown[] = [],\n  const TRawInput = unknown,\n  const THooks extends HooksMap = {},\n> implements IUnitOfWork\n{\n  #schema: TSchema;\n  #namespace?: string | null;\n  #uow: UnitOfWork<TRawInput>;\n  #operationIndices: number[] = [];\n  #cachedRetrievalPhase?: Promise<TRetrievalResults>;\n\n  constructor(schema: TSchema, namespace: string | null | undefined, uow: UnitOfWork<TRawInput>) {\n    this.#schema = schema;\n    this.#namespace = namespace;\n    this.#uow = uow;\n  }\n\n  get $results(): Prettify<TRetrievalResults> {\n    throw new Error(\"type only\");\n  }\n\n  get schema(): TSchema {\n    return this.#schema;\n  }\n\n  get name(): string | undefined {\n    return this.#uow.name;\n  }\n\n  get idempotencyKey(): string {\n    return this.#uow.idempotencyKey;\n  }\n\n  get state() {\n    return this.#uow.state;\n  }\n\n  get retrievalPhase(): Promise<TRetrievalResults> {\n    // Cache the filtered promise to avoid recreating it on every access\n    if (!this.#cachedRetrievalPhase) {\n      this.#cachedRetrievalPhase = this.#uow.retrievalPhase.then((allResults) => {\n        const allOperations = this.#uow.getRetrievalOperations();\n        const filteredResults = this.#operationIndices.map((opIndex) => {\n          const result = allResults[opIndex];\n          const operation = allOperations[opIndex];\n          // Transform array to single item for findFirst operations\n          if (operation?.type === \"find\" && operation.withSingleResult) {\n            return Array.isArray(result) ? (result[0] ?? null) : result;\n          }\n          return result;\n        });\n        return filteredResults as TRetrievalResults;\n      });\n    }\n    return this.#cachedRetrievalPhase;\n  }\n\n  get mutationPhase(): Promise<void> {\n    return this.#uow.mutationPhase;\n  }\n\n  getRetrievalOperations() {\n    return this.#uow.getRetrievalOperations();\n  }\n\n  getMutationOperations() {\n    return this.#uow.getMutationOperations();\n  }\n\n  getCreatedIds() {\n    return this.#uow.getCreatedIds();\n  }\n\n  async executeRetrieve(): Promise<TRetrievalResults> {\n    return this.#uow.executeRetrieve() as Promise<TRetrievalResults>;\n  }\n\n  async executeMutations(): Promise<{ success: boolean }> {\n    return this.#uow.executeMutations();\n  }\n\n  restrict(options?: { readyFor?: \"mutation\" | \"retrieval\" | \"none\" }): IUnitOfWork {\n    return this.#uow.restrict(options);\n  }\n\n  signalReadyForRetrieval(): void {\n    this.#uow.signalReadyForRetrieval();\n  }\n\n  signalReadyForMutation(): void {\n    this.#uow.signalReadyForMutation();\n  }\n\n  reset(): void {\n    return this.#uow.reset();\n  }\n\n  forSchema<TOtherSchema extends AnySchema, TOtherHooks extends HooksMap = {}>(\n    schema: TOtherSchema,\n    hooks?: TOtherHooks,\n  ): TypedUnitOfWork<TOtherSchema, [], TRawInput, TOtherHooks> {\n    return this.#uow.forSchema<TOtherSchema, TOtherHooks>(schema, hooks);\n  }\n\n  registerSchema(schema: AnySchema, namespace: string | null): void {\n    this.#uow.registerSchema(schema, namespace);\n  }\n\n  compile<TOutput>(compiler: UOWCompiler<TOutput>): {\n    name?: string;\n    retrievalBatch: TOutput[];\n    mutationBatch: CompiledMutation<TOutput>[];\n  } {\n    return this.#uow.compile(compiler);\n  }\n\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true>[]],\n    TRawInput,\n    THooks\n  >;\n  find<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      >[],\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TTableName,\n  ): TypedUnitOfWork<\n    TSchema,\n    [...TRetrievalResults, SelectResult<TSchema[\"tables\"][TTableName], {}, true> | null],\n    TRawInput,\n    THooks\n  >;\n  findFirst<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn?: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      SelectResult<\n        TSchema[\"tables\"][TTableName],\n        ExtractJoinOut<TBuilderResult>,\n        Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n      > | null,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    if (builderFn) {\n      builderFn(builder);\n    } else {\n      builder.whereIndex(\"primary\");\n    }\n    // Automatically set pageSize to 1 for findFirst\n    builder.pageSize(1);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withSingleResult: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  findWithCursor<TTableName extends keyof TSchema[\"tables\"] & string, const TBuilderResult>(\n    tableName: TTableName,\n    builderFn: (\n      builder: Omit<FindBuilder<TSchema[\"tables\"][TTableName]>, \"build\">,\n    ) => TBuilderResult,\n  ): TypedUnitOfWork<\n    TSchema,\n    [\n      ...TRetrievalResults,\n      CursorResult<\n        SelectResult<\n          TSchema[\"tables\"][TTableName],\n          ExtractJoinOut<TBuilderResult>,\n          Extract<ExtractSelect<TBuilderResult>, SelectClause<TSchema[\"tables\"][TTableName]>>\n        >\n      >,\n    ],\n    TRawInput,\n    THooks\n  > {\n    const table = this.#schema.tables[tableName];\n    if (!table) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const builder = new FindBuilder(tableName, table as TSchema[\"tables\"][TTableName]);\n    builderFn(builder);\n    const { indexName, options, type } = builder.build();\n\n    const operationIndex = this.#uow.addRetrievalOperation({\n      type,\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: table as TSchema[\"tables\"][TTableName],\n      indexName,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      options: options as any,\n      withCursor: true,\n    });\n\n    // Track which operation index belongs to this view\n    this.#operationIndices.push(operationIndex);\n\n    // Safe: return type is correctly specified in the method signature\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return this as any;\n  }\n\n  /**\n   * Generate a new ID for a table without creating a record.\n   * This is useful when you need to reference an ID before actually creating the record,\n   * or when you need to pass the ID to external services.\n   *\n   * @example\n   * ```ts\n   * const userId = uow.generateId(\"users\");\n   * // Use userId in related records or pass to external services\n   * uow.create(\"users\", { id: userId, name: \"John\" });\n   * ```\n   */\n  generateId<TableName extends keyof TSchema[\"tables\"] & string>(tableName: TableName): FragnoId {\n    return generateId(this.#schema, tableName);\n  }\n\n  create<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    values: TableToInsertValues<TSchema[\"tables\"][TableName]>,\n  ): FragnoId {\n    const tableSchema = this.#schema.tables[tableName];\n    if (!tableSchema) {\n      throw new Error(`Table ${tableName} not found in schema`);\n    }\n\n    const idColumn = tableSchema.getIdColumn();\n    let externalId: string;\n    let updatedValues = values;\n\n    // Check if ID value is provided in values\n    const providedIdValue = (values as Record<string, unknown>)[idColumn.name];\n\n    if (providedIdValue !== undefined) {\n      // Extract string from FragnoId or use string directly\n      if (\n        typeof providedIdValue === \"object\" &&\n        providedIdValue !== null &&\n        \"externalId\" in providedIdValue\n      ) {\n        externalId = (providedIdValue as FragnoId).externalId;\n      } else {\n        externalId = providedIdValue as string;\n      }\n    } else {\n      // Generate using the column's default configuration\n      const generated = idColumn.generateDefaultValue();\n      if (generated === undefined) {\n        throw new Error(\n          `No ID value provided and ID column ${idColumn.name} has no default generator`,\n        );\n      }\n      externalId = generated as string;\n\n      // Add the generated ID to values so it's used in the insert\n      updatedValues = {\n        ...values,\n        [idColumn.name]: externalId,\n      } as TableToInsertValues<TSchema[\"tables\"][TableName]>;\n    }\n\n    this.#uow.addMutationOperation({\n      type: \"create\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      values: updatedValues,\n      generatedExternalId: externalId,\n    });\n\n    return FragnoId.fromExternal(externalId, 0);\n  }\n\n  update<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn: (\n      builder: Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\">,\n    ) => Omit<UpdateBuilder<TSchema[\"tables\"][TableName]>, \"build\"> | void,\n  ): void {\n    const builder = new UpdateBuilder<TSchema[\"tables\"][TableName]>(tableName, id);\n    builderFn(builder);\n    const { id: opId, checkVersion, set } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"update\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n      set,\n    });\n  }\n\n  delete<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId | string,\n    builderFn?: (builder: Omit<DeleteBuilder, \"build\">) => Omit<DeleteBuilder, \"build\"> | void,\n  ): void {\n    const builder = new DeleteBuilder(tableName, id);\n    builderFn?.(builder);\n    const { id: opId, checkVersion } = builder.build();\n\n    this.#uow.addMutationOperation({\n      type: \"delete\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id: opId,\n      checkVersion,\n    });\n  }\n\n  /**\n   * Check that a record's version hasn't changed since retrieval.\n   * This is useful for ensuring related records remain unchanged during a transaction.\n   *\n   * @param tableName - The table name\n   * @param id - The FragnoId with version information (string IDs are not allowed)\n   * @throws Error if the ID is a string without version information\n   *\n   * @example\n   * ```ts\n   * // Ensure both accounts haven't changed before creating a transfer\n   * uow.check(\"accounts\", fromAccount.id);\n   * uow.check(\"accounts\", toAccount.id);\n   * uow.create(\"transactions\", { fromAccountId, toAccountId, amount });\n   * ```\n   */\n  check<TableName extends keyof TSchema[\"tables\"] & string>(\n    tableName: TableName,\n    id: FragnoId,\n  ): void {\n    this.#uow.addMutationOperation({\n      type: \"check\",\n      schema: this.#schema,\n      namespace: this.#namespace,\n      table: tableName,\n      id,\n    });\n  }\n\n  get $hooks(): THooks {\n    throw new Error(\"type only\");\n  }\n\n  /**\n   * Trigger a hook to be executed after the transaction commits.\n   */\n  triggerHook<K extends keyof THooks & string>(\n    hookName: K,\n    payload: HookPayload<THooks[K]>,\n    options?: TriggerHookOptions,\n  ): void {\n    this.#uow.triggerHook(hookName, payload, options);\n  }\n\n  getTriggeredHooks(): ReadonlyArray<TriggeredHook> {\n    return this.#uow.getTriggeredHooks();\n  }\n}\n","structuredPatch":[{"oldStart":1534,"oldLines":7,"newStart":1534,"newLines":97,"lines":["     return this.#mutationPhaseDeferred.promise;","   }"," ","+  #compileRetrievalBatch(): unknown[] {","+    const batch: unknown[] = [];","+    for (const op of this.#retrievalOps) {","+      const compiled = this.#compiler.compileRetrievalOperation(op);","+      if (compiled !== null) {","+        this.#config?.onQuery?.(compiled);","+        batch.push(compiled);","+      }","+    }","+    return batch;","+  }","+","+  #compileMutationBatch(): CompiledMutation<unknown>[] {","+    const batch: CompiledMutation<unknown>[] = [];","+    for (const op of this.#mutationOps) {","+      const compiled = this.#compiler.compileMutationOperation(op);","+      if (compiled !== null) {","+        compiled.uowId = this.#idempotencyKey;","+        this.#config?.onQuery?.(compiled);","+        batch.push(compiled);","+      }","+    }","+    return batch;","+  }","+","   /**","+   * Core retrieval logic: compile, execute, decode.","+   * Returns the results and the state to transition to.","+   */","+  async #runRetrievalCore(): Promise<{ results: unknown[]; nextState: UOWState }> {","+    if (this.#retrievalOps.length === 0) {","+      return { results: [], nextState: \"building-mutation\" };","+    }","+","+    const batch = this.#compileRetrievalBatch();","+","+    if (this.#config?.dryRun) {","+      return { results: [], nextState: \"executed\" };","+    }","+","+    const rawResults = await this.#executor.executeRetrievalPhase(batch);","+    const results = this.#decoder.decode(rawResults, this.#retrievalOps);","+    this.#retrievalResults = results;","+    return { results, nextState: \"building-mutation\" };","+  }","+","+  /**","+   * Core mutation logic: compile, execute, store created IDs.","+   * Returns the success status.","+   */","+  async #runMutationCore(): Promise<{ success: boolean }> {","+    const batch = this.#compileMutationBatch();","+","+    if (this.#config?.dryRun) {","+      return { success: true };","+    }","+","+    const result = await this.#executor.executeMutationPhase(batch);","+    if (result.success) {","+      // Mutate array in-place to preserve shared references with child UOWs","+      this.#createdInternalIds.length = 0;","+      this.#createdInternalIds.push(...result.createdInternalIds);","+    }","+    return { success: result.success };","+  }","+","+  /**","+   * Shared cleanup for both phases: runs the instrumentation finalizer,","+   * and if the after-hook never ran during a failure, runs it for observability.","+   */","+  async #runPhaseCleanup(","+    afterPhase: \"afterRetrieve\" | \"afterMutate\",","+    afterRan: boolean,","+    failed: boolean,","+  ): Promise<void> {","+    try {","+      await this.#runInstrumentationFinalizer(afterPhase);","+    } catch {","+      // Ignore finalizer errors when unwinding failures.","+    }","+","+    if (!afterRan && failed) {","+      try {","+        await this.#runInstrumentation(afterPhase);","+      } catch {","+        // Ignore after-hook errors when unwinding failures.","+      }","+    }","+  }","+","+  /**","    * Execute the retrieval phase and transition to mutation phase","    * Returns all results from find operations","    */"]},{"oldStart":1552,"oldLines":7,"newStart":1642,"newLines":6,"lines":["     let afterRan = false;","     let failed = false;","     try {","-      // Wait for all children to signal readiness","       await this.#coordinator.retrievalReadinessPromise;"," ","       const beforeInjection = await this.#runInstrumentation(\"beforeRetrieve\");"]},{"oldStart":1560,"oldLines":75,"newStart":1649,"newLines":23,"lines":["         return this.#handleRetrieveInjection(beforeInjection);","       }"," ","-      if (this.#retrievalOps.length === 0) {","-        this.#state = \"building-mutation\";","-        const emptyResults: unknown[] = [];","-        afterRan = true;","-        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");","-        if (afterInjection) {","-          return this.#handleRetrieveInjection(afterInjection);","-        }","-        this.#retrievalPhaseDeferred.resolve(emptyResults);","-        return emptyResults;","-      }","+      const { results, nextState } = await this.#runRetrievalCore();","+      this.#state = nextState;"," ","-      // Compile retrieval operations using single compiler","-      const retrievalBatch: unknown[] = [];","-      for (const op of this.#retrievalOps) {","-        const compiled = this.#compiler.compileRetrievalOperation(op);","-        if (compiled !== null) {","-          this.#config?.onQuery?.(compiled);","-          retrievalBatch.push(compiled);","-        }","-      }","-","-      if (this.#config?.dryRun) {","-        this.#state = \"executed\";","-        const emptyResults: unknown[] = [];","-        afterRan = true;","-        const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");","-        if (afterInjection) {","-          return this.#handleRetrieveInjection(afterInjection);","-        }","-        this.#retrievalPhaseDeferred.resolve(emptyResults);","-        return emptyResults;","-      }","-","-      const rawResults = await this.#executor.executeRetrievalPhase(retrievalBatch);","-","-      const results = this.#decoder.decode(rawResults, this.#retrievalOps);","-","-      // Store results and transition to mutation phase","-      this.#retrievalResults = results;","-      this.#state = \"building-mutation\";","-","       afterRan = true;","       const afterInjection = await this.#runInstrumentation(\"afterRetrieve\");","       if (afterInjection) {","         return this.#handleRetrieveInjection(afterInjection);","       }"," ","-      this.#retrievalPhaseDeferred.resolve(this.#retrievalResults);","-","-      return this.#retrievalResults;","+      this.#retrievalPhaseDeferred.resolve(results);","+      return results;","     } catch (error) {","       this.#retrievalError = error instanceof Error ? error : new Error(String(error));","       failed = true;","       throw error;","     } finally {","-      try {","-        await this.#runInstrumentationFinalizer(\"afterRetrieve\");","-      } catch {","-        // Ignore finalizer errors when unwinding failures.","-      }","-","-      if (!afterRan && failed) {","-        try {","-          await this.#runInstrumentation(\"afterRetrieve\");","-        } catch {","-          // Ignore after-retrieve hook errors when unwinding failures.","-        }","-      }","+      await this.#runPhaseCleanup(\"afterRetrieve\", afterRan, failed);","     }","   }"," "]},{"oldStart":1648,"oldLines":7,"newStart":1685,"newLines":6,"lines":["     let afterRan = false;","     let failed = false;","     try {","-      // Wait for all children to signal readiness","       await this.#coordinator.mutationReadinessPromise;"," ","       const beforeInjection = await this.#runInstrumentation(\"beforeMutate\");"]},{"oldStart":1656,"oldLines":70,"newStart":1692,"newLines":23,"lines":["         return this.#handleMutationInjection(beforeInjection);","       }"," ","-      // Compile mutation operations using single compiler","-      const mutationBatch: CompiledMutation<unknown>[] = [];","-      for (const op of this.#mutationOps) {","-        const compiled = this.#compiler.compileMutationOperation(op);","-        if (compiled !== null) {","-          compiled.uowId = this.#idempotencyKey;","-          this.#config?.onQuery?.(compiled);","-          mutationBatch.push(compiled);","-        }","-      }","-","-      if (this.#config?.dryRun) {","-        this.#state = \"executed\";","-        afterRan = true;","-        const afterInjection = await this.#runInstrumentation(\"afterMutate\");","-        if (afterInjection) {","-          return this.#handleMutationInjection(afterInjection);","-        }","-        this.#mutationPhaseDeferred.resolve();","-        return {","-          success: true,","-        };","-      }","-","-      // Execute mutation phase","-      const result = await this.#executor.executeMutationPhase(mutationBatch);","+      const result = await this.#runMutationCore();","       this.#state = \"executed\";"," ","-      if (result.success) {","-        // Mutate array in-place to preserve shared references with child UOWs","-        this.#createdInternalIds.length = 0;","-        this.#createdInternalIds.push(...result.createdInternalIds);","-      }","-","       afterRan = true;","       const afterInjection = await this.#runInstrumentation(\"afterMutate\");","       if (afterInjection) {","         return this.#handleMutationInjection(afterInjection);","       }"," ","-      // Resolve the mutation phase promise to unblock waiting service methods","       this.#mutationPhaseDeferred.resolve();","-","-      return {","-        success: result.success,","-      };","+      return result;","     } catch (error) {","       this.#mutationError = error instanceof Error ? error : new Error(String(error));","       failed = true;","       throw error;","     } finally {","-      try {","-        await this.#runInstrumentationFinalizer(\"afterMutate\");","-      } catch {","-        // Ignore finalizer errors when unwinding failures.","-      }","-","-      if (!afterRan && failed) {","-        try {","-          await this.#runInstrumentation(\"afterMutate\");","-        } catch {","-          // Ignore after-mutate hook errors when unwinding failures.","-        }","-      }","+      await this.#runPhaseCleanup(\"afterMutate\", afterRan, failed);","     }","   }"," "]}],"userModified":false,"replaceAll":false},"sourceToolAssistantUUID":"3e7d9303-0d4f-4afa-82b2-328114f0a062"}
{"parentUuid":"e4d3ffe8-1f67-4bc2-a7d5-16aa394a1c25","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01X9Np1W1J71CAkR2NgjuMg1","type":"message","role":"assistant","content":[{"type":"text","text":"Tasks 3 and 4 are now both done since I refactored both methods together. Let me update the tasks and run the tests:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3725,"cache_read_input_tokens":89571,"cache_creation":{"ephemeral_5m_input_tokens":3725,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY447LswW2huSo1gBmJ6N","type":"assistant","uuid":"aef4f979-058e-457d-b9f8-2b6e0f08ebf3","timestamp":"2026-02-12T10:56:48.416Z"}
{"parentUuid":"aef4f979-058e-457d-b9f8-2b6e0f08ebf3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01X9Np1W1J71CAkR2NgjuMg1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01NXP3BoLxweXd6Kdyy7F9nq","name":"TaskUpdate","input":{"taskId":"3","status":"completed"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3725,"cache_read_input_tokens":89571,"cache_creation":{"ephemeral_5m_input_tokens":3725,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY447LswW2huSo1gBmJ6N","type":"assistant","uuid":"c8619bbd-c0ac-4f55-8066-e45d33f671bf","timestamp":"2026-02-12T10:56:48.926Z"}
{"parentUuid":"c8619bbd-c0ac-4f55-8066-e45d33f671bf","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NXP3BoLxweXd6Kdyy7F9nq","type":"tool_result","content":"Updated task #3 status"}]},"uuid":"3b4cc1a6-02f0-409a-ae47-a8d2fe403b38","timestamp":"2026-02-12T10:56:48.930Z","toolUseResult":{"success":true,"taskId":"3","updatedFields":["status"],"statusChange":{"from":"in_progress","to":"completed"}},"sourceToolAssistantUUID":"c8619bbd-c0ac-4f55-8066-e45d33f671bf"}
{"parentUuid":"3b4cc1a6-02f0-409a-ae47-a8d2fe403b38","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01X9Np1W1J71CAkR2NgjuMg1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01NywWcsEn1ZwhHeajimaQAJ","name":"TaskUpdate","input":{"taskId":"4","status":"completed"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3725,"cache_read_input_tokens":89571,"cache_creation":{"ephemeral_5m_input_tokens":3725,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY447LswW2huSo1gBmJ6N","type":"assistant","uuid":"448c5d55-3507-4339-872f-a4d40c9ba567","timestamp":"2026-02-12T10:56:49.317Z"}
{"parentUuid":"448c5d55-3507-4339-872f-a4d40c9ba567","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NywWcsEn1ZwhHeajimaQAJ","type":"tool_result","content":"Updated task #4 status"}]},"uuid":"327f25f7-9c6f-4055-bad7-97ae6b594f06","timestamp":"2026-02-12T10:56:49.320Z","toolUseResult":{"success":true,"taskId":"4","updatedFields":["status"],"statusChange":{"from":"pending","to":"completed"}},"sourceToolAssistantUUID":"448c5d55-3507-4339-872f-a4d40c9ba567"}
{"parentUuid":"327f25f7-9c6f-4055-bad7-97ae6b594f06","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01X9Np1W1J71CAkR2NgjuMg1","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01F8kx6RuQ9CbYghMSw2B9id","name":"TaskUpdate","input":{"taskId":"5","status":"in_progress"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":3725,"cache_read_input_tokens":89571,"cache_creation":{"ephemeral_5m_input_tokens":3725,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY447LswW2huSo1gBmJ6N","type":"assistant","uuid":"a6cd5d18-4dde-447a-9a37-fb0d251d4e34","timestamp":"2026-02-12T10:56:49.704Z"}
{"parentUuid":"a6cd5d18-4dde-447a-9a37-fb0d251d4e34","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01F8kx6RuQ9CbYghMSw2B9id","type":"tool_result","content":"Updated task #5 status"}]},"uuid":"79c2d1da-74bd-4743-9075-b0678e6bfc07","timestamp":"2026-02-12T10:56:49.706Z","toolUseResult":{"success":true,"taskId":"5","updatedFields":["status"],"statusChange":{"from":"pending","to":"in_progress"}},"sourceToolAssistantUUID":"a6cd5d18-4dde-447a-9a37-fb0d251d4e34"}
{"parentUuid":"79c2d1da-74bd-4743-9075-b0678e6bfc07","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01RsABCVSFrt6TKf1QsJ9XoT","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_013xUxTyWi9fxwgSYjXnoNkW","name":"Bash","input":{"command":"pnpm exec turbo types:check --filter=@fragno-dev/db --output-logs=errors-only 2>&1","description":"Type-check fragno-db package","timeout":120000}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":313,"cache_read_input_tokens":93296,"cache_creation":{"ephemeral_5m_input_tokens":313,"ephemeral_1h_input_tokens":0},"output_tokens":26,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY447gBo1oyauvZ1EswHg","type":"assistant","uuid":"2a596532-753a-4232-aa26-789e6d961307","timestamp":"2026-02-12T10:56:53.494Z"}
{"parentUuid":"2a596532-753a-4232-aa26-789e6d961307","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":2,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_013xUxTyWi9fxwgSYjXnoNkW","uuid":"0462a4ab-a3ce-4e30-9c17-be1b199c66ab","timestamp":"2026-02-12T10:56:55.503Z"}
{"parentUuid":"0462a4ab-a3ce-4e30-9c17-be1b199c66ab","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":3,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-1","parentToolUseID":"toolu_013xUxTyWi9fxwgSYjXnoNkW","uuid":"9ab769ae-bc79-4f6c-b472-252b0de2deb1","timestamp":"2026-02-12T10:56:56.503Z"}
{"parentUuid":"9ab769ae-bc79-4f6c-b472-252b0de2deb1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":4,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-2","parentToolUseID":"toolu_013xUxTyWi9fxwgSYjXnoNkW","uuid":"f2e8ab22-46c4-44ae-b42b-a66b975e450c","timestamp":"2026-02-12T10:56:57.504Z"}
{"parentUuid":"2a596532-753a-4232-aa26-789e6d961307","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_013xUxTyWi9fxwgSYjXnoNkW","type":"tool_result","content":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled\n\n Tasks:    2 successful, 2 total\nCached:    1 cached, 2 total\n  Time:    4.335s","is_error":false}]},"uuid":"a86c27f0-815d-4785-9a92-64ba634982c7","timestamp":"2026-02-12T10:56:58.425Z","toolUseResult":{"stdout":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running types:check in 1 packages\n• Remote caching disabled\n\n Tasks:    2 successful, 2 total\nCached:    1 cached, 2 total\n  Time:    4.335s","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"2a596532-753a-4232-aa26-789e6d961307"}
{"parentUuid":"a86c27f0-815d-4785-9a92-64ba634982c7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01GAvnj5VfzehuNkFLBHyA7v","type":"message","role":"assistant","content":[{"type":"text","text":"Types check passes. Now run the tests:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":211,"cache_read_input_tokens":93609,"cache_creation":{"ephemeral_5m_input_tokens":211,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY448KBGsU2g7cL4kVTGB","type":"assistant","uuid":"6d6e5751-c791-42e3-96fb-fef470f62858","timestamp":"2026-02-12T10:57:01.073Z"}
{"parentUuid":"6d6e5751-c791-42e3-96fb-fef470f62858","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01GAvnj5VfzehuNkFLBHyA7v","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_014FBtNjFp9YG5XQvkBfw8cp","name":"Bash","input":{"command":"pnpm exec turbo test --filter=@fragno-dev/db --output-logs=errors-only 2>&1","description":"Run tests for fragno-db","timeout":120000}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":211,"cache_read_input_tokens":93609,"cache_creation":{"ephemeral_5m_input_tokens":211,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY448KBGsU2g7cL4kVTGB","type":"assistant","uuid":"89d53258-6fd4-440a-aa4a-3745ec1ef31d","timestamp":"2026-02-12T10:57:01.785Z"}
{"parentUuid":"89d53258-6fd4-440a-aa4a-3745ec1ef31d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":2,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"b6315c2f-7b0d-4b0c-a7e4-6d3df4ebea31","timestamp":"2026-02-12T10:57:03.793Z"}
{"parentUuid":"b6315c2f-7b0d-4b0c-a7e4-6d3df4ebea31","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":3,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-1","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"6e5f4563-70b6-454c-b8f4-6f0bd22003d1","timestamp":"2026-02-12T10:57:04.795Z"}
{"parentUuid":"6e5f4563-70b6-454c-b8f4-6f0bd22003d1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":4,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-2","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"7fdce8de-b2bc-426e-97a8-67e3a31062e3","timestamp":"2026-02-12T10:57:05.796Z"}
{"parentUuid":"7fdce8de-b2bc-426e-97a8-67e3a31062e3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":5,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-3","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"0b0ceda5-9065-4bfa-a641-7ccff07832d6","timestamp":"2026-02-12T10:57:06.798Z"}
{"parentUuid":"0b0ceda5-9065-4bfa-a641-7ccff07832d6","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":6,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-4","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"bbe3ac26-87de-47eb-be18-cf2d716534c3","timestamp":"2026-02-12T10:57:07.801Z"}
{"parentUuid":"bbe3ac26-87de-47eb-be18-cf2d716534c3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":7,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-5","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"2ea76a62-7466-45f6-afa9-8ee559cc82b8","timestamp":"2026-02-12T10:57:08.802Z"}
{"parentUuid":"2ea76a62-7466-45f6-afa9-8ee559cc82b8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":8,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-6","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"74e7b12f-28c0-40a8-9aff-a476b151f291","timestamp":"2026-02-12T10:57:09.808Z"}
{"parentUuid":"74e7b12f-28c0-40a8-9aff-a476b151f291","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":9,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-7","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"dc98f0bb-e5fa-47f3-9881-6efe132ab727","timestamp":"2026-02-12T10:57:10.816Z"}
{"parentUuid":"dc98f0bb-e5fa-47f3-9881-6efe132ab727","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":10,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-8","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"abbc6600-f4f6-4f6c-8326-9cf5975c681f","timestamp":"2026-02-12T10:57:11.821Z"}
{"parentUuid":"abbc6600-f4f6-4f6c-8326-9cf5975c681f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":11,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-9","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"d3211e94-5a21-45bd-be26-72881bf24110","timestamp":"2026-02-12T10:57:12.821Z"}
{"parentUuid":"d3211e94-5a21-45bd-be26-72881bf24110","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled","elapsedTimeSeconds":12,"totalLines":4,"timeoutMs":120000},"toolUseID":"bash-progress-10","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"ed03bbc6-50f8-4792-a8bf-a4b95e54f432","timestamp":"2026-02-12T10:57:13.824Z"}
{"parentUuid":"ed03bbc6-50f8-4792-a8bf-a4b95e54f432","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• Running test in 1 packages\n• Remote caching disabled\n Tasks:    3 successful, 3 total\nCached:    1 cached, 3 total\n  Time:    12.659s ","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled\n Tasks:    3 successful, 3 total\nCached:    1 cached, 3 total\n  Time:    12.659s ","elapsedTimeSeconds":13,"totalLines":7,"timeoutMs":120000},"toolUseID":"bash-progress-11","parentToolUseID":"toolu_014FBtNjFp9YG5XQvkBfw8cp","uuid":"daf8aa08-b00b-42b5-b1d8-adbd860219bc","timestamp":"2026-02-12T10:57:14.825Z"}
{"parentUuid":"89d53258-6fd4-440a-aa4a-3745ec1ef31d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_014FBtNjFp9YG5XQvkBfw8cp","type":"tool_result","content":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled\n\n Tasks:    3 successful, 3 total\nCached:    1 cached, 3 total\n  Time:    12.659s","is_error":false}]},"uuid":"691485c4-56cd-4ab4-b7bd-ce8ca56cbec3","timestamp":"2026-02-12T10:57:15.081Z","toolUseResult":{"stdout":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/db\n• Running test in 1 packages\n• Remote caching disabled\n\n Tasks:    3 successful, 3 total\nCached:    1 cached, 3 total\n  Time:    12.659s","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"89d53258-6fd4-440a-aa4a-3745ec1ef31d"}
{"parentUuid":"691485c4-56cd-4ab4-b7bd-ce8ca56cbec3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Uy5fbpKdRwmp5ewrYMXmAF","type":"message","role":"assistant","content":[{"type":"text","text":"All tests pass and type-check passes. Let me also check packages that depend on `@fragno-dev/db`:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":216,"cache_read_input_tokens":93820,"cache_creation":{"ephemeral_5m_input_tokens":216,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY449YNJpLPHW8EhfXLX2","type":"assistant","uuid":"29f252d0-0b42-4052-844c-7b404c5a2eed","timestamp":"2026-02-12T10:57:18.030Z"}
{"parentUuid":"29f252d0-0b42-4052-844c-7b404c5a2eed","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01Uy5fbpKdRwmp5ewrYMXmAF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01N3KFhxqSRwX132PGdsUbHx","name":"Bash","input":{"command":"pnpm exec turbo types:check --filter=...@fragno-dev/db --output-logs=errors-only 2>&1","description":"Type-check fragno-db and all dependents","timeout":180000}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":216,"cache_read_input_tokens":93820,"cache_creation":{"ephemeral_5m_input_tokens":216,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY449YNJpLPHW8EhfXLX2","type":"assistant","uuid":"9c84ab95-7ea8-4179-9799-3f0cfbdc3388","timestamp":"2026-02-12T10:57:19.018Z"}
{"parentUuid":"9c84ab95-7ea8-4179-9799-3f0cfbdc3388","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":1,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"6539d65f-ba01-48ab-92f5-97ead82b7c5e","timestamp":"2026-02-12T10:57:21.025Z"}
{"parentUuid":"6539d65f-ba01-48ab-92f5-97ead82b7c5e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":2,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-1","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"741efe44-6399-4ea2-aeac-5014bd46b20a","timestamp":"2026-02-12T10:57:22.025Z"}
{"parentUuid":"741efe44-6399-4ea2-aeac-5014bd46b20a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":4,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-2","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"a61d5247-94c8-44f5-a3eb-a56691942f00","timestamp":"2026-02-12T10:57:23.028Z"}
{"parentUuid":"a61d5247-94c8-44f5-a3eb-a56691942f00","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":5,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-3","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"268e1861-a05e-43bf-8026-8ac3b84ac73e","timestamp":"2026-02-12T10:57:24.036Z"}
{"parentUuid":"268e1861-a05e-43bf-8026-8ac3b84ac73e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":6,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-4","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"789772f6-9dff-4fd8-adf7-3e1cff8c5bfa","timestamp":"2026-02-12T10:57:25.054Z"}
{"parentUuid":"789772f6-9dff-4fd8-adf7-3e1cff8c5bfa","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":7,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-5","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"d9c30574-a950-442d-a358-329fa30239bc","timestamp":"2026-02-12T10:57:26.147Z"}
{"parentUuid":"d9c30574-a950-442d-a358-329fa30239bc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":8,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-6","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"fbfececf-63ac-4548-b5b3-ed53b92ba3e3","timestamp":"2026-02-12T10:57:27.154Z"}
{"parentUuid":"fbfececf-63ac-4548-b5b3-ed53b92ba3e3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":9,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-7","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"53a3b21f-ab2c-4344-bd46-0c8392802f5f","timestamp":"2026-02-12T10:57:28.164Z"}
{"parentUuid":"53a3b21f-ab2c-4344-bd46-0c8392802f5f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":10,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-8","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"ea78ef65-98c1-4053-9e04-0cbbaa2bbc2a","timestamp":"2026-02-12T10:57:29.200Z"}
{"parentUuid":"ea78ef65-98c1-4053-9e04-0cbbaa2bbc2a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":11,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-9","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"e7d8b42c-8d55-4944-82b2-48241d1cea78","timestamp":"2026-02-12T10:57:30.217Z"}
{"parentUuid":"e7d8b42c-8d55-4944-82b2-48241d1cea78","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":12,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-10","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"bb53c684-6eb1-4367-b5bb-a939cdc28ae0","timestamp":"2026-02-12T10:57:31.243Z"}
{"parentUuid":"bb53c684-6eb1-4367-b5bb-a939cdc28ae0","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":13,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-11","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"28d7a38c-2952-4480-9afd-158ae72659ed","timestamp":"2026-02-12T10:57:32.338Z"}
{"parentUuid":"28d7a38c-2952-4480-9afd-158ae72659ed","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":14,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-12","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"a3e96b91-9ae5-46ce-bd2e-a7f79e4a81f3","timestamp":"2026-02-12T10:57:33.481Z"}
{"parentUuid":"a3e96b91-9ae5-46ce-bd2e-a7f79e4a81f3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":15,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-13","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"bbfcf6d2-a0fd-44e4-ae8c-2711feb5bd0c","timestamp":"2026-02-12T10:57:34.485Z"}
{"parentUuid":"bbfcf6d2-a0fd-44e4-ae8c-2711feb5bd0c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":16,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-14","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"70b6116e-a180-48ca-88f7-02577c7bc82c","timestamp":"2026-02-12T10:57:35.487Z"}
{"parentUuid":"70b6116e-a180-48ca-88f7-02577c7bc82c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":17,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-15","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"17f24f14-12e0-4fd9-b0bd-c908c816a702","timestamp":"2026-02-12T10:57:36.497Z"}
{"parentUuid":"17f24f14-12e0-4fd9-b0bd-c908c816a702","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":18,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-16","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"6809d34b-433d-4aad-8dee-e3adfb7421a5","timestamp":"2026-02-12T10:57:37.505Z"}
{"parentUuid":"6809d34b-433d-4aad-8dee-e3adfb7421a5","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":19,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-17","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"baa6e9e4-c2d8-4261-afc1-a422dc262cc9","timestamp":"2026-02-12T10:57:38.524Z"}
{"parentUuid":"baa6e9e4-c2d8-4261-afc1-a422dc262cc9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":20,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-18","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"e4623e1c-869b-4a5c-99b3-f2c5d1f49df3","timestamp":"2026-02-12T10:57:39.528Z"}
{"parentUuid":"e4623e1c-869b-4a5c-99b3-f2c5d1f49df3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":21,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-19","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"2eb7f9b0-7083-4dda-ad5f-54fcfd7b5621","timestamp":"2026-02-12T10:57:40.533Z"}
{"parentUuid":"2eb7f9b0-7083-4dda-ad5f-54fcfd7b5621","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":22,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-20","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"895b0943-b9f9-4547-9c46-9f4d4edad4dc","timestamp":"2026-02-12T10:57:41.569Z"}
{"parentUuid":"895b0943-b9f9-4547-9c46-9f4d4edad4dc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":23,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-21","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"bf4deb5a-6d31-47c5-9812-64f2e5c8fc9d","timestamp":"2026-02-12T10:57:42.575Z"}
{"parentUuid":"bf4deb5a-6d31-47c5-9812-64f2e5c8fc9d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":24,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-22","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"52fc3894-fda9-4489-8cba-74b6161ee495","timestamp":"2026-02-12T10:57:43.603Z"}
{"parentUuid":"52fc3894-fda9-4489-8cba-74b6161ee495","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":25,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-23","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"1aad5a86-3da2-490e-b182-3750efc10c01","timestamp":"2026-02-12T10:57:44.609Z"}
{"parentUuid":"1aad5a86-3da2-490e-b182-3750efc10c01","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":26,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-24","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"42853c08-6bde-4527-b8ba-fc62ed2d3ca2","timestamp":"2026-02-12T10:57:45.625Z"}
{"parentUuid":"42853c08-6bde-4527-b8ba-fc62ed2d3ca2","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":27,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-25","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"fd52794d-f880-420b-bb14-283675190d5c","timestamp":"2026-02-12T10:57:46.646Z"}
{"parentUuid":"fd52794d-f880-420b-bb14-283675190d5c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":28,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-26","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"92700325-40ba-45da-8f67-a3a37c4d48ef","timestamp":"2026-02-12T10:57:47.652Z"}
{"parentUuid":"92700325-40ba-45da-8f67-a3a37c4d48ef","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":29,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-27","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"cea39a2e-457d-4b20-be3a-8e9a68911051","timestamp":"2026-02-12T10:57:48.658Z"}
{"parentUuid":"cea39a2e-457d-4b20-be3a-8e9a68911051","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":30,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-28","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"f4fd160f-355a-47fb-8482-9abdb01e3b9a","timestamp":"2026-02-12T10:57:49.668Z"}
{"parentUuid":"f4fd160f-355a-47fb-8482-9abdb01e3b9a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":31,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-29","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"1436199b-5cdf-42bf-9867-8c6887bf4a12","timestamp":"2026-02-12T10:57:50.673Z"}
{"parentUuid":"1436199b-5cdf-42bf-9867-8c6887bf4a12","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":32,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-30","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"fc7b6664-eb67-4946-a142-35b5970ddb5a","timestamp":"2026-02-12T10:57:51.676Z"}
{"parentUuid":"fc7b6664-eb67-4946-a142-35b5970ddb5a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":33,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-31","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"06f895ce-aaee-480f-a00c-2150ec617d95","timestamp":"2026-02-12T10:57:52.681Z"}
{"parentUuid":"06f895ce-aaee-480f-a00c-2150ec617d95","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":34,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-32","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"3f665f7b-7406-4e0f-a5c2-3b2c405334ce","timestamp":"2026-02-12T10:57:53.682Z"}
{"parentUuid":"3f665f7b-7406-4e0f-a5c2-3b2c405334ce","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":35,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-33","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"0e6bc503-a915-4105-b80e-737751414a3b","timestamp":"2026-02-12T10:57:54.683Z"}
{"parentUuid":"0e6bc503-a915-4105-b80e-737751414a3b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":36,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-34","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"489cd4e9-d1e6-4ea8-aeee-184cdd0fa172","timestamp":"2026-02-12T10:57:55.684Z"}
{"parentUuid":"489cd4e9-d1e6-4ea8-aeee-184cdd0fa172","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":37,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-35","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"6f106ba8-ade1-4902-a217-29b671b51603","timestamp":"2026-02-12T10:57:56.684Z"}
{"parentUuid":"6f106ba8-ade1-4902-a217-29b671b51603","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":38,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-36","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"f25e597f-f376-4ce8-bc47-eb437d464312","timestamp":"2026-02-12T10:57:57.688Z"}
{"parentUuid":"f25e597f-f376-4ce8-bc47-eb437d464312","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":39,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-37","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"60bf16ae-e831-41d9-8148-3da471f3a286","timestamp":"2026-02-12T10:57:58.689Z"}
{"parentUuid":"60bf16ae-e831-41d9-8148-3da471f3a286","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":40,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-38","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"eaf7a92e-f7fc-46e1-bdf7-f9e9873f2b32","timestamp":"2026-02-12T10:57:59.692Z"}
{"parentUuid":"eaf7a92e-f7fc-46e1-bdf7-f9e9873f2b32","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":41,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-39","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"27f43fa8-8285-43b4-b8d0-cae63c592f14","timestamp":"2026-02-12T10:58:00.693Z"}
{"parentUuid":"27f43fa8-8285-43b4-b8d0-cae63c592f14","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":42,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-40","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"833065dd-1a14-4a86-8df9-66b4ca7a3914","timestamp":"2026-02-12T10:58:01.693Z"}
{"parentUuid":"833065dd-1a14-4a86-8df9-66b4ca7a3914","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":43,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-41","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"777df5bd-2e80-4623-9cbd-1f957597fcfc","timestamp":"2026-02-12T10:58:02.697Z"}
{"parentUuid":"777df5bd-2e80-4623-9cbd-1f957597fcfc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":44,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-42","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"ec3e7969-3ed1-415b-b2f2-249dcceedf50","timestamp":"2026-02-12T10:58:03.697Z"}
{"parentUuid":"ec3e7969-3ed1-415b-b2f2-249dcceedf50","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":45,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-43","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"a875d371-3cbd-4a38-86b1-864393976418","timestamp":"2026-02-12T10:58:04.728Z"}
{"parentUuid":"a875d371-3cbd-4a38-86b1-864393976418","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":46,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-44","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"ce3b8958-9b6b-4141-bf0f-618cbe77e4ec","timestamp":"2026-02-12T10:58:05.728Z"}
{"parentUuid":"ce3b8958-9b6b-4141-bf0f-618cbe77e4ec","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":47,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-45","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"c3675d02-95e5-4621-a870-1be372ef13d4","timestamp":"2026-02-12T10:58:06.730Z"}
{"parentUuid":"c3675d02-95e5-4621-a870-1be372ef13d4","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":48,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-46","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"2aca32f2-3e16-4fed-bdd8-3fcc5fc94288","timestamp":"2026-02-12T10:58:07.730Z"}
{"parentUuid":"2aca32f2-3e16-4fed-bdd8-3fcc5fc94288","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":49,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-47","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"d9e49fd6-1971-4988-9387-40a5d352689c","timestamp":"2026-02-12T10:58:08.732Z"}
{"parentUuid":"d9e49fd6-1971-4988-9387-40a5d352689c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","fullOutput":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled","elapsedTimeSeconds":50,"totalLines":4,"timeoutMs":180000},"toolUseID":"bash-progress-48","parentToolUseID":"toolu_01N3KFhxqSRwX132PGdsUbHx","uuid":"f8540d82-39c6-4a49-bf2a-6824e91848c9","timestamp":"2026-02-12T10:58:09.733Z"}
{"parentUuid":"9c84ab95-7ea8-4179-9799-3f0cfbdc3388","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01N3KFhxqSRwX132PGdsUbHx","type":"tool_result","content":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled\n\n Tasks:    43 successful, 43 total\nCached:    9 cached, 43 total\n  Time:    50.92s","is_error":false}]},"uuid":"abb446e3-b99d-474f-9502-84d43b47ae75","timestamp":"2026-02-12T10:58:10.684Z","toolUseResult":{"stdout":"• turbo 2.8.3\n• Packages in scope: @fragno-dev/auth, @fragno-dev/cli, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-db-usage-drizzle, @fragno-dev/fragno-db-usage-kysely, @fragno-dev/fragno-db-usage-prisma, @fragno-dev/fragno-wf, @fragno-dev/lofi, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/upload, @fragno-dev/workflows, @fragno-example/react-spa-local-first, @fragno-example/stripe, @fragno-example/upload-example, @fragno-example/wf-example\n• Running types:check in 22 packages\n• Remote caching disabled\n\n Tasks:    43 successful, 43 total\nCached:    9 cached, 43 total\n  Time:    50.92s","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"9c84ab95-7ea8-4179-9799-3f0cfbdc3388"}
{"parentUuid":"abb446e3-b99d-474f-9502-84d43b47ae75","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_018n582GBXgsh7EKL4RhzYEz","type":"message","role":"assistant","content":[{"type":"text","text":"All 43 type-check tasks pass across the whole dependency tree."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":467,"cache_read_input_tokens":94036,"cache_creation":{"ephemeral_5m_input_tokens":467,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY44De6TBehWRT1Su3iiw","type":"assistant","uuid":"15385096-d1cc-4230-a161-d11069df8596","timestamp":"2026-02-12T10:58:13.226Z"}
{"parentUuid":"15385096-d1cc-4230-a161-d11069df8596","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_018n582GBXgsh7EKL4RhzYEz","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01KAurgRYL8bLzqGuU2FnNVa","name":"TaskUpdate","input":{"taskId":"5","status":"completed"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":467,"cache_read_input_tokens":94036,"cache_creation":{"ephemeral_5m_input_tokens":467,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY44De6TBehWRT1Su3iiw","type":"assistant","uuid":"81d14fbc-35a1-4c19-8cdc-5ad4497194d7","timestamp":"2026-02-12T10:58:13.561Z"}
{"parentUuid":"81d14fbc-35a1-4c19-8cdc-5ad4497194d7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01KAurgRYL8bLzqGuU2FnNVa","type":"tool_result","content":"Updated task #5 status"}]},"uuid":"94cefbe0-1ca7-44fa-afdd-a41b6967e838","timestamp":"2026-02-12T10:58:13.564Z","toolUseResult":{"success":true,"taskId":"5","updatedFields":["status"],"statusChange":{"from":"in_progress","to":"completed"}},"sourceToolAssistantUUID":"81d14fbc-35a1-4c19-8cdc-5ad4497194d7"}
{"parentUuid":"94cefbe0-1ca7-44fa-afdd-a41b6967e838","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_014t3HHK3JqKdFt8qHZ3CjVF","type":"message","role":"assistant","content":[{"type":"text","text":"Now let me log progress and commit:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":104,"cache_read_input_tokens":94503,"cache_creation":{"ephemeral_5m_input_tokens":104,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY44DrkDRzjhpxsdTp86D","type":"assistant","uuid":"3d019f8a-2c3d-49f0-becd-3064ce0a2f11","timestamp":"2026-02-12T10:58:16.487Z"}
{"parentUuid":"3d019f8a-2c3d-49f0-becd-3064ce0a2f11","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_014t3HHK3JqKdFt8qHZ3CjVF","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01JSJNtzRR96fBrqpbwrJQAE","name":"Bash","input":{"command":"fp comment FRAG-chfolkfc \"Completed all refactoring:\n1. Introduced UnitOfWorkInit parameter object (6 args → 1)\n2. Decomposed buildJoinIndexed conditionals into resolveJoinCondition/resolveJoinOrderBy helpers (3 bumps → 0)\n3. Extracted executeRetrieve core into #runRetrievalCore, #compileRetrievalBatch, #runPhaseCleanup\n4. Extracted executeMutations core into #runMutationCore, #compileMutationBatch (shared #runPhaseCleanup)\nAll tests pass, all type-checks pass across 22 dependent packages.\"","description":"Log progress on issue"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":104,"cache_read_input_tokens":94503,"output_tokens":243,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":104},"inference_geo":"","iterations":[]}},"requestId":"req_011CY44DrkDRzjhpxsdTp86D","type":"assistant","uuid":"a8577de3-1dee-48f4-8571-f1277d8b805a","timestamp":"2026-02-12T10:58:20.972Z"}
{"parentUuid":"a8577de3-1dee-48f4-8571-f1277d8b805a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01JSJNtzRR96fBrqpbwrJQAE","type":"tool_result","content":"Added comment to chfolkfc","is_error":false}]},"uuid":"d2bdf7d5-3e40-4742-9f32-dfe61937f0bb","timestamp":"2026-02-12T10:58:21.305Z","toolUseResult":{"stdout":"Added comment to chfolkfc","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"a8577de3-1dee-48f4-8571-f1277d8b805a"}
{"parentUuid":"d2bdf7d5-3e40-4742-9f32-dfe61937f0bb","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01JobfWWy1UQymmC5ERPRxtk","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Kpc9cMKRtCW2QVxNK188WT","name":"Bash","input":{"command":"git diff --stat","description":"Show changed files summary"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":262,"cache_read_input_tokens":94607,"output_tokens":87,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":262},"inference_geo":"","iterations":[]}},"requestId":"req_011CY44ERVCp1m932TBYsyVx","type":"assistant","uuid":"afdab42a-c436-4b1b-b314-140eb3d60c4b","timestamp":"2026-02-12T10:58:24.393Z"}
{"parentUuid":"afdab42a-c436-4b1b-b314-140eb3d60c4b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Kpc9cMKRtCW2QVxNK188WT","type":"tool_result","content":" CLAUDE.md                                          |   2 +\n .../src/adapters/in-memory/in-memory-adapter.ts    |  10 +-\n .../in-memory/in-memory-uow.mutations.test.ts      |   6 +-\n .../in-memory/in-memory-uow.retrieval.test.ts      |   2 +-\n .../adapters/shared/from-unit-of-work-compiler.ts  |   8 +-\n packages/fragno-db/src/mod.ts                      |   1 +\n .../query/unit-of-work/unit-of-work-types.test.ts  |   2 +-\n .../src/query/unit-of-work/unit-of-work.test.ts    |  57 ++--\n .../src/query/unit-of-work/unit-of-work.ts         | 336 ++++++++++-----------\n 9 files changed, 221 insertions(+), 203 deletions(-)","is_error":false}]},"uuid":"a10f2bc2-1089-4cfb-94e9-35342e30b265","timestamp":"2026-02-12T10:58:24.479Z","toolUseResult":{"stdout":" CLAUDE.md                                          |   2 +\n .../src/adapters/in-memory/in-memory-adapter.ts    |  10 +-\n .../in-memory/in-memory-uow.mutations.test.ts      |   6 +-\n .../in-memory/in-memory-uow.retrieval.test.ts      |   2 +-\n .../adapters/shared/from-unit-of-work-compiler.ts  |   8 +-\n packages/fragno-db/src/mod.ts                      |   1 +\n .../query/unit-of-work/unit-of-work-types.test.ts  |   2 +-\n .../src/query/unit-of-work/unit-of-work.test.ts    |  57 ++--\n .../src/query/unit-of-work/unit-of-work.ts         | 336 ++++++++++-----------\n 9 files changed, 221 insertions(+), 203 deletions(-)","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"afdab42a-c436-4b1b-b314-140eb3d60c4b"}
{"parentUuid":"a10f2bc2-1089-4cfb-94e9-35342e30b265","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_012M3SN66f6cq2y48ESqgbPv","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01NFabwWrjcUJMuWKm4NaaSY","name":"Bash","input":{"command":"git add packages/fragno-db/src/query/unit-of-work/unit-of-work.ts packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts packages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts packages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts packages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts packages/fragno-db/src/mod.ts","description":"Stage all changed files"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":342,"cache_read_input_tokens":94869,"output_tokens":268,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":342},"inference_geo":"","iterations":[]}},"requestId":"req_011CY44Ef4HF7nXyAJE52EMd","type":"assistant","uuid":"769039cf-2879-4088-9771-fba5f8e4702d","timestamp":"2026-02-12T10:58:28.587Z"}
{"parentUuid":"769039cf-2879-4088-9771-fba5f8e4702d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01NFabwWrjcUJMuWKm4NaaSY","type":"tool_result","content":"","is_error":false}]},"uuid":"14b6888e-8842-4e00-abfd-bdf62c9313f1","timestamp":"2026-02-12T10:58:28.676Z","toolUseResult":{"stdout":"","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"769039cf-2879-4088-9771-fba5f8e4702d"}
{"parentUuid":"14b6888e-8842-4e00-abfd-bdf62c9313f1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01TWnegHeWYrYLt9nvzpfkZ7","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01UeYv8XxXtEzqurjdvffQJt","name":"Bash","input":{"command":"git commit -m \"$(cat <<'EOF'\nrefactor(db): reduce complexity in unit-of-work.ts\n\n- Introduce UnitOfWorkInit parameter object to reduce constructor/factory\n  argument count from 5-6 to 1\n- Extract resolveJoinCondition and resolveJoinOrderBy helpers to flatten\n  nested conditionals in buildJoinIndexed (3 bumps → 0)\n- Extract #runRetrievalCore, #runMutationCore, #compileRetrievalBatch,\n  #compileMutationBatch, and #runPhaseCleanup from executeRetrieve and\n  executeMutations to reduce cyclomatic complexity\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n)\"","description":"Commit refactoring changes"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":294,"cache_read_input_tokens":95211,"output_tokens":262,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":294},"inference_geo":"","iterations":[]}},"requestId":"req_011CY44ExzXzefaKnsojrHxt","type":"assistant","uuid":"0117af76-5da1-4ddd-a251-980c551ee9de","timestamp":"2026-02-12T10:58:34.968Z"}
{"parentUuid":"0117af76-5da1-4ddd-a251-980c551ee9de","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 79ms on 8 files with 94 rules using 12 threads.\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 79ms on 8 files with 94 rules using 12 threads.\r","elapsedTimeSeconds":2,"totalLines":6},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_01UeYv8XxXtEzqurjdvffQJt","uuid":"5a47a822-9be5-4b35-b39a-19b7cce1063c","timestamp":"2026-02-12T10:58:36.984Z"}
{"parentUuid":"5a47a822-9be5-4b35-b39a-19b7cce1063c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 79ms on 8 files with 94 rules using 12 threads.\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 79ms on 8 files with 94 rules using 12 threads.\r","elapsedTimeSeconds":3,"totalLines":6},"toolUseID":"bash-progress-1","parentToolUseID":"toolu_01UeYv8XxXtEzqurjdvffQJt","uuid":"aa9c4406-78a8-40f8-bc97-c21dac05471a","timestamp":"2026-02-12T10:58:37.985Z"}
{"parentUuid":"0117af76-5da1-4ddd-a251-980c551ee9de","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"type":"tool_result","content":"Exit code 1\n╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \n\nFound 0 warnings and 0 errors.\r\nFinished in 79ms on 8 files with 94 rules using 12 threads.\r\n\n┃  prettier ❯ \n\nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G[\u001b[33mwarn\u001b[39m] packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G[\u001b[33mwarn\u001b[39m] packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G[\u001b[33mwarn\u001b[39m] packages/fragno-db/src/query/unit-of-work/unit-of-work.ts\r\n[\u001b[33mwarn\u001b[39m] Code style issues found in 3 files. Run Prettier with --write to fix.\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 137ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 34ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts 18ms\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts 146ms\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts 94ms\r\n\nexit status 1│  turbo: build + test + type-check (skip) broken pipe\n                                      \n  ────────────────────────────────────\nsummary: (done in 2.96 seconds)       \n✔️ lint\n🥊 prettier","is_error":true,"tool_use_id":"toolu_01UeYv8XxXtEzqurjdvffQJt"}]},"uuid":"94e84c58-9d99-4021-967b-08997204264d","timestamp":"2026-02-12T10:58:38.069Z","toolUseResult":"Error: Exit code 1\n╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \n\nFound 0 warnings and 0 errors.\r\nFinished in 79ms on 8 files with 94 rules using 12 threads.\r\n\n┃  prettier ❯ \n\nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G[\u001b[33mwarn\u001b[39m] packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G[\u001b[33mwarn\u001b[39m] packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G[\u001b[33mwarn\u001b[39m] packages/fragno-db/src/query/unit-of-work/unit-of-work.ts\r\n[\u001b[33mwarn\u001b[39m] Code style issues found in 3 files. Run Prettier with --write to fix.\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 137ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 34ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts 18ms\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts 146ms\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts 94ms\r\n\nexit status 1│  turbo: build + test + type-check (skip) broken pipe\n                                      \n  ────────────────────────────────────\nsummary: (done in 2.96 seconds)       \n✔️ lint\n🥊 prettier","sourceToolAssistantUUID":"0117af76-5da1-4ddd-a251-980c551ee9de"}
{"parentUuid":"94e84c58-9d99-4021-967b-08997204264d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01QG4S7wjSjkxjvK6A8vhnC7","type":"message","role":"assistant","content":[{"type":"text","text":"Prettier fixed some formatting. Let me re-stage and commit:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":2853,"cache_read_input_tokens":95505,"cache_creation":{"ephemeral_5m_input_tokens":2853,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY44FgXMvwr1VLKhMnD3T","type":"assistant","uuid":"1f186b86-4c58-4d13-848c-796239c0f126","timestamp":"2026-02-12T10:58:41.210Z"}
{"parentUuid":"1f186b86-4c58-4d13-848c-796239c0f126","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01QG4S7wjSjkxjvK6A8vhnC7","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01WrKVVRG36KHAyBPBiJqfqF","name":"Bash","input":{"command":"git add packages/fragno-db/src/query/unit-of-work/unit-of-work.ts packages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts packages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts && git commit -m \"$(cat <<'EOF'\nrefactor(db): reduce complexity in unit-of-work.ts\n\n- Introduce UnitOfWorkInit parameter object to reduce constructor/factory\n  argument count from 5-6 to 1\n- Extract resolveJoinCondition and resolveJoinOrderBy helpers to flatten\n  nested conditionals in buildJoinIndexed (3 bumps → 0)\n- Extract #runRetrievalCore, #runMutationCore, #compileRetrievalBatch,\n  #compileMutationBatch, and #runPhaseCleanup from executeRetrieve and\n  executeMutations to reduce cyclomatic complexity\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n)\"","description":"Re-stage formatted files and commit"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":2853,"cache_read_input_tokens":95505,"output_tokens":359,"server_tool_use":{"web_search_requests":0,"web_fetch_requests":0},"service_tier":"standard","cache_creation":{"ephemeral_1h_input_tokens":0,"ephemeral_5m_input_tokens":2853},"inference_geo":"","iterations":[]}},"requestId":"req_011CY44FgXMvwr1VLKhMnD3T","type":"assistant","uuid":"43c9e46d-2b8a-4f61-80f0-8b2257450354","timestamp":"2026-02-12T10:58:43.555Z"}
{"parentUuid":"43c9e46d-2b8a-4f61-80f0-8b2257450354","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r","elapsedTimeSeconds":2,"totalLines":6},"toolUseID":"bash-progress-0","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"765dcd5b-06be-462f-87b9-59b61a2b56d9","timestamp":"2026-02-12T10:58:45.588Z"}
{"parentUuid":"765dcd5b-06be-462f-87b9-59b61a2b56d9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":3,"totalLines":17},"toolUseID":"bash-progress-1","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"56115be2-fd15-44dc-a86c-a9c12455fcaf","timestamp":"2026-02-12T10:58:46.589Z"}
{"parentUuid":"56115be2-fd15-44dc-a86c-a9c12455fcaf","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":4,"totalLines":17},"toolUseID":"bash-progress-2","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"05226ab5-ff28-4fb2-8336-d2dd87ffa86b","timestamp":"2026-02-12T10:58:47.590Z"}
{"parentUuid":"05226ab5-ff28-4fb2-8336-d2dd87ffa86b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":5,"totalLines":17},"toolUseID":"bash-progress-3","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"07968a33-5fd8-4b06-94bb-bbd18645549f","timestamp":"2026-02-12T10:58:48.593Z"}
{"parentUuid":"07968a33-5fd8-4b06-94bb-bbd18645549f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":6,"totalLines":17},"toolUseID":"bash-progress-4","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"10f8bcf3-a184-4139-88d0-f76b0bd36347","timestamp":"2026-02-12T10:58:49.594Z"}
{"parentUuid":"10f8bcf3-a184-4139-88d0-f76b0bd36347","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":7,"totalLines":17},"toolUseID":"bash-progress-5","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"a9a3b623-a0e7-4c15-b5d7-112773273c93","timestamp":"2026-02-12T10:58:50.594Z"}
{"parentUuid":"a9a3b623-a0e7-4c15-b5d7-112773273c93","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":8,"totalLines":17},"toolUseID":"bash-progress-6","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"4a4ac991-9519-4a38-8f57-e2866546fe6b","timestamp":"2026-02-12T10:58:51.600Z"}
{"parentUuid":"4a4ac991-9519-4a38-8f57-e2866546fe6b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":9,"totalLines":17},"toolUseID":"bash-progress-7","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"c50fbf0b-cca2-4276-8ca7-e6e374fbf31f","timestamp":"2026-02-12T10:58:52.605Z"}
{"parentUuid":"c50fbf0b-cca2-4276-8ca7-e6e374fbf31f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":10,"totalLines":17},"toolUseID":"bash-progress-8","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"d1ad0938-62de-42db-a542-ceb8ecb082c2","timestamp":"2026-02-12T10:58:53.609Z"}
{"parentUuid":"d1ad0938-62de-42db-a542-ceb8ecb082c2","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":11,"totalLines":17},"toolUseID":"bash-progress-9","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"7d881cc5-118d-456b-9bf8-1ee24e36e68d","timestamp":"2026-02-12T10:58:54.610Z"}
{"parentUuid":"7d881cc5-118d-456b-9bf8-1ee24e36e68d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":12,"totalLines":17},"toolUseID":"bash-progress-10","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"089c12b5-8abe-4474-8751-03969b6a1e48","timestamp":"2026-02-12T10:58:55.612Z"}
{"parentUuid":"089c12b5-8abe-4474-8751-03969b6a1e48","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":13,"totalLines":17},"toolUseID":"bash-progress-11","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"e9e549d8-ea0c-4505-8507-73f29b24182d","timestamp":"2026-02-12T10:58:56.685Z"}
{"parentUuid":"e9e549d8-ea0c-4505-8507-73f29b24182d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":14,"totalLines":17},"toolUseID":"bash-progress-12","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"e47b80a3-04be-416a-b4f6-d93fe2dc6ca9","timestamp":"2026-02-12T10:58:57.711Z"}
{"parentUuid":"e47b80a3-04be-416a-b4f6-d93fe2dc6ca9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":15,"totalLines":17},"toolUseID":"bash-progress-13","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"bbe6950e-eaf7-44d3-8945-7093fce02eec","timestamp":"2026-02-12T10:58:58.827Z"}
{"parentUuid":"bbe6950e-eaf7-44d3-8945-7093fce02eec","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":17,"totalLines":17},"toolUseID":"bash-progress-14","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"26089a1d-c6f6-4309-8342-64380460939b","timestamp":"2026-02-12T10:59:00.667Z"}
{"parentUuid":"26089a1d-c6f6-4309-8342-64380460939b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":18,"totalLines":17},"toolUseID":"bash-progress-15","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"8b7fb399-107f-4eba-b6ea-b628f37cd147","timestamp":"2026-02-12T10:59:01.791Z"}
{"parentUuid":"8b7fb399-107f-4eba-b6ea-b628f37cd147","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":19,"totalLines":17},"toolUseID":"bash-progress-16","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"d0e14696-289f-4e4b-b74e-3778357fa97d","timestamp":"2026-02-12T10:59:02.874Z"}
{"parentUuid":"d0e14696-289f-4e4b-b74e-3778357fa97d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":20,"totalLines":17},"toolUseID":"bash-progress-17","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"7db278b1-34d3-49ed-b6ad-9db67c7d8058","timestamp":"2026-02-12T10:59:03.885Z"}
{"parentUuid":"7db278b1-34d3-49ed-b6ad-9db67c7d8058","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":21,"totalLines":17},"toolUseID":"bash-progress-18","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"7ef2df9f-1c3d-43c9-afda-1b3fc450d6b9","timestamp":"2026-02-12T10:59:04.894Z"}
{"parentUuid":"7ef2df9f-1c3d-43c9-afda-1b3fc450d6b9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":22,"totalLines":17},"toolUseID":"bash-progress-19","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"a03c6a4b-3b9c-4d76-8e6b-b0b42e4f989c","timestamp":"2026-02-12T10:59:05.898Z"}
{"parentUuid":"a03c6a4b-3b9c-4d76-8e6b-b0b42e4f989c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":23,"totalLines":17},"toolUseID":"bash-progress-20","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"e424bae6-5280-4682-8f50-817a17c99fdf","timestamp":"2026-02-12T10:59:06.910Z"}
{"parentUuid":"e424bae6-5280-4682-8f50-817a17c99fdf","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":24,"totalLines":17},"toolUseID":"bash-progress-21","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"89c72861-19e4-443a-af5c-b46e98a2678c","timestamp":"2026-02-12T10:59:07.922Z"}
{"parentUuid":"89c72861-19e4-443a-af5c-b46e98a2678c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":25,"totalLines":17},"toolUseID":"bash-progress-22","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"d482a473-bd12-4d70-a8b8-1fda62cae2a3","timestamp":"2026-02-12T10:59:08.932Z"}
{"parentUuid":"d482a473-bd12-4d70-a8b8-1fda62cae2a3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":26,"totalLines":17},"toolUseID":"bash-progress-23","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"94400623-ae05-42b6-bead-b3f9ab3fc823","timestamp":"2026-02-12T10:59:09.935Z"}
{"parentUuid":"94400623-ae05-42b6-bead-b3f9ab3fc823","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":27,"totalLines":17},"toolUseID":"bash-progress-24","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"0b326a90-1496-41fd-a1b3-9b18c6e0e29d","timestamp":"2026-02-12T10:59:10.945Z"}
{"parentUuid":"0b326a90-1496-41fd-a1b3-9b18c6e0e29d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":28,"totalLines":17},"toolUseID":"bash-progress-25","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"b51989af-9748-4748-9f26-70bd1d0a0627","timestamp":"2026-02-12T10:59:11.957Z"}
{"parentUuid":"b51989af-9748-4748-9f26-70bd1d0a0627","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":29,"totalLines":17},"toolUseID":"bash-progress-26","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"a77893b0-0fa7-4ca2-bc34-9b87d85319ab","timestamp":"2026-02-12T10:59:13.253Z"}
{"parentUuid":"a77893b0-0fa7-4ca2-bc34-9b87d85319ab","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":30,"totalLines":17},"toolUseID":"bash-progress-27","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"1cdd1759-ade7-4705-9954-30622124a64c","timestamp":"2026-02-12T10:59:14.254Z"}
{"parentUuid":"1cdd1759-ade7-4705-9954-30622124a64c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":31,"totalLines":17},"toolUseID":"bash-progress-28","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"876b5f1c-e187-4562-b85b-6e443896caff","timestamp":"2026-02-12T10:59:15.318Z"}
{"parentUuid":"876b5f1c-e187-4562-b85b-6e443896caff","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":32,"totalLines":17},"toolUseID":"bash-progress-29","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"958fb9e9-eb44-45ae-8efc-64652abaa9a7","timestamp":"2026-02-12T10:59:16.333Z"}
{"parentUuid":"958fb9e9-eb44-45ae-8efc-64652abaa9a7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":33,"totalLines":17},"toolUseID":"bash-progress-30","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"6ae628f2-45a2-4de7-82f8-87441d6fd1e8","timestamp":"2026-02-12T10:59:17.339Z"}
{"parentUuid":"6ae628f2-45a2-4de7-82f8-87441d6fd1e8","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":34,"totalLines":17},"toolUseID":"bash-progress-31","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"47b31519-fa79-49cb-8cb8-864700a0cb1e","timestamp":"2026-02-12T10:59:18.340Z"}
{"parentUuid":"47b31519-fa79-49cb-8cb8-864700a0cb1e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":35,"totalLines":17},"toolUseID":"bash-progress-32","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"3e13251c-f709-4cde-90e8-7eddbe58e66d","timestamp":"2026-02-12T10:59:19.354Z"}
{"parentUuid":"3e13251c-f709-4cde-90e8-7eddbe58e66d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":36,"totalLines":17},"toolUseID":"bash-progress-33","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"5f21837a-1334-4024-bad5-86299bddf287","timestamp":"2026-02-12T10:59:20.354Z"}
{"parentUuid":"5f21837a-1334-4024-bad5-86299bddf287","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":37,"totalLines":17},"toolUseID":"bash-progress-34","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"d18f8e95-ef89-4295-9ed0-81c964f39b2a","timestamp":"2026-02-12T10:59:21.356Z"}
{"parentUuid":"d18f8e95-ef89-4295-9ed0-81c964f39b2a","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":38,"totalLines":17},"toolUseID":"bash-progress-35","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"88456fb6-8d77-44cc-b74d-0faf62de9427","timestamp":"2026-02-12T10:59:22.364Z"}
{"parentUuid":"88456fb6-8d77-44cc-b74d-0faf62de9427","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":39,"totalLines":17},"toolUseID":"bash-progress-36","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"d404612f-23b2-49af-9617-31954e8e603f","timestamp":"2026-02-12T10:59:23.364Z"}
{"parentUuid":"d404612f-23b2-49af-9617-31954e8e603f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":40,"totalLines":17},"toolUseID":"bash-progress-37","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"ee939045-873b-420e-86e7-0c1b95db732b","timestamp":"2026-02-12T10:59:24.370Z"}
{"parentUuid":"ee939045-873b-420e-86e7-0c1b95db732b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":41,"totalLines":17},"toolUseID":"bash-progress-38","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"5e15f01e-5d65-4730-b50b-cdd0f6ba1263","timestamp":"2026-02-12T10:59:25.401Z"}
{"parentUuid":"5e15f01e-5d65-4730-b50b-cdd0f6ba1263","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":42,"totalLines":17},"toolUseID":"bash-progress-39","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"cc5b8785-e2ca-4a24-a27f-8f391f700971","timestamp":"2026-02-12T10:59:26.418Z"}
{"parentUuid":"cc5b8785-e2ca-4a24-a27f-8f391f700971","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":43,"totalLines":17},"toolUseID":"bash-progress-40","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"07a05cfd-3027-429f-8f40-ba3cdd106112","timestamp":"2026-02-12T10:59:27.419Z"}
{"parentUuid":"07a05cfd-3027-429f-8f40-ba3cdd106112","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":44,"totalLines":17},"toolUseID":"bash-progress-41","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"0c3bd1de-8534-46a9-9a73-a48f63f834b2","timestamp":"2026-02-12T10:59:28.419Z"}
{"parentUuid":"0c3bd1de-8534-46a9-9a73-a48f63f834b2","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":45,"totalLines":17},"toolUseID":"bash-progress-42","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"bf293ac1-1a05-47c9-8b40-102d30c5e4e2","timestamp":"2026-02-12T10:59:29.428Z"}
{"parentUuid":"bf293ac1-1a05-47c9-8b40-102d30c5e4e2","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":46,"totalLines":17},"toolUseID":"bash-progress-43","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"2d4a4d64-33ca-436d-9c79-f71d4135c4c5","timestamp":"2026-02-12T10:59:30.429Z"}
{"parentUuid":"2d4a4d64-33ca-436d-9c79-f71d4135c4c5","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":47,"totalLines":17},"toolUseID":"bash-progress-44","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"2230a18c-d402-4d2c-ae80-af515a142d1f","timestamp":"2026-02-12T10:59:31.432Z"}
{"parentUuid":"2230a18c-d402-4d2c-ae80-af515a142d1f","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":48,"totalLines":17},"toolUseID":"bash-progress-45","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"72193636-fea8-4a02-b21d-1ba6b6ada111","timestamp":"2026-02-12T10:59:32.439Z"}
{"parentUuid":"72193636-fea8-4a02-b21d-1ba6b6ada111","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":49,"totalLines":17},"toolUseID":"bash-progress-46","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"427417c6-5863-4e25-9f05-d6cacc5b9af3","timestamp":"2026-02-12T10:59:33.440Z"}
{"parentUuid":"427417c6-5863-4e25-9f05-d6cacc5b9af3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":50,"totalLines":17},"toolUseID":"bash-progress-47","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"90f22ef6-08b0-4451-bd56-30bef578b266","timestamp":"2026-02-12T10:59:34.441Z"}
{"parentUuid":"90f22ef6-08b0-4451-bd56-30bef578b266","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":51,"totalLines":17},"toolUseID":"bash-progress-48","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"7e318d2b-0710-438a-b42b-62d1e7bb0a20","timestamp":"2026-02-12T10:59:35.442Z"}
{"parentUuid":"7e318d2b-0710-438a-b42b-62d1e7bb0a20","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":52,"totalLines":17},"toolUseID":"bash-progress-49","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"1b193c2c-fa7c-460c-8285-abd2e4c116e4","timestamp":"2026-02-12T10:59:36.443Z"}
{"parentUuid":"1b193c2c-fa7c-460c-8285-abd2e4c116e4","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":53,"totalLines":17},"toolUseID":"bash-progress-50","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"f0ad2d1d-3531-4455-bc30-71212a7f1de3","timestamp":"2026-02-12T10:59:37.447Z"}
{"parentUuid":"f0ad2d1d-3531-4455-bc30-71212a7f1de3","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":54,"totalLines":17},"toolUseID":"bash-progress-51","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"5ef81a13-0bf7-4e97-b754-04c72f754dcd","timestamp":"2026-02-12T10:59:38.448Z"}
{"parentUuid":"5ef81a13-0bf7-4e97-b754-04c72f754dcd","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":55,"totalLines":17},"toolUseID":"bash-progress-52","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"fec3cf0f-6b1e-452a-b498-104ae21313ce","timestamp":"2026-02-12T10:59:39.449Z"}
{"parentUuid":"fec3cf0f-6b1e-452a-b498-104ae21313ce","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":56,"totalLines":17},"toolUseID":"bash-progress-53","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"742b56f4-91f7-4347-beca-15edcfc7d398","timestamp":"2026-02-12T10:59:40.451Z"}
{"parentUuid":"742b56f4-91f7-4347-beca-15edcfc7d398","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":57,"totalLines":17},"toolUseID":"bash-progress-54","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"e9fb869a-7710-4d47-acf7-63c342427dcb","timestamp":"2026-02-12T10:59:41.452Z"}
{"parentUuid":"e9fb869a-7710-4d47-acf7-63c342427dcb","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":58,"totalLines":17},"toolUseID":"bash-progress-55","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"1e449b5c-cac4-491e-b427-695e6f122615","timestamp":"2026-02-12T10:59:42.456Z"}
{"parentUuid":"1e449b5c-cac4-491e-b427-695e6f122615","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":59,"totalLines":17},"toolUseID":"bash-progress-56","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"60c4c386-caf0-49f0-95f2-a3a9406fdb1d","timestamp":"2026-02-12T10:59:43.456Z"}
{"parentUuid":"60c4c386-caf0-49f0-95f2-a3a9406fdb1d","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":60,"totalLines":17},"toolUseID":"bash-progress-57","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"c9dd7312-0f94-4325-a4f6-bc1a218b4f27","timestamp":"2026-02-12T10:59:44.460Z"}
{"parentUuid":"c9dd7312-0f94-4325-a4f6-bc1a218b4f27","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":61,"totalLines":17},"toolUseID":"bash-progress-58","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"2e9cd4d4-e630-41d5-b5fc-d18f71fc04bc","timestamp":"2026-02-12T10:59:45.461Z"}
{"parentUuid":"2e9cd4d4-e630-41d5-b5fc-d18f71fc04bc","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":62,"totalLines":17},"toolUseID":"bash-progress-59","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"e2b11bd7-b189-479e-bc1a-eeeb600f9978","timestamp":"2026-02-12T10:59:46.462Z"}
{"parentUuid":"e2b11bd7-b189-479e-bc1a-eeeb600f9978","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":63,"totalLines":17},"toolUseID":"bash-progress-60","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"0c3a4d07-aa60-4914-a424-d4d9bd8a7f8c","timestamp":"2026-02-12T10:59:47.465Z"}
{"parentUuid":"0c3a4d07-aa60-4914-a424-d4d9bd8a7f8c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":64,"totalLines":17},"toolUseID":"bash-progress-61","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"3ef216dc-76e8-431a-b68b-68f823fbedda","timestamp":"2026-02-12T10:59:48.469Z"}
{"parentUuid":"3ef216dc-76e8-431a-b68b-68f823fbedda","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":65,"totalLines":17},"toolUseID":"bash-progress-62","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"eae985eb-b1cf-480a-87a2-782ecb1ddb05","timestamp":"2026-02-12T10:59:49.469Z"}
{"parentUuid":"eae985eb-b1cf-480a-87a2-782ecb1ddb05","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":66,"totalLines":17},"toolUseID":"bash-progress-63","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"7fe27556-f09f-4ba9-b9ec-984254e4f911","timestamp":"2026-02-12T10:59:50.470Z"}
{"parentUuid":"7fe27556-f09f-4ba9-b9ec-984254e4f911","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":67,"totalLines":17},"toolUseID":"bash-progress-64","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"3a92127d-ef5a-42c4-a1ad-7e6451a6c6c4","timestamp":"2026-02-12T10:59:51.471Z"}
{"parentUuid":"3a92127d-ef5a-42c4-a1ad-7e6451a6c6c4","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":68,"totalLines":17},"toolUseID":"bash-progress-65","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"791f9d2f-3c57-4fe0-9d82-9ca0c9d3a528","timestamp":"2026-02-12T10:59:52.472Z"}
{"parentUuid":"791f9d2f-3c57-4fe0-9d82-9ca0c9d3a528","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":69,"totalLines":17},"toolUseID":"bash-progress-66","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"85419d83-37c7-4ad6-9265-ae94c5b14ef1","timestamp":"2026-02-12T10:59:53.473Z"}
{"parentUuid":"85419d83-37c7-4ad6-9265-ae94c5b14ef1","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":70,"totalLines":17},"toolUseID":"bash-progress-67","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"24a6ecd0-3029-4b17-b70b-4db834cd57c0","timestamp":"2026-02-12T10:59:54.476Z"}
{"parentUuid":"24a6ecd0-3029-4b17-b70b-4db834cd57c0","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":71,"totalLines":17},"toolUseID":"bash-progress-68","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"c990b3ba-c24a-4523-8c9b-e7b9c2f5b2f7","timestamp":"2026-02-12T10:59:55.479Z"}
{"parentUuid":"c990b3ba-c24a-4523-8c9b-e7b9c2f5b2f7","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":72,"totalLines":17},"toolUseID":"bash-progress-69","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"e2c61a39-cedf-4a23-93b0-742250bd4459","timestamp":"2026-02-12T10:59:56.482Z"}
{"parentUuid":"e2c61a39-cedf-4a23-93b0-742250bd4459","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"packages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","fullOutput":"╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n┃  prettier ❯ \nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r","elapsedTimeSeconds":73,"totalLines":17},"toolUseID":"bash-progress-70","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"51168d3e-3a8c-43f6-9591-c9af9be74c8e","timestamp":"2026-02-12T10:59:57.483Z"}
{"parentUuid":"51168d3e-3a8c-43f6-9591-c9af9be74c8e","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","fullOutput":"\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","elapsedTimeSeconds":74,"totalLines":4844},"toolUseID":"bash-progress-71","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"ba359718-9bd2-4b10-bcfb-f87e354ad476","timestamp":"2026-02-12T10:59:58.484Z"}
{"parentUuid":"ba359718-9bd2-4b10-bcfb-f87e354ad476","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","fullOutput":"\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","elapsedTimeSeconds":75,"totalLines":4844},"toolUseID":"bash-progress-72","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"abb17f3f-aaf7-4654-a1f2-596c50346c24","timestamp":"2026-02-12T10:59:59.485Z"}
{"parentUuid":"abb17f3f-aaf7-4654-a1f2-596c50346c24","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","fullOutput":"\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","elapsedTimeSeconds":76,"totalLines":4844},"toolUseID":"bash-progress-73","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"19c5795c-588b-4c09-a717-baa982654373","timestamp":"2026-02-12T11:00:00.488Z"}
{"parentUuid":"19c5795c-588b-4c09-a717-baa982654373","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","fullOutput":"\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","elapsedTimeSeconds":77,"totalLines":4844},"toolUseID":"bash-progress-74","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"8fddbea5-6212-460b-964c-ed0900b17951","timestamp":"2026-02-12T11:00:01.491Z"}
{"parentUuid":"8fddbea5-6212-460b-964c-ed0900b17951","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","fullOutput":"\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","elapsedTimeSeconds":78,"totalLines":4844},"toolUseID":"bash-progress-75","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"7b269d95-1690-4098-9e55-a2092d6837e4","timestamp":"2026-02-12T11:00:02.491Z"}
{"parentUuid":"7b269d95-1690-4098-9e55-a2092d6837e4","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","fullOutput":"\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","elapsedTimeSeconds":79,"totalLines":4844},"toolUseID":"bash-progress-76","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"3f045245-3fe3-4c6f-9d77-672c61a821e9","timestamp":"2026-02-12T11:00:03.494Z"}
{"parentUuid":"3f045245-3fe3-4c6f-9d77-672c61a821e9","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"bash_progress","output":"  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","fullOutput":"\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","elapsedTimeSeconds":80,"totalLines":4844},"toolUseID":"bash-progress-77","parentToolUseID":"toolu_01WrKVVRG36KHAyBPBiJqfqF","uuid":"22f1ce73-5375-415a-9771-b2cca10c407e","timestamp":"2026-02-12T11:00:04.495Z"}
{"parentUuid":"43c9e46d-2b8a-4f61-80f0-8b2257450354","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01WrKVVRG36KHAyBPBiJqfqF","type":"tool_result","content":"<persisted-output>\nOutput too large (1MB). Full output saved to: /home/jan/.REDACTED.txt\n\nPreview (first 2KB):\n[jan/experiment-cc-refactors-3 56a9d0ca] refactor(db): reduce complexity in unit-of-work.ts\n 8 files changed, 245 insertions(+), 227 deletions(-)\n╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \n\nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n\n┃  prettier ❯ \n\nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\n...\n</persisted-output>","is_error":false}]},"uuid":"23d27035-168f-4e52-be67-35ff10f1779c","timestamp":"2026-02-12T11:00:05.059Z","toolUseResult":{"stdout":"[jan/experiment-cc-refactors-3 56a9d0ca] refactor(db): reduce complexity in unit-of-work.ts\n 8 files changed, 245 insertions(+), 227 deletions(-)\n╭────────────────────────────────────────╮\n│ 🥊 lefthook v1.11.13  hook: pre-commit │\n╰────────────────────────────────────────╯\n┃  lint ❯ \n\nFound 0 warnings and 0 errors.\r\nFinished in 76ms on 8 files with 94 rules using 12 threads.\r\n\n┃  prettier ❯ \n\nChecking formatting...\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/mod.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1Gpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1GAll matched files use Prettier code style!\r\npackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-adapter.ts\u001b[39m 133ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.mutations.test.ts\u001b[39m 36ms (unchanged)\r\npackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/in-memory/in-memory-uow.retrieval.test.ts\u001b[39m 11ms (unchanged)\r\npackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/adapters/shared/from-unit-of-work-compiler.ts\u001b[39m 22ms (unchanged)\r\npackages/fragno-db/src/mod.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/mod.ts\u001b[39m 14ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work-types.test.ts\u001b[39m 20ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.test.ts\u001b[39m 142ms (unchanged)\r\npackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[2K\u001b[1G\u001b[90mpackages/fragno-db/src/query/unit-of-work/unit-of-work.ts\u001b[39m 93ms (unchanged)\r\n\n┃  turbo: build + test + type-check ❯ \n\n\r\nUpdate available \u001b[2mv\u001b[0m\u001b[2m2.8.3\u001b[0m ≫ \u001b[32m\u001b[1mv2.8.7\u001b[0m\r\nChangelog: https://github.com/vercel/turborepo/releases/tag/\u001b[32m\u001b[1mv2.8.7\u001b[0m\r\nRun \"\u001b[36m\u001b[1mpnpm dlx @turbo/codemod@latest update\u001b[0m\" to update\r\n\r\nFollow \u001b[38;2;0;153;247m@\u001b[0m\u001b[38;2;88;145;235mt\u001b[0m\u001b[38;2;122;137;221mu\u001b[0m\u001b[38;2;147;127;206mr\u001b[0m\u001b[38;2;167;117;190mb\u001b[0m\u001b[38;2;185;106;172mo\u001b[0m\u001b[38;2;201;94;152mr\u001b[0m\u001b[38;2;215;78;126me\u001b[0m\u001b[38;2;229;58;92mp\u001b[0m\u001b[38;2;241;23;18mo\u001b[0m for updates: https://x.com/turborepo\r\n\u001b[2m• turbo 2.8.3\u001b[0m\r\n\u001b[2m• Packages in scope: @fragno-dev/auth, @fragno-dev/chatno, @fragno-dev/cli, @fragno-dev/core, @fragno-dev/corpus, @fragno-dev/db, @fragno-dev/docs-rr, @fragno-dev/example-fragment, @fragno-dev/forms, @fragno-dev/fragment-mailing-list, @fragno-dev/fragno-db-library, @fragno-dev/fragno-wf, @fragno-dev/jsonforms-shadcn-renderers, @fragno-dev/lofi, @fragno-dev/node, @fragno-dev/otp-fragment, @fragno-dev/stripe, @fragno-dev/test, @fragno-dev/unplugin-fragno, @fragno-dev/upload, @fragno-dev/workflows, @fragno-private/oxlint-plugins, @fragno-private/typescript-config, @fragno-private/vitest-config, create-fragno\u001b[0m\r\n\u001b[2m• Running \u001b[0m\u001b[1m\u001b[2mbuild, types:check, test\u001b[0m\u001b[2m in 25 packages\r\n\u001b[0m\u001b[2m• Remote caching disabled\u001b[0m\r\n\u001b[33m@fragno-dev/docs-rr:types:generate: \u001b[0mcache hit, suppressing logs \u001b[2m61a006d4280404d4\u001b[0m\r\n\u001b[33m@fragno-private/oxlint-plugins:types:check: \u001b[0mcache hit, suppressing logs \u001b[2me28049971340f725\u001b[0m\r\n\u001b[34m@fragno-dev/jsonforms-shadcn-renderers:build: \u001b[0mcache hit, suppressing logs \u001b[2md5ca4a4654919c21\u001b[0m\r\n\u001b[32m@fragno-dev/unplugin-fragno:build: \u001b[0mcache hit, suppressing logs \u001b[2m2f47e5f56819e579\u001b[0m\r\n\u001b[35m@fragno-dev/create:build: \u001b[0mcache hit, suppressing logs \u001b[2m46918195e02617bb\u001b[0m\r\n\u001b[32m@fragno-dev/core:types:check: \u001b[0mcache hit, suppressing logs \u001b[2m6d952edfbf4ac994\u001b[0m\r\n\u001b[34m@fragno-dev/unplugin-fragno:types:check: \u001b[0mcache hit, suppressing logs \u001b[2mb72a0fc13efb2483\u001b[0m\r\n\u001b[36m@fragno-dev/jsonforms-shadcn-renderers:test: \u001b[0mcache hit, suppressing logs \u001b[2m91b72b940724f69f\u001b[0m\r\n\u001b[36m@fragno-dev/core:build: \u001b[0mcache hit, suppressing logs \u001b[2m04bce867bb4bc5d9\u001b[0m\r\n\u001b[33m@fragno-dev/unplugin-fragno:test: \u001b[0mcache hit, suppressing logs \u001b[2madd9e8157bd9e9e8\u001b[0m\r\n\u001b[36mcreate-fragno:build: \u001b[0mcache hit, suppressing logs \u001b[2mf949e21f7536dd44\u001b[0m\r\n\u001b[32mcreate-fragno:types:check: \u001b[0mcache hit, suppressing logs \u001b[2ma1d70776274bd3a3\u001b[0m\r\n\u001b[35m@fragno-dev/jsonforms-shadcn-renderers:types:check: \u001b[0mcache hit, suppressing logs \u001b[2macfc4388b53e5cb6\u001b[0m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0mcache miss, executing \u001b[2m222b1ab4e475f4ea\u001b[0m\r\n\u001b[35m@fragno-dev/core:test: \u001b[0mcache hit, suppressing logs \u001b[2me00d9c1f444481c8\u001b[0m\r\n\u001b[36m@fragno-dev/node:build: \u001b[0mcache hit, suppressing logs \u001b[2m14b8badee50cea20\u001b[0m\r\n\u001b[34m@fragno-dev/db:types:check: \u001b[0mcache miss, executing \u001b[2ma27bfff656d7c25c\u001b[0m\r\n\u001b[35m@fragno-dev/example-fragment:types:check: \u001b[0mcache hit, suppressing logs \u001b[2m6f40f28c2343fe56\u001b[0m\r\n\u001b[32m@fragno-dev/node:types:check: \u001b[0mcache hit, suppressing logs \u001b[2m08ce95a70182d7ba\u001b[0m\r\n\u001b[34m@fragno-dev/example-fragment:build: \u001b[0mcache hit, suppressing logs \u001b[2mb0b9135c555330f6\u001b[0m\r\n\u001b[35m@fragno-dev/chatno:types:check: \u001b[0mcache hit, suppressing logs \u001b[2m80e802c0f87b0c51\u001b[0m\r\n\u001b[35mcreate-fragno:test: \u001b[0mcache hit, suppressing logs \u001b[2m46942c5e6aa32496\u001b[0m\r\n\u001b[34m@fragno-dev/chatno:build: \u001b[0mcache hit, suppressing logs \u001b[2m025cecf7aba90af9\u001b[0m\r\n\u001b[35m@fragno-dev/node:test: \u001b[0mcache hit, suppressing logs \u001b[2m1a8207fb1d6a1126\u001b[0m\r\n\u001b[36m@fragno-dev/chatno:test: \u001b[0mcache hit, suppressing logs \u001b[2m5437129c0f704a83\u001b[0m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m> @fragno-dev/db@0.3.0 build /home/jan/rejot/fragno/packages/fragno-db\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m> tsdown\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\r\n\u001b[34m@fragno-dev/db:types:check: \u001b[0m\r\n\u001b[34m@fragno-dev/db:types:check: \u001b[0m> @fragno-dev/db@0.3.0 types:check /home/jan/rejot/fragno/packages/fragno-db\r\n\u001b[34m@fragno-dev/db:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[34m@fragno-dev/db:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/fragno-db/tsdown.config.ts\u001b[24m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/client.ts, src/db-fragment-definition-builder.ts, src/id.ts, src/mod.ts, src/adapters/adapters.ts, src/migration-engine/generation-engine.ts, src/schema/create.ts, src/schema-output/drizzle.ts, src/schema-output/prisma.ts, src/query/cursor.ts, src/query/simple-query-interface.ts, src/sql-driver/sql-driver.ts, src/adapters/generic-sql/driver-config.ts, src/adapters/in-memory/index.ts, src/adapters/sql/index.ts, src/dispatchers/cloudflare-do/index.ts, src/dispatchers/node/index.ts, src/query/unit-of-work/unit-of-work.ts, src/sql-driver/dialects/dialects.ts, src/sql-driver/dialects/durable-object-dialect.ts\u001b[39m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 324 files\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mquery/unit-of-work/unit-of-work.js\u001b[22m                                    \u001b[2m36.82 kB\u001b[22m \u001b[2m│ gzip:  8.32 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mschema/create.js\u001b[22m                                                      \u001b[2m22.57 kB\u001b[22m \u001b[2m│ gzip:  5.68 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mschema-output/drizzle.js\u001b[22m                                              \u001b[2m16.28 kB\u001b[22m \u001b[2m│ gzip:  4.00 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mschema-output/prisma.js\u001b[22m                                               \u001b[2m13.63 kB\u001b[22m \u001b[2m│ gzip:  3.54 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mdb-fragment-definition-builder.js\u001b[22m                                     \u001b[2m12.53 kB\u001b[22m \u001b[2m│ gzip:  3.26 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mmigration-engine/generation-engine.js\u001b[22m                                 \u001b[2m 9.72 kB\u001b[22m \u001b[2m│ gzip:  2.60 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mquery/cursor.js\u001b[22m                                                       \u001b[2m 6.61 kB\u001b[22m \u001b[2m│ gzip:  2.20 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mmod.js\u001b[22m                                                                \u001b[2m 4.75 kB\u001b[22m \u001b[2m│ gzip:  1.51 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1madapters/generic-sql/driver-config.js\u001b[22m                                 \u001b[2m 4.01 kB\u001b[22m \u001b[2m│ gzip:  0.90 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1msql-driver/dialects/durable-object-dialect.js\u001b[22m                         \u001b[2m 3.51 kB\u001b[22m \u001b[2m│ gzip:  1.10 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mdispatchers/cloudflare-do/index.js\u001b[22m                                    \u001b[2m 1.73 kB\u001b[22m \u001b[2m│ gzip:  0.64 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mdispatchers/node/index.js\u001b[22m                                             \u001b[2m 1.32 kB\u001b[22m \u001b[2m│ gzip:  0.54 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mclient.js\u001b[22m                                                             \u001b[2m 0.39 kB\u001b[22m \u001b[2m│ gzip:  0.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1madapters/adapters.js\u001b[22m                                                  \u001b[2m 0.33 kB\u001b[22m \u001b[2m│ gzip:  0.17 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1madapters/sql/index.js\u001b[22m                                                 \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip:  0.14 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1madapters/in-memory/index.js\u001b[22m                                           \u001b[2m 0.25 kB\u001b[22m \u001b[2m│ gzip:  0.14 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1msql-driver/dialects/dialects.js\u001b[22m                                       \u001b[2m 0.13 kB\u001b[22m \u001b[2m│ gzip:  0.09 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mid.js\u001b[22m                                                                 \u001b[2m 0.07 kB\u001b[22m \u001b[2m│ gzip:  0.07 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mquery/simple-query-interface.js\u001b[22m                                       \u001b[2m 0.01 kB\u001b[22m \u001b[2m│ gzip:  0.03 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1msql-driver/sql-driver.js\u001b[22m                                              \u001b[2m 0.01 kB\u001b[22m \u001b[2m│ gzip:  0.03 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/unit-of-work.js.map                                \u001b[2m90.07 kB\u001b[22m \u001b[2m│ gzip: 19.38 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/in-memory-uow.js.map                               \u001b[2m75.59 kB\u001b[22m \u001b[2m│ gzip: 16.04 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/execute-unit-of-work.js.map                        \u001b[2m70.82 kB\u001b[22m \u001b[2m│ gzip: 12.14 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/create.js.map                                                  \u001b[2m55.38 kB\u001b[22m \u001b[2m│ gzip: 13.07 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/in-memory-uow.js                                   \u001b[2m38.44 kB\u001b[22m \u001b[2m│ gzip:  7.98 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema-output/drizzle.js.map                                          \u001b[2m37.66 kB\u001b[22m \u001b[2m│ gzip:  9.03 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdb-fragment-definition-builder.js.map                                 \u001b[2m35.96 kB\u001b[22m \u001b[2m│ gzip:  8.33 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.js.map                                    \u001b[2m27.35 kB\u001b[22m \u001b[2m│ gzip:  5.97 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema-output/prisma.js.map                                           \u001b[2m26.92 kB\u001b[22m \u001b[2m│ gzip:  6.77 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/sql-generator.js.map                   \u001b[2m20.94 kB\u001b[22m \u001b[2m│ gzip:  5.03 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/generation-engine.js.map                             \u001b[2m19.30 kB\u001b[22m \u001b[2m│ gzip:  5.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/generic-sql-uow-executor.js.map                  \u001b[2m17.98 kB\u001b[22m \u001b[2m│ gzip:  5.14 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/execute-unit-of-work.js                            \u001b[2m17.21 kB\u001b[22m \u001b[2m│ gzip:  3.83 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/sql-query-compiler.js.map                  \u001b[2m16.72 kB\u001b[22m \u001b[2m│ gzip:  4.66 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/generic-sql-uow-operation-compiler.js.map  \u001b[2m15.89 kB\u001b[22m \u001b[2m│ gzip:  3.89 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/unit-of-work.d.ts.map                              \u001b[2m15.20 kB\u001b[22m \u001b[2m│ gzip:  5.54 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mhooks/hooks.js.map                                                    \u001b[2m14.72 kB\u001b[22m \u001b[2m│ gzip:  4.44 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/execute-unit-of-work.d.ts.map                      \u001b[2m14.63 kB\u001b[22m \u001b[2m│ gzip:  5.53 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/shared/from-unit-of-work-compiler.js.map                     \u001b[2m13.98 kB\u001b[22m \u001b[2m│ gzip:  3.77 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/in-memory-adapter.js.map                           \u001b[2m13.82 kB\u001b[22m \u001b[2m│ gzip:  3.50 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/create.d.ts.map                                                \u001b[2m13.69 kB\u001b[22m \u001b[2m│ gzip:  5.37 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/where-builder.js.map                       \u001b[2m13.58 kB\u001b[22m \u001b[2m│ gzip:  3.37 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/cursor.js.map                                                   \u001b[2m12.47 kB\u001b[22m \u001b[2m│ gzip:  3.82 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/dialect/sqlite-serializer.js.map                      \u001b[2m11.99 kB\u001b[22m \u001b[2m│ gzip:  3.06 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/condition-evaluator.js.map                         \u001b[2m11.53 kB\u001b[22m \u001b[2m│ gzip:  3.07 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.js                                        \u001b[2m11.46 kB\u001b[22m \u001b[2m│ gzip:  2.63 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/generic-sql-adapter.js.map                       \u001b[2m10.76 kB\u001b[22m \u001b[2m│ gzip:  3.22 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/cursor-client.js.map                                            \u001b[2m10.34 kB\u001b[22m \u001b[2m│ gzip:  3.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/prepared-migrations.js.map             \u001b[2m 9.95 kB\u001b[22m \u001b[2m│ gzip:  2.72 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/value-encoding.js.map                                           \u001b[2m 9.85 kB\u001b[22m \u001b[2m│ gzip:  3.06 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/dialect/sqlite.js.map                  \u001b[2m 9.81 kB\u001b[22m \u001b[2m│ gzip:  3.24 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/validator.js.map                                               \u001b[2m 9.74 kB\u001b[22m \u001b[2m│ gzip:  2.76 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/sql-generator.js                       \u001b[2m 9.70 kB\u001b[22m \u001b[2m│ gzip:  2.49 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmod.js.map                                                            \u001b[2m 9.55 kB\u001b[22m \u001b[2m│ gzip:  2.93 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/sorted-array-index.js.map                          \u001b[2m 9.47 kB\u001b[22m \u001b[2m│ gzip:  2.79 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mnaming/sql-naming.js.map                                              \u001b[2m 9.32 kB\u001b[22m \u001b[2m│ gzip:  2.55 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/generic-sql-uow-executor.js                      \u001b[2m 9.18 kB\u001b[22m \u001b[2m│ gzip:  2.56 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/condition-builder.js.map                                        \u001b[2m 9.18 kB\u001b[22m \u001b[2m│ gzip:  2.41 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/dialects/durable-object-dialect.js.map                     \u001b[2m 9.12 kB\u001b[22m \u001b[2m│ gzip:  2.88 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/outbox-builder.js.map                                          \u001b[2m 9.06 kB\u001b[22m \u001b[2m│ gzip:  2.58 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/shared/uow-operation-compiler.js.map                         \u001b[2m 8.80 kB\u001b[22m \u001b[2m│ gzip:  2.66 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/driver-config.js.map                             \u001b[2m 8.51 kB\u001b[22m \u001b[2m│ gzip:  1.75 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/auto-from-schema.js.map                              \u001b[2m 8.49 kB\u001b[22m \u001b[2m│ gzip:  2.25 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22minternal/adapter-registry.js.map                                      \u001b[2m 8.31 kB\u001b[22m \u001b[2m│ gzip:  2.42 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/uow-encoder.js.map                               \u001b[2m 7.91 kB\u001b[22m \u001b[2m│ gzip:  2.75 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/simple-query-interface.d.ts.map                                 \u001b[2m 7.88 kB\u001b[22m \u001b[2m│ gzip:  2.94 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/uow-decoder.js.map                               \u001b[2m 7.51 kB\u001b[22m \u001b[2m│ gzip:  2.57 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/dialect/postgres-serializer.js.map                    \u001b[2m 7.46 kB\u001b[22m \u001b[2m│ gzip:  2.04 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/generic-sql-uow-operation-compiler.js      \u001b[2m 7.34 kB\u001b[22m \u001b[2m│ gzip:  1.80 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/where-builder.js                           \u001b[2m 7.18 kB\u001b[22m \u001b[2m│ gzip:  1.91 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/in-memory-adapter.js                               \u001b[2m 7.08 kB\u001b[22m \u001b[2m│ gzip:  1.83 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/dialect/mysql-serializer.js.map                       \u001b[2m 6.83 kB\u001b[22m \u001b[2m│ gzip:  1.63 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/sql-serializer.js.map                                 \u001b[2m 6.62 kB\u001b[22m \u001b[2m│ gzip:  1.86 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/shared/from-unit-of-work-compiler.js                         \u001b[2m 6.50 kB\u001b[22m \u001b[2m│ gzip:  1.83 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/dialect/mysql.js.map                   \u001b[2m 6.38 kB\u001b[22m \u001b[2m│ gzip:  2.28 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/store.js.map                                       \u001b[2m 6.35 kB\u001b[22m \u001b[2m│ gzip:  2.02 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/sql-query-compiler.js                      \u001b[2m 6.28 kB\u001b[22m \u001b[2m│ gzip:  1.96 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/dialect/sqlite-serializer.js                          \u001b[2m 6.04 kB\u001b[22m \u001b[2m│ gzip:  1.63 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/condition-evaluator.js                             \u001b[2m 5.97 kB\u001b[22m \u001b[2m│ gzip:  1.59 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.d.ts.map                                  \u001b[2m 5.78 kB\u001b[22m \u001b[2m│ gzip:  0.86 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/value-decoding.js.map                                           \u001b[2m 5.77 kB\u001b[22m \u001b[2m│ gzip:  2.08 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/select-builder.js.map                      \u001b[2m 5.75 kB\u001b[22m \u001b[2m│ gzip:  2.04 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/type-mapping.js.map                            \u001b[2m 5.72 kB\u001b[22m \u001b[2m│ gzip:  1.90 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/value-encoding.js                                               \u001b[2m 5.68 kB\u001b[22m \u001b[2m│ gzip:  1.90 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mhooks/hooks.js                                                        \u001b[2m 5.52 kB\u001b[22m \u001b[2m│ gzip:  1.84 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/cursor-client.js                                                \u001b[2m 5.43 kB\u001b[22m \u001b[2m│ gzip:  1.85 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/generic-sql-adapter.js                           \u001b[2m 5.39 kB\u001b[22m \u001b[2m│ gzip:  1.67 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdb-fragment-definition-builder.d.ts.map                               \u001b[2m 5.39 kB\u001b[22m \u001b[2m│ gzip:  2.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/dialect/postgres.js.map                \u001b[2m 4.99 kB\u001b[22m \u001b[2m│ gzip:  1.88 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/result-interpreter.js.map                        \u001b[2m 4.94 kB\u001b[22m \u001b[2m│ gzip:  1.61 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/retry-policy.js.map                                \u001b[2m 4.93 kB\u001b[22m \u001b[2m│ gzip:  1.37 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mutil/default-database-adapter.js.map                                  \u001b[2m 4.81 kB\u001b[22m \u001b[2m│ gzip:  1.66 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.routes.js.map                             \u001b[2m 4.76 kB\u001b[22m \u001b[2m│ gzip:  1.62 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/sql-driver-adapter.js.map                                  \u001b[2m 4.67 kB\u001b[22m \u001b[2m│ gzip:  1.60 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mnaming/sql-naming.js                                                  \u001b[2m 4.65 kB\u001b[22m \u001b[2m│ gzip:  1.33 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/cursor-utils.js.map                        \u001b[2m 4.62 kB\u001b[22m \u001b[2m│ gzip:  1.72 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/uow-encoder.js                                   \u001b[2m 4.62 kB\u001b[22m \u001b[2m│ gzip:  1.74 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/validator.js                                                   \u001b[2m 4.55 kB\u001b[22m \u001b[2m│ gzip:  1.41 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mwith-database.js.map                                                  \u001b[2m 4.51 kB\u001b[22m \u001b[2m│ gzip:  1.27 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/dialect/sqlite.js                      \u001b[2m 4.50 kB\u001b[22m \u001b[2m│ gzip:  1.67 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/auto-from-schema.js                                  \u001b[2m 4.45 kB\u001b[22m \u001b[2m│ gzip:  1.25 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/outbox.js.map                                                  \u001b[2m 4.43 kB\u001b[22m \u001b[2m│ gzip:  1.52 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/outbox-builder.js                                              \u001b[2m 4.32 kB\u001b[22m \u001b[2m│ gzip:  1.32 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22minternal/adapter-registry.js                                          \u001b[2m 4.20 kB\u001b[22m \u001b[2m│ gzip:  1.24 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/sorted-array-index.js                              \u001b[2m 4.18 kB\u001b[22m \u001b[2m│ gzip:  1.31 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/uow-decoder.js                                   \u001b[2m 4.12 kB\u001b[22m \u001b[2m│ gzip:  1.52 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdispatchers/cloudflare-do/index.js.map                                \u001b[2m 4.12 kB\u001b[22m \u001b[2m│ gzip:  1.41 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/shared.js.map                                        \u001b[2m 3.92 kB\u001b[22m \u001b[2m│ gzip:  1.26 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/options.js.map                                     \u001b[2m 3.84 kB\u001b[22m \u001b[2m│ gzip:  1.42 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.schema.js.map                             \u001b[2m 3.69 kB\u001b[22m \u001b[2m│ gzip:  1.06 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/shared/uow-operation-compiler.js                             \u001b[2m 3.64 kB\u001b[22m \u001b[2m│ gzip:  1.29 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/dialect/postgres-serializer.js                        \u001b[2m 3.55 kB\u001b[22m \u001b[2m│ gzip:  1.04 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/orm/orm.js.map                                                  \u001b[2m 3.50 kB\u001b[22m \u001b[2m│ gzip:  1.37 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/prepared-migrations.js                 \u001b[2m 3.49 kB\u001b[22m \u001b[2m│ gzip:  1.02 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/driver/runtime-driver.js.map                               \u001b[2m 3.49 kB\u001b[22m \u001b[2m│ gzip:  1.17 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/dialect/mysql-serializer.js                           \u001b[2m 3.30 kB\u001b[22m \u001b[2m│ gzip:  0.87 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/dialect/sqlite.js.map                          \u001b[2m 3.28 kB\u001b[22m \u001b[2m│ gzip:  1.10 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/dialect/mysql.js                       \u001b[2m 3.20 kB\u001b[22m \u001b[2m│ gzip:  1.31 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mhooks/durable-hooks-processor.js.map                                  \u001b[2m 3.07 kB\u001b[22m \u001b[2m│ gzip:  1.21 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/store.js                                           \u001b[2m 3.06 kB\u001b[22m \u001b[2m│ gzip:  1.03 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/result-interpreter.js                            \u001b[2m 3.05 kB\u001b[22m \u001b[2m│ gzip:  1.02 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/sql-serializer.js                                     \u001b[2m 3.01 kB\u001b[22m \u001b[2m│ gzip:  1.09 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/reference-resolution.js.map                        \u001b[2m 2.98 kB\u001b[22m \u001b[2m│ gzip:  1.09 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdispatchers/node/index.js.map                                         \u001b[2m 2.97 kB\u001b[22m \u001b[2m│ gzip:  1.10 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/column-defaults.js.map                                          \u001b[2m 2.94 kB\u001b[22m \u001b[2m│ gzip:  0.99 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/adapters.js.map                                              \u001b[2m 2.88 kB\u001b[22m \u001b[2m│ gzip:  1.11 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/value-decoding.js                                               \u001b[2m 2.82 kB\u001b[22m \u001b[2m│ gzip:  1.12 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/select-builder.js                          \u001b[2m 2.57 kB\u001b[22m \u001b[2m│ gzip:  1.04 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/cursor-utils.js                            \u001b[2m 2.56 kB\u001b[22m \u001b[2m│ gzip:  1.01 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/dialect/postgres.js                    \u001b[2m 2.49 kB\u001b[22m \u001b[2m│ gzip:  1.07 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/sql-driver-adapter.js                                      \u001b[2m 2.44 kB\u001b[22m \u001b[2m│ gzip:  0.80 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/value-comparison.js.map                            \u001b[2m 2.44 kB\u001b[22m \u001b[2m│ gzip:  0.77 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/query-executor/query-executor-base.js.map                  \u001b[2m 2.43 kB\u001b[22m \u001b[2m│ gzip:  1.02 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mutil/default-database-adapter.js                                      \u001b[2m 2.43 kB\u001b[22m \u001b[2m│ gzip:  0.91 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/cold-kysely.js.map                     \u001b[2m 2.37 kB\u001b[22m \u001b[2m│ gzip:  0.79 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/condition-builder.d.ts.map                                      \u001b[2m 2.35 kB\u001b[22m \u001b[2m│ gzip:  0.88 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/sql.js.map                                                 \u001b[2m 2.32 kB\u001b[22m \u001b[2m│ gzip:  1.02 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/create-sql-query-compiler.js.map           \u001b[2m 2.23 kB\u001b[22m \u001b[2m│ gzip:  0.86 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/dialect/mysql.js.map                           \u001b[2m 2.23 kB\u001b[22m \u001b[2m│ gzip:  0.82 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/type-mapping.js                                \u001b[2m 2.17 kB\u001b[22m \u001b[2m│ gzip:  0.94 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/dialect/postgres.js.map                        \u001b[2m 2.14 kB\u001b[22m \u001b[2m│ gzip:  0.74 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/create-sql-serializer.js.map                          \u001b[2m 2.13 kB\u001b[22m \u001b[2m│ gzip:  0.86 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.routes.js                                 \u001b[2m 2.03 kB\u001b[22m \u001b[2m│ gzip:  0.81 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22minternal/outbox-state.js.map                                          \u001b[2m 2.02 kB\u001b[22m \u001b[2m│ gzip:  0.82 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/query-executor/default-query-executor.js.map               \u001b[2m 1.98 kB\u001b[22m \u001b[2m│ gzip:  0.77 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/condition-builder.js                                            \u001b[2m 1.92 kB\u001b[22m \u001b[2m│ gzip:  0.70 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/connection/single-connection-provider.js.map               \u001b[2m 1.89 kB\u001b[22m \u001b[2m│ gzip:  0.88 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/options.js                                         \u001b[2m 1.84 kB\u001b[22m \u001b[2m│ gzip:  0.77 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.schema.js                                 \u001b[2m 1.81 kB\u001b[22m \u001b[2m│ gzip:  0.59 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/generate-id.js.map                                             \u001b[2m 1.79 kB\u001b[22m \u001b[2m│ gzip:  0.83 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/create-sql-type-mapper.js.map                  \u001b[2m 1.70 kB\u001b[22m \u001b[2m│ gzip:  0.71 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/retry-policy.js                                    \u001b[2m 1.66 kB\u001b[22m \u001b[2m│ gzip:  0.55 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/driver/runtime-driver.js                                   \u001b[2m 1.64 kB\u001b[22m \u001b[2m│ gzip:  0.55 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/column-defaults.js                                              \u001b[2m 1.53 kB\u001b[22m \u001b[2m│ gzip:  0.60 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/dialect/sqlite.js                              \u001b[2m 1.52 kB\u001b[22m \u001b[2m│ gzip:  0.63 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/dialects/durable-object-dialect.d.ts.map                   \u001b[2m 1.49 kB\u001b[22m \u001b[2m│ gzip:  0.67 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mhooks/durable-hooks-processor.js                                      \u001b[2m 1.47 kB\u001b[22m \u001b[2m│ gzip:  0.64 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/create-sql-query-compiler.js               \u001b[2m 1.46 kB\u001b[22m \u001b[2m│ gzip:  0.58 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/reference-resolution.js                            \u001b[2m 1.45 kB\u001b[22m \u001b[2m│ gzip:  0.55 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/generic-sql-adapter.d.ts.map                     \u001b[2m 1.40 kB\u001b[22m \u001b[2m│ gzip:  0.64 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/sql.js                                                     \u001b[2m 1.36 kB\u001b[22m \u001b[2m│ gzip:  0.66 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/cold-kysely.js                         \u001b[2m 1.36 kB\u001b[22m \u001b[2m│ gzip:  0.48 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/outbox.js                                                      \u001b[2m 1.33 kB\u001b[22m \u001b[2m│ gzip:  0.59 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/orm/orm.js                                                      \u001b[2m 1.33 kB\u001b[22m \u001b[2m│ gzip:  0.60 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/value-comparison.js                                \u001b[2m 1.32 kB\u001b[22m \u001b[2m│ gzip:  0.44 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mutil/import-generator.js.map                                          \u001b[2m 1.30 kB\u001b[22m \u001b[2m│ gzip:  0.61 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/dialect/mysql.js.map                       \u001b[2m 1.28 kB\u001b[22m \u001b[2m│ gzip:  0.59 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/executor.js.map                        \u001b[2m 1.26 kB\u001b[22m \u001b[2m│ gzip:  0.61 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/serialize/create-sql-serializer.js                              \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip:  0.51 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/connection/connection-provider.js.map                      \u001b[2m 1.21 kB\u001b[22m \u001b[2m│ gzip:  0.57 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/dialect/sqlite.js.map                      \u001b[2m 1.20 kB\u001b[22m \u001b[2m│ gzip:  0.55 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/dialect/postgres.js.map                    \u001b[2m 1.19 kB\u001b[22m \u001b[2m│ gzip:  0.54 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/generate-id.js                                                 \u001b[2m 1.14 kB\u001b[22m \u001b[2m│ gzip:  0.56 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/dialect/mysql.js                               \u001b[2m 1.12 kB\u001b[22m \u001b[2m│ gzip:  0.56 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/create-sql-type-mapper.js                      \u001b[2m 1.11 kB\u001b[22m \u001b[2m│ gzip:  0.49 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mwith-database.js                                                      \u001b[2m 1.05 kB\u001b[22m \u001b[2m│ gzip:  0.49 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/type-conversion/dialect/postgres.js                            \u001b[2m 1.04 kB\u001b[22m \u001b[2m│ gzip:  0.50 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/sql-driver.d.ts.map                                        \u001b[2m 1.04 kB\u001b[22m \u001b[2m│ gzip:  0.49 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/sqlite-storage.js.map                            \u001b[2m 0.94 kB\u001b[22m \u001b[2m│ gzip:  0.37 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mfragments/internal-fragment.schema.d.ts.map                           \u001b[2m 0.93 kB\u001b[22m \u001b[2m│ gzip:  0.30 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22minternal/outbox-state.js                                              \u001b[2m 0.93 kB\u001b[22m \u001b[2m│ gzip:  0.39 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/driver-config.d.ts.map                           \u001b[2m 0.89 kB\u001b[22m \u001b[2m│ gzip:  0.46 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/query-executor/default-query-executor.js                   \u001b[2m 0.87 kB\u001b[22m \u001b[2m│ gzip:  0.33 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdispatchers/cloudflare-do/index.d.ts.map                              \u001b[2m 0.84 kB\u001b[22m \u001b[2m│ gzip:  0.43 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/errors.js.map                                      \u001b[2m 0.84 kB\u001b[22m \u001b[2m│ gzip:  0.33 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mutil/parse.js.map                                                     \u001b[2m 0.83 kB\u001b[22m \u001b[2m│ gzip:  0.48 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmod.d.ts.map                                                          \u001b[2m 0.81 kB\u001b[22m \u001b[2m│ gzip:  0.42 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/in-memory-adapter.d.ts.map                         \u001b[2m 0.79 kB\u001b[22m \u001b[2m│ gzip:  0.39 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/generation-engine.d.ts.map                           \u001b[2m 0.76 kB\u001b[22m \u001b[2m│ gzip:  0.38 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/adapters.d.ts.map                                            \u001b[2m 0.76 kB\u001b[22m \u001b[2m│ gzip:  0.42 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/dialect/mysql.js                           \u001b[2m 0.74 kB\u001b[22m \u001b[2m│ gzip:  0.37 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/dialect/sqlite.js                          \u001b[2m 0.71 kB\u001b[22m \u001b[2m│ gzip:  0.36 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/query/dialect/postgres.js                        \u001b[2m 0.71 kB\u001b[22m \u001b[2m│ gzip:  0.35 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/query-executor/query-executor-base.js                      \u001b[2m 0.71 kB\u001b[22m \u001b[2m│ gzip:  0.35 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mwith-database.d.ts.map                                                \u001b[2m 0.71 kB\u001b[22m \u001b[2m│ gzip:  0.38 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/sql-driver-adapter.d.ts.map                                \u001b[2m 0.67 kB\u001b[22m \u001b[2m│ gzip:  0.34 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/connection/single-connection-provider.js                   \u001b[2m 0.65 kB\u001b[22m \u001b[2m│ gzip:  0.31 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mhooks/hooks.d.ts.map                                                  \u001b[2m 0.65 kB\u001b[22m \u001b[2m│ gzip:  0.39 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mutil/import-generator.js                                              \u001b[2m 0.65 kB\u001b[22m \u001b[2m│ gzip:  0.36 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/executor.js                            \u001b[2m 0.63 kB\u001b[22m \u001b[2m│ gzip:  0.35 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/driver/runtime-driver.d.ts.map                             \u001b[2m 0.60 kB\u001b[22m \u001b[2m│ gzip:  0.32 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/cursor.d.ts.map                                                 \u001b[2m 0.60 kB\u001b[22m \u001b[2m│ gzip:  0.33 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/errors.js                                          \u001b[2m 0.57 kB\u001b[22m \u001b[2m│ gzip:  0.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/shared.d.ts.map                                      \u001b[2m 0.52 kB\u001b[22m \u001b[2m│ gzip:  0.30 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/cursor-client.d.ts.map                                          \u001b[2m 0.50 kB\u001b[22m \u001b[2m│ gzip:  0.29 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/unit-of-work/retry-policy.d.ts.map                              \u001b[2m 0.49 kB\u001b[22m \u001b[2m│ gzip:  0.29 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/connection/connection-provider.js                          \u001b[2m 0.48 kB\u001b[22m \u001b[2m│ gzip:  0.25 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/outbox.d.ts.map                                                \u001b[2m 0.48 kB\u001b[22m \u001b[2m│ gzip:  0.28 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/db-now.js.map                                                   \u001b[2m 0.47 kB\u001b[22m \u001b[2m│ gzip:  0.30 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/orm/orm.d.ts.map                                                \u001b[2m 0.45 kB\u001b[22m \u001b[2m│ gzip:  0.28 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mutil/parse.js                                                         \u001b[2m 0.45 kB\u001b[22m \u001b[2m│ gzip:  0.29 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mhooks/durable-hooks-processor.d.ts.map                                \u001b[2m 0.41 kB\u001b[22m \u001b[2m│ gzip:  0.26 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/sqlite-storage.js                                \u001b[2m 0.39 kB\u001b[22m \u001b[2m│ gzip:  0.21 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/prepared-migrations.d.ts.map           \u001b[2m 0.35 kB\u001b[22m \u001b[2m│ gzip:  0.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema-output/prisma.d.ts.map                                         \u001b[2m 0.35 kB\u001b[22m \u001b[2m│ gzip:  0.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/sqlite-storage.d.ts.map                          \u001b[2m 0.35 kB\u001b[22m \u001b[2m│ gzip:  0.24 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/query-executor/query-executor.d.ts.map                     \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip:  0.24 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/connection/connection-provider.d.ts.map                    \u001b[2m 0.31 kB\u001b[22m \u001b[2m│ gzip:  0.20 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema-output/drizzle.d.ts.map                                        \u001b[2m 0.30 kB\u001b[22m \u001b[2m│ gzip:  0.22 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/validator.d.ts.map                                             \u001b[2m 0.27 kB\u001b[22m \u001b[2m│ gzip:  0.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdispatchers/node/index.d.ts.map                                       \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip:  0.20 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/errors.d.ts.map                                    \u001b[2m 0.25 kB\u001b[22m \u001b[2m│ gzip:  0.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/db-now.js                                                       \u001b[2m 0.24 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/in-memory/options.d.ts.map                                   \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mutil/types.d.ts.map                                                   \u001b[2m 0.22 kB\u001b[22m \u001b[2m│ gzip:  0.16 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/auto-from-schema.d.ts.map                            \u001b[2m 0.21 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmigration-engine/shared.js                                            \u001b[2m 0.21 kB\u001b[22m \u001b[2m│ gzip:  0.17 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/dialect-adapter/dialect-adapter.d.ts.map                   \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22msql-driver/query-executor/plugin.d.ts.map                             \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip:  0.17 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mnaming/sql-naming.d.ts.map                                            \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip:  0.16 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mschema/generate-id.d.ts.map                                           \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters/generic-sql/migration/executor.d.ts.map                      \u001b[2m 0.18 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22minternal/adapter-registry.d.ts.map                                    \u001b[2m 0.17 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/db-now.d.ts.map                                                 \u001b[2m 0.17 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mshared/providers.d.ts.map                                             \u001b[2m 0.15 kB\u001b[22m \u001b[2m│ gzip:  0.13 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mquery/unit-of-work/unit-of-work.d.ts\u001b[22m\u001b[39m                                  \u001b[2m29.36 kB\u001b[22m \u001b[2m│ gzip:  6.83 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mschema/create.d.ts\u001b[22m\u001b[39m                                                    \u001b[2m21.09 kB\u001b[22m \u001b[2m│ gzip:  5.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mdb-fragment-definition-builder.d.ts\u001b[22m\u001b[39m                                   \u001b[2m11.20 kB\u001b[22m \u001b[2m│ gzip:  2.79 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mquery/simple-query-interface.d.ts\u001b[22m\u001b[39m                                     \u001b[2m 7.72 kB\u001b[22m \u001b[2m│ gzip:  1.90 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mmod.d.ts\u001b[22m\u001b[39m                                                              \u001b[2m 5.82 kB\u001b[22m \u001b[2m│ gzip:  1.71 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1madapters/generic-sql/driver-config.d.ts\u001b[22m\u001b[39m                               \u001b[2m 4.39 kB\u001b[22m \u001b[2m│ gzip:  1.04 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mquery/cursor.d.ts\u001b[22m\u001b[39m                                                     \u001b[2m 3.79 kB\u001b[22m \u001b[2m│ gzip:  1.39 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1madapters/adapters.d.ts\u001b[22m\u001b[39m                                                \u001b[2m 2.77 kB\u001b[22m \u001b[2m│ gzip:  1.06 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1msql-driver/dialects/durable-object-dialect.d.ts\u001b[22m\u001b[39m                       \u001b[2m 2.19 kB\u001b[22m \u001b[2m│ gzip:  0.93 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mmigration-engine/generation-engine.d.ts\u001b[22m\u001b[39m                               \u001b[2m 2.18 kB\u001b[22m \u001b[2m│ gzip:  0.79 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mdispatchers/cloudflare-do/index.d.ts\u001b[22m\u001b[39m                                  \u001b[2m 1.35 kB\u001b[22m \u001b[2m│ gzip:  0.46 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1msql-driver/sql-driver.d.ts\u001b[22m\u001b[39m                                            \u001b[2m 1.32 kB\u001b[22m \u001b[2m│ gzip:  0.49 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mschema-output/drizzle.d.ts\u001b[22m\u001b[39m                                            \u001b[2m 1.05 kB\u001b[22m \u001b[2m│ gzip:  0.51 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mschema-output/prisma.d.ts\u001b[22m\u001b[39m                                             \u001b[2m 0.72 kB\u001b[22m \u001b[2m│ gzip:  0.35 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mdispatchers/node/index.d.ts\u001b[22m\u001b[39m                                           \u001b[2m 0.64 kB\u001b[22m \u001b[2m│ gzip:  0.30 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mclient.d.ts\u001b[22m\u001b[39m                                                           \u001b[2m 0.58 kB\u001b[22m \u001b[2m│ gzip:  0.24 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1madapters/sql/index.d.ts\u001b[22m\u001b[39m                                               \u001b[2m 0.53 kB\u001b[22m \u001b[2m│ gzip:  0.22 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1madapters/in-memory/index.d.ts\u001b[22m\u001b[39m                                         \u001b[2m 0.44 kB\u001b[22m \u001b[2m│ gzip:  0.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1msql-driver/dialects/dialects.d.ts\u001b[22m\u001b[39m                                     \u001b[2m 0.13 kB\u001b[22m \u001b[2m│ gzip:  0.08 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mid.d.ts\u001b[22m\u001b[39m                                                               \u001b[2m 0.07 kB\u001b[22m \u001b[2m│ gzip:  0.07 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mquery/unit-of-work/execute-unit-of-work.d.ts\u001b[39m                          \u001b[2m26.79 kB\u001b[22m \u001b[2m│ gzip:  4.26 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mfragments/internal-fragment.d.ts\u001b[39m                                      \u001b[2m 9.50 kB\u001b[22m \u001b[2m│ gzip:  1.97 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mhooks/hooks.d.ts\u001b[39m                                                      \u001b[2m 3.15 kB\u001b[22m \u001b[2m│ gzip:  1.27 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters/generic-sql/migration/prepared-migrations.d.ts\u001b[39m               \u001b[2m 2.90 kB\u001b[22m \u001b[2m│ gzip:  0.87 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mfragments/internal-fragment.schema.d.ts\u001b[39m                               \u001b[2m 2.82 kB\u001b[22m \u001b[2m│ gzip:  0.64 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mmigration-engine/shared.d.ts\u001b[39m                                          \u001b[2m 2.79 kB\u001b[22m \u001b[2m│ gzip:  1.00 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mquery/unit-of-work/retry-policy.d.ts\u001b[39m                                  \u001b[2m 2.73 kB\u001b[22m \u001b[2m│ gzip:  0.77 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters/generic-sql/generic-sql-adapter.d.ts\u001b[39m                         \u001b[2m 2.72 kB\u001b[22m \u001b[2m│ gzip:  0.90 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mquery/cursor-client.d.ts\u001b[39m                                              \u001b[2m 2.62 kB\u001b[22m \u001b[2m│ gzip:  1.03 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mquery/condition-builder.d.ts\u001b[39m                                          \u001b[2m 2.39 kB\u001b[22m \u001b[2m│ gzip:  0.77 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mwith-database.d.ts\u001b[39m                                                    \u001b[2m 1.77 kB\u001b[22m \u001b[2m│ gzip:  0.64 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters/in-memory/in-memory-adapter.d.ts\u001b[39m                             \u001b[2m 1.52 kB\u001b[22m \u001b[2m│ gzip:  0.60 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mmigration-engine/auto-from-schema.d.ts\u001b[39m                                \u001b[2m 1.36 kB\u001b[22m \u001b[2m│ gzip:  0.59 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32moutbox/outbox.d.ts\u001b[39m                                                    \u001b[2m 1.29 kB\u001b[22m \u001b[2m│ gzip:  0.48 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32msql-driver/query-executor/query-executor.d.ts\u001b[39m                         \u001b[2m 1.17 kB\u001b[22m \u001b[2m│ gzip:  0.49 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32msql-driver/sql-driver-adapter.d.ts\u001b[39m                                    \u001b[2m 1.08 kB\u001b[22m \u001b[2m│ gzip:  0.49 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32msql-driver/driver/runtime-driver.d.ts\u001b[39m                                 \u001b[2m 0.88 kB\u001b[22m \u001b[2m│ gzip:  0.39 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters/in-memory/options.d.ts\u001b[39m                                       \u001b[2m 0.82 kB\u001b[22m \u001b[2m│ gzip:  0.35 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mnaming/sql-naming.d.ts\u001b[39m                                                \u001b[2m 0.79 kB\u001b[22m \u001b[2m│ gzip:  0.30 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mschema/generate-id.d.ts\u001b[39m                                               \u001b[2m 0.74 kB\u001b[22m \u001b[2m│ gzip:  0.43 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mquery/orm/orm.d.ts\u001b[39m                                                    \u001b[2m 0.63 kB\u001b[22m \u001b[2m│ gzip:  0.35 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mhooks/durable-hooks-processor.d.ts\u001b[39m                                    \u001b[2m 0.62 kB\u001b[22m \u001b[2m│ gzip:  0.32 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters/generic-sql/sqlite-storage.d.ts\u001b[39m                              \u001b[2m 0.53 kB\u001b[22m \u001b[2m│ gzip:  0.26 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32msql-driver/query-executor/plugin.d.ts\u001b[39m                                 \u001b[2m 0.52 kB\u001b[22m \u001b[2m│ gzip:  0.31 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32msql-driver/connection/connection-provider.d.ts\u001b[39m                        \u001b[2m 0.47 kB\u001b[22m \u001b[2m│ gzip:  0.27 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters/in-memory/errors.d.ts\u001b[39m                                        \u001b[2m 0.42 kB\u001b[22m \u001b[2m│ gzip:  0.20 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32minternal/adapter-registry.d.ts\u001b[39m                                        \u001b[2m 0.42 kB\u001b[22m \u001b[2m│ gzip:  0.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mschema/validator.d.ts\u001b[39m                                                 \u001b[2m 0.37 kB\u001b[22m \u001b[2m│ gzip:  0.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters/generic-sql/migration/executor.d.ts\u001b[39m                          \u001b[2m 0.36 kB\u001b[22m \u001b[2m│ gzip:  0.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mshared/providers.d.ts\u001b[39m                                                 \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip:  0.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mutil/types.d.ts\u001b[39m                                                       \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip:  0.21 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32msql-driver/dialect-adapter/dialect-adapter.d.ts\u001b[39m                       \u001b[2m 0.21 kB\u001b[22m \u001b[2m│ gzip:  0.16 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mquery/db-now.d.ts\u001b[39m                                                     \u001b[2m 0.17 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32minternal/outbox-state.d.ts\u001b[39m                                            \u001b[2m 0.06 kB\u001b[22m \u001b[2m│ gzip:  0.06 kB\u001b[22m\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[34mℹ\u001b[39m 289 files, total: 1612.24 kB\r\n\u001b[32m@fragno-dev/db:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m2028ms\u001b[39m\r\n\u001b[35m@fragno-dev/test:types:check: \u001b[0mcache miss, executing \u001b[2m8b17e39601d777c3\u001b[0m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0mcache miss, executing \u001b[2mb9b5f09da3141e89\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0mcache miss, executing \u001b[2m6db7c947b27e4176\u001b[0m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m> @fragno-dev/test@2.0.0 build /home/jan/rejot/fragno/packages/fragno-test\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m> tsdown\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\r\n\u001b[35m@fragno-dev/test:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/test:types:check: \u001b[0m> @fragno-dev/test@2.0.0 types:check /home/jan/rejot/fragno/packages/fragno-test\r\n\u001b[35m@fragno-dev/test:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[35m@fragno-dev/test:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m> @fragno-dev/db@0.3.0 test /home/jan/rejot/fragno/packages/fragno-db\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m> vitest run\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/fragno-test/tsdown.config.ts\u001b[24m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts\u001b[39m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 29 files\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/fragno-db\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mindex.js\u001b[22m                        \u001b[2m 1.18 kB\u001b[22m \u001b[2m│ gzip: 0.53 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker.js.map            \u001b[2m33.95 kB\u001b[22m \u001b[2m│ gzip: 8.23 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker-actors.js.map     \u001b[2m28.86 kB\u001b[22m \u001b[2m│ gzip: 7.01 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdb-test.js.map                  \u001b[2m26.07 kB\u001b[22m \u001b[2m│ gzip: 6.44 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters.js.map                 \u001b[2m24.64 kB\u001b[22m \u001b[2m│ gzip: 4.56 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker.js                \u001b[2m14.08 kB\u001b[22m \u001b[2m│ gzip: 3.89 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker-actors.js         \u001b[2m12.86 kB\u001b[22m \u001b[2m│ gzip: 3.30 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters.js                     \u001b[2m11.16 kB\u001b[22m \u001b[2m│ gzip: 2.04 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker-adapter.js.map    \u001b[2m 9.08 kB\u001b[22m \u001b[2m│ gzip: 2.62 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdb-test.js                      \u001b[2m 8.59 kB\u001b[22m \u001b[2m│ gzip: 2.53 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker.d.ts.map          \u001b[2m 4.84 kB\u001b[22m \u001b[2m│ gzip: 1.89 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker-adapter.js        \u001b[2m 3.98 kB\u001b[22m \u001b[2m│ gzip: 1.18 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindex.js.map                    \u001b[2m 3.55 kB\u001b[22m \u001b[2m│ gzip: 1.22 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdb-test.d.ts.map                \u001b[2m 3.07 kB\u001b[22m \u001b[2m│ gzip: 1.42 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker-actors.d.ts.map   \u001b[2m 1.58 kB\u001b[22m \u001b[2m│ gzip: 0.71 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmodel-checker-adapter.d.ts.map  \u001b[2m 1.07 kB\u001b[22m \u001b[2m│ gzip: 0.53 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22madapters.d.ts.map               \u001b[2m 0.71 kB\u001b[22m \u001b[2m│ gzip: 0.39 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdurable-hooks.js.map            \u001b[2m 0.68 kB\u001b[22m \u001b[2m│ gzip: 0.38 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindex.d.ts.map                  \u001b[2m 0.57 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdurable-hooks.js                \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip: 0.22 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mdurable-hooks.d.ts.map          \u001b[2m 0.15 kB\u001b[22m \u001b[2m│ gzip: 0.14 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m                      \u001b[2m 3.42 kB\u001b[22m \u001b[2m│ gzip: 1.01 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mdb-test.d.ts\u001b[39m                    \u001b[2m 6.43 kB\u001b[22m \u001b[2m│ gzip: 1.75 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mmodel-checker.d.ts\u001b[39m              \u001b[2m 5.67 kB\u001b[22m \u001b[2m│ gzip: 1.37 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mmodel-checker-actors.d.ts\u001b[39m       \u001b[2m 2.04 kB\u001b[22m \u001b[2m│ gzip: 0.63 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mmodel-checker-adapter.d.ts\u001b[39m      \u001b[2m 1.79 kB\u001b[22m \u001b[2m│ gzip: 0.68 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32madapters.d.ts\u001b[39m                   \u001b[2m 1.62 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mdurable-hooks.d.ts\u001b[39m              \u001b[2m 0.28 kB\u001b[22m \u001b[2m│ gzip: 0.19 kB\u001b[22m\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[34mℹ\u001b[39m 28 files, total: 212.28 kB\r\n\u001b[34m@fragno-dev/test:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m1979ms\u001b[39m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0mcache miss, executing \u001b[2m46c98d7380a4f221\u001b[0m\r\n\u001b[34m@fragno-dev/forms:types:check: \u001b[0mcache miss, executing \u001b[2m377ac0d8a49290a8\u001b[0m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0mcache miss, executing \u001b[2m4c838151074b5c33\u001b[0m\r\n\u001b[36m@fragno-dev/workflows:types:check: \u001b[0mcache miss, executing \u001b[2m9d6b86d6bc4b2921\u001b[0m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0mcache miss, executing \u001b[2mfa8afbd36578e3ca\u001b[0m\r\n\u001b[33m@fragno-dev/stripe:types:check: \u001b[0mcache miss, executing \u001b[2m40a703e1ec89cff2\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0mcache miss, executing \u001b[2m407cdff6f64616d8\u001b[0m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0mcache miss, executing \u001b[2mb1a80aac48875e20\u001b[0m\r\n\u001b[36m@fragno-dev/workflows:types:check: \u001b[0m\r\n\u001b[36m@fragno-dev/workflows:types:check: \u001b[0m> @fragno-dev/workflows@0.0.1 types:check /home/jan/rejot/fragno/packages/fragment-workflows\r\n\u001b[36m@fragno-dev/workflows:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[36m@fragno-dev/workflows:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m> @fragno-dev/stripe@2.0.0 build /home/jan/rejot/fragno/packages/stripe\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m> tsdown\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m> @fragno-dev/forms@0.1.0 build /home/jan/rejot/fragno/packages/forms\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m> tsdown\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m> @fragno-dev/fragno-db-library@ build /home/jan/rejot/fragno/example-fragments/fragno-db-library\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m> tsdown\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\r\n\u001b[34m@fragno-dev/forms:types:check: \u001b[0m\r\n\u001b[34m@fragno-dev/forms:types:check: \u001b[0m> @fragno-dev/forms@0.1.0 types:check /home/jan/rejot/fragno/packages/forms\r\n\u001b[34m@fragno-dev/forms:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[34m@fragno-dev/forms:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/stripe:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/stripe:types:check: \u001b[0m> @fragno-dev/stripe@2.0.0 types:check /home/jan/rejot/fragno/packages/stripe\r\n\u001b[33m@fragno-dev/stripe:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[33m@fragno-dev/stripe:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m> @fragno-dev/workflows@0.0.1 build /home/jan/rejot/fragno/packages/fragment-workflows\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m> tsdown\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m> @fragno-dev/test@2.0.0 test /home/jan/rejot/fragno/packages/fragno-test\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m> vitest run\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.11.13\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.9\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.11.13\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.9\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/example-fragments/fragno-db-library/tsdown.config.ts\u001b[24m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/mod.ts, src/upvote.ts, src/schema/mod.ts\u001b[39m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 20 files\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0mrollup\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/forms/tsdown.config.ts\u001b[24m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0mrollup\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/stripe/tsdown.config.ts\u001b[24m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts\u001b[39m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts, src/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 30 files\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts\u001b[39m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts, src/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 30 files\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0mrollup\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/fragment-workflows/tsdown.config.ts\u001b[24m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts, src/test.ts, src/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 192 files\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/migration/dialect/sqlite.test.ts (50 tests) 179ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/fragno-test\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/unit-of-work/execute-unit-of-work.test.ts (47 tests) 398ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/drizzle/migrate-drizzle.test.ts (1 test) 1553ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/fragments/internal-fragment.test.ts (25 tests) 650ms\r\n\u001b[36m@fragno-dev/otp-fragment:types:check: \u001b[0mcache miss, executing \u001b[2m2474a2ac88390222\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/db-fragment-integration.test.ts (12 tests) 637ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/sql-adapter-sqlite3-uow.test.ts (11 tests) 872ms\r\n\u001b[36m@fragno-dev/otp-fragment:types:check: \u001b[0m\r\n\u001b[36m@fragno-dev/otp-fragment:types:check: \u001b[0m> @fragno-dev/otp-fragment@0.0.8 types:check /home/jan/rejot/fragno/example-fragments/otp-fragment\r\n\u001b[36m@fragno-dev/otp-fragment:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[36m@fragno-dev/otp-fragment:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0mcache miss, executing \u001b[2m145e7cee0b657ba0\u001b[0m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0mcache miss, executing \u001b[2m421ad0bde0ee0576\u001b[0m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mmod.js\u001b[22m                     \u001b[2m 2.71 kB\u001b[22m \u001b[2m│ gzip: 1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mupvote.js\u001b[22m                  \u001b[2m 2.41 kB\u001b[22m \u001b[2m│ gzip: 0.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mschema/mod.js\u001b[22m              \u001b[2m 0.16 kB\u001b[22m \u001b[2m│ gzip: 0.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmod.js.map                 \u001b[2m 5.76 kB\u001b[22m \u001b[2m│ gzip: 1.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mupvote.js.map              \u001b[2m 5.24 kB\u001b[22m \u001b[2m│ gzip: 1.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcomment-kdO31P5N.js.map    \u001b[2m 1.76 kB\u001b[22m \u001b[2m│ gzip: 0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mupvote-BaJXsCcK.js.map     \u001b[2m 1.68 kB\u001b[22m \u001b[2m│ gzip: 0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mmod.d.ts.map               \u001b[2m 1.19 kB\u001b[22m \u001b[2m│ gzip: 0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcomment-kdO31P5N.js        \u001b[2m 0.93 kB\u001b[22m \u001b[2m│ gzip: 0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mupvote-BaJXsCcK.js         \u001b[2m 0.89 kB\u001b[22m \u001b[2m│ gzip: 0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mupvote-CSZGeZXz.d.ts.map   \u001b[2m 0.84 kB\u001b[22m \u001b[2m│ gzip: 0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mupvote.d.ts.map            \u001b[2m 0.70 kB\u001b[22m \u001b[2m│ gzip: 0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcomment-B2c7dw6n.d.ts.map  \u001b[2m 0.17 kB\u001b[22m \u001b[2m│ gzip: 0.15 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mmod.d.ts\u001b[22m\u001b[39m                   \u001b[2m10.63 kB\u001b[22m \u001b[2m│ gzip: 1.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mupvote.d.ts\u001b[22m\u001b[39m                \u001b[2m 6.93 kB\u001b[22m \u001b[2m│ gzip: 1.13 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mschema/mod.d.ts\u001b[22m\u001b[39m            \u001b[2m 0.16 kB\u001b[22m \u001b[2m│ gzip: 0.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mcomment-B2c7dw6n.d.ts\u001b[39m      \u001b[2m 2.77 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mupvote-CSZGeZXz.d.ts\u001b[39m       \u001b[2m 2.26 kB\u001b[22m \u001b[2m│ gzip: 0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[34mℹ\u001b[39m 18 files, total: 47.19 kB\r\n\u001b[33m@fragno-dev/fragno-db-library:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m6580ms\u001b[39m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m ✓ src/model-checker.test.ts (9 tests) 103ms\r\n\u001b[36m@fragno-dev/fragno-db-library:types:check: \u001b[0mcache miss, executing \u001b[2md5e51cdd9c3211e3\u001b[0m\r\n\u001b[34m@fragno-dev/lofi:types:check: \u001b[0mcache miss, executing \u001b[2m1d2f2f2001e326a7\u001b[0m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m ✓ src/model-checker-actors.test.ts (1 test) 37ms\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m> @fragno-dev/corpus@0.0.7 build /home/jan/rejot/fragno/packages/corpus\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m> tsdown\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m> @fragno-dev/otp-fragment@0.0.8 build /home/jan/rejot/fragno/example-fragments/otp-fragment\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m> tsdown\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/example-fragments/otp-fragment/tsdown.config.ts\u001b[24m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts\u001b[39m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m target: \u001b[34mes2022\u001b[39m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 5 files\r\n\u001b[36m@fragno-dev/fragno-db-library:types:check: \u001b[0m\r\n\u001b[36m@fragno-dev/fragno-db-library:types:check: \u001b[0m> @fragno-dev/fragno-db-library@ types:check /home/jan/rejot/fragno/example-fragments/fragno-db-library\r\n\u001b[36m@fragno-dev/fragno-db-library:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[36m@fragno-dev/fragno-db-library:types:check: \u001b[0m\r\n\u001b[34m@fragno-dev/lofi:types:check: \u001b[0m\r\n\u001b[34m@fragno-dev/lofi:types:check: \u001b[0m> @fragno-dev/lofi@0.0.0 types:check /home/jan/rejot/fragno/packages/lofi\r\n\u001b[34m@fragno-dev/lofi:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[34m@fragno-dev/lofi:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/corpus/tsdown.config.ts\u001b[24m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts\u001b[39m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 14 files\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/drizzle/migration-parity-drizzle-kit.test.ts (3 tests) 5769ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ drizzle-kit migrations match generic SQL DDL > matches DDL for postgresql  1579ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ drizzle-kit migrations match generic SQL DDL > matches DDL for sqlite  935ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ drizzle-kit migrations match generic SQL DDL > matches DDL for mysql  3252ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m ✓ src/db-test.test.ts (7 tests) 1099ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ buildDatabaseFragmentsTest > should create multiple fragments with shared adapter  538ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/hooks/hooks.test.ts (13 tests) 889ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/sql-adapter-sqlite3-driver.test.ts (11 tests) 190ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m ✓ src/adapter-conformance.test.ts (9 tests) 1640ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ adapter conformance (kysely-sqlite) > enforces optimistic checks and version bumps  494ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ adapter conformance (kysely-sqlite) > paginates with cursors on ordered indexes  302ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ adapter conformance (kysely-sqlite instrumentation) > invokes instrumentation hooks in order  313ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/sql-adapter-pglite-migrations.test.ts (12 tests) 5767ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ SqlAdapter PGLite > should run migrations and basic queries  379ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ SqlAdapter PGLite > should support cursor-based pagination with findWithCursor()  467ms\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0mcache miss, executing \u001b[2m9a6ef702bf1bfa8f\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/prisma/prisma-adapter-sqlite3.test.ts (23 tests) 311ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0mstdout | src/sql-driver/sqlocal.test.ts > SQLocal > should create a new SQLocal instance\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m{ rows: [ { \u001b[32m'5'\u001b[39m: \u001b[33m5\u001b[39m } ] }\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0mstderr | src/sql-driver/sqlocal.test.ts > SQLocal > should rollback transaction on error\r\n\u001b[33m@fragno-dev/db:test: \u001b[0msqlite3_step() rc= \u001b[33m1555\u001b[39m SQLITE_CONSTRAINT_PRIMARYKEY SQL = INSERT INTO test VALUES (1, 'Charlie')\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/sql-driver/sqlocal.test.ts (5 tests) 457ms\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m> @fragno-dev/fragno-db-library@ test /home/jan/rejot/fragno/example-fragments/fragno-db-library\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m> vitest run\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/sql-adapter-pglite-queries.test.ts (11 tests) 7241ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/sql-adapter-pglite-pagination.test.ts (13 tests) 7543ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ SqlAdapter PGLite > should execute Unit of Work with version checking  469ms\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mindex.js\u001b[22m        \u001b[2m 8.88 kB\u001b[22m \u001b[2m│ gzip: 3.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindex.js.map    \u001b[2m18.99 kB\u001b[22m \u001b[2m│ gzip: 5.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindex.d.ts.map  \u001b[2m 0.91 kB\u001b[22m \u001b[2m│ gzip: 0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m      \u001b[2m 2.98 kB\u001b[22m \u001b[2m│ gzip: 1.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 31.76 kB\r\n\u001b[33m@fragno-dev/corpus:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m4640ms\u001b[39m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/sql-adapter-sqlocal.test.ts (2 tests) 584ms\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0mcache miss, executing \u001b[2ma09a0d8a1557f57e\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/migration/dialect/mysql.test.ts (45 tests) 234ms\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/example-fragments/fragno-db-library\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m> @fragno-dev/lofi@0.0.0 build /home/jan/rejot/fragno/packages/lofi\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m> tsdown\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/outbox/outbox.test.ts (6 tests) 9348ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ Fragno DB Outbox > does not write outbox entries when disabled  580ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ Fragno DB Outbox > adapter opt-in ({ type: 'kysely-pglite' }) > writes outbox rows only when enabled  8179ms\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/lofi/tsdown.config.ts\u001b[24m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/mod.ts, src/cli/index.ts\u001b[39m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 44 files\r\n\u001b[34m@fragno-dev/cli:types:check: \u001b[0mcache miss, executing \u001b[2mdb69a05df28312df\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/unit-of-work/unit-of-work-coordinator.test.ts (14 tests) 228ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/unit-of-work/unit-of-work.test.ts (64 tests) 284ms\r\n\u001b[34m@fragno-dev/cli:types:check: \u001b[0m\r\n\u001b[34m@fragno-dev/cli:types:check: \u001b[0m> @fragno-dev/cli@0.2.1 types:check /home/jan/rejot/fragno/apps/fragno-cli\r\n\u001b[34m@fragno-dev/cli:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[34m@fragno-dev/cli:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/migration/prepared-migrations.test.ts (28 tests) 251ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/migration/dialect/postgres.test.ts (44 tests) 305ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/query/generic-sql-uow-operation-compiler.test.ts (57 tests) 377ms\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mindex.js\u001b[22m        \u001b[2m 8.43 kB\u001b[22m \u001b[2m│ gzip: 2.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindex.js.map    \u001b[2m18.54 kB\u001b[22m \u001b[2m│ gzip: 4.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindex.d.ts.map  \u001b[2m12.82 kB\u001b[22m \u001b[2m│ gzip: 2.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m      \u001b[2m20.64 kB\u001b[22m \u001b[2m│ gzip: 1.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 60.43 kB\r\n\u001b[33m@fragno-dev/otp-fragment:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m8565ms\u001b[39m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m ✓ src/index.test.ts (12 tests) 7650ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ buildDatabaseFragmentsTest > should create and use a database fragment  594ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ buildDatabaseFragmentsTest > should expose db property for direct ORM queries  392ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ multi-fragment tests > should allow multiple fragments to share the same database adapter - Kysely PGLite  4100ms\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   ✓ multi-fragment tests > should allow multiple fragments to share the same database adapter - Drizzle PGLite  2099ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/migration-engine/generation-engine.test.ts (24 tests) 552ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/fragments/internal-fragment.routes.test.ts (4 tests) 203ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/hooks/durable-hooks-processor.test.ts (2 tests) 330ms\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0mcache miss, executing \u001b[2m8df8311a443252eb\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/generic-sql-adapter.test.ts (1 test) 506ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   ✓ SqlAdapter > Should be able to query using SqlAdapter  504ms\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mindex.js\u001b[22m        \u001b[2m14.04 kB\u001b[22m \u001b[2m│ gzip: 3.53 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.js.map    \u001b[2m32.20 kB\u001b[22m \u001b[2m│ gzip: 7.41 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.d.ts.map  \u001b[2m17.23 kB\u001b[22m \u001b[2m│ gzip: 2.52 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m      \u001b[2m59.01 kB\u001b[22m \u001b[2m│ gzip: 3.64 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 122.49 kB\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m17000ms\u001b[39m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/solid.js\u001b[22m          \u001b[2m  3.39 kB\u001b[22m \u001b[2m│ gzip:  1.12 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vanilla.js\u001b[22m        \u001b[2m  3.38 kB\u001b[22m \u001b[2m│ gzip:  1.11 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vue.js\u001b[22m            \u001b[2m  3.36 kB\u001b[22m \u001b[2m│ gzip:  1.08 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/svelte.js\u001b[22m         \u001b[2m  3.30 kB\u001b[22m \u001b[2m│ gzip:  0.96 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/react.js\u001b[22m          \u001b[2m  2.66 kB\u001b[22m \u001b[2m│ gzip:  0.98 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mindex.js\u001b[22m                 \u001b[2m  0.18 kB\u001b[22m \u001b[2m│ gzip:  0.11 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-CslBjs_N.js.map      \u001b[2m151.93 kB\u001b[22m \u001b[2m│ gzip: 38.72 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-CslBjs_N.js          \u001b[2m 66.64 kB\u001b[22m \u001b[2m│ gzip: 16.67 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mindex.d.ts.map           \u001b[2m 17.23 kB\u001b[22m \u001b[2m│ gzip:  2.52 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.js.map        \u001b[2m  7.36 kB\u001b[22m \u001b[2m│ gzip:  2.32 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.js.map      \u001b[2m  7.33 kB\u001b[22m \u001b[2m│ gzip:  2.35 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.js.map     \u001b[2m  7.28 kB\u001b[22m \u001b[2m│ gzip:  2.11 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.js.map    \u001b[2m  7.11 kB\u001b[22m \u001b[2m│ gzip:  2.23 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.js.map      \u001b[2m  6.34 kB\u001b[22m \u001b[2m│ gzip:  2.21 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.d.ts.map  \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.d.ts.map   \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.d.ts.map    \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.d.ts.map    \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.d.ts.map      \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m               \u001b[2m 59.96 kB\u001b[22m \u001b[2m│ gzip:  3.67 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vanilla.d.ts\u001b[22m\u001b[39m      \u001b[2m  9.24 kB\u001b[22m \u001b[2m│ gzip:  0.98 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/svelte.d.ts\u001b[22m\u001b[39m       \u001b[2m  9.19 kB\u001b[22m \u001b[2m│ gzip:  0.98 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/solid.d.ts\u001b[22m\u001b[39m        \u001b[2m  8.95 kB\u001b[22m \u001b[2m│ gzip:  0.97 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/react.d.ts\u001b[22m\u001b[39m        \u001b[2m  8.95 kB\u001b[22m \u001b[2m│ gzip:  0.97 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vue.d.ts\u001b[22m\u001b[39m          \u001b[2m  8.45 kB\u001b[22m \u001b[2m│ gzip:  0.95 kB\u001b[22m\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[34mℹ\u001b[39m 25 files, total: 393.50 kB\r\n\u001b[32m@fragno-dev/forms:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m17202ms\u001b[39m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m Test Files  5 passed (5)\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m      Tests  38 passed (38)\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   Start at  11:58:52\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m   Duration  16.10s (transform 6.02s, setup 0ms, collect 29.85s, tests 10.53s, environment 1ms, prepare 1.43s)\r\n\u001b[36m@fragno-dev/test:test: \u001b[0m\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0mcache miss, executing \u001b[2m9736da92fa02f314\u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0mcache miss, executing \u001b[2me373b6f0983ba81a\u001b[0m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m> @fragno-dev/cli@0.2.1 build /home/jan/rejot/fragno/apps/fragno-cli\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m> tsdown\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m> @fragno-dev/corpus@0.0.7 test /home/jan/rejot/fragno/packages/corpus\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m> vitest run\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m> @fragno-dev/forms@0.1.0 test /home/jan/rejot/fragno/packages/forms\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m> vitest run\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/schema/create.test.ts (33 tests) 160ms\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/apps/fragno-cli/tsdown.config.ts\u001b[24m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/cli.ts\u001b[39m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m target: \u001b[34mnode22.0.0\u001b[39m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 5 files\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/outbox.test.ts (3 tests) 92ms\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mindex.js\u001b[22m        \u001b[2m35.76 kB\u001b[22m \u001b[2m│ gzip:  7.62 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.js.map    \u001b[2m74.47 kB\u001b[22m \u001b[2m│ gzip: 15.47 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.d.ts.map  \u001b[2m12.67 kB\u001b[22m \u001b[2m│ gzip:  2.20 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m      \u001b[2m37.92 kB\u001b[22m \u001b[2m│ gzip:  4.98 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 160.83 kB\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m18180ms\u001b[39m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/solid.js\u001b[22m          \u001b[2m  3.42 kB\u001b[22m \u001b[2m│ gzip:  1.13 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vanilla.js\u001b[22m        \u001b[2m  3.42 kB\u001b[22m \u001b[2m│ gzip:  1.12 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vue.js\u001b[22m            \u001b[2m  3.40 kB\u001b[22m \u001b[2m│ gzip:  1.09 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/svelte.js\u001b[22m         \u001b[2m  3.34 kB\u001b[22m \u001b[2m│ gzip:  0.97 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/react.js\u001b[22m          \u001b[2m  2.70 kB\u001b[22m \u001b[2m│ gzip:  0.99 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mindex.js\u001b[22m                 \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip:  0.11 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-ChfZoi2R.js.map      \u001b[2m174.75 kB\u001b[22m \u001b[2m│ gzip: 42.59 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-ChfZoi2R.js          \u001b[2m 71.76 kB\u001b[22m \u001b[2m│ gzip: 17.66 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mindex.d.ts.map           \u001b[2m 12.70 kB\u001b[22m \u001b[2m│ gzip:  2.19 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.js.map        \u001b[2m  7.40 kB\u001b[22m \u001b[2m│ gzip:  2.32 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.js.map      \u001b[2m  7.37 kB\u001b[22m \u001b[2m│ gzip:  2.36 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.js.map     \u001b[2m  7.33 kB\u001b[22m \u001b[2m│ gzip:  2.12 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.js.map    \u001b[2m  7.15 kB\u001b[22m \u001b[2m│ gzip:  2.24 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.js.map      \u001b[2m  6.39 kB\u001b[22m \u001b[2m│ gzip:  2.23 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.d.ts.map  \u001b[2m  0.27 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.d.ts.map   \u001b[2m  0.27 kB\u001b[22m \u001b[2m│ gzip:  0.19 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.d.ts.map    \u001b[2m  0.27 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.d.ts.map    \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.d.ts.map      \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m               \u001b[2m 38.80 kB\u001b[22m \u001b[2m│ gzip:  4.98 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vanilla.d.ts\u001b[22m\u001b[39m      \u001b[2m  8.57 kB\u001b[22m \u001b[2m│ gzip:  1.67 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vue.d.ts\u001b[22m\u001b[39m          \u001b[2m  8.47 kB\u001b[22m \u001b[2m│ gzip:  1.66 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/svelte.d.ts\u001b[22m\u001b[39m       \u001b[2m  8.32 kB\u001b[22m \u001b[2m│ gzip:  1.65 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/react.d.ts\u001b[22m\u001b[39m        \u001b[2m  8.30 kB\u001b[22m \u001b[2m│ gzip:  1.65 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/solid.d.ts\u001b[22m\u001b[39m        \u001b[2m  7.89 kB\u001b[22m \u001b[2m│ gzip:  1.63 kB\u001b[22m\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[34mℹ\u001b[39m 25 files, total: 392.99 kB\r\n\u001b[35m@fragno-dev/stripe:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m18473ms\u001b[39m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/query/sql-query-compiler.test.ts (10 tests) 134ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/corpus\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/query/where-builder.test.ts (37 tests) 63ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/migration-engine/create.test.ts (20 tests) 74ms\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mcache miss, executing \u001b[2md93ed9dfd927e201\u001b[0m\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m⊘ Skipped drizzle-adapter (no test directives found)\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m✓ Generated 8 test file(s) in /home/jan/rejot/fragno/packages/corpus/corpus-tests\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli/index.d.ts\u001b[24m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli/index.js\u001b[24m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mcli/index.js\u001b[22m                \u001b[2m 6.31 kB\u001b[22m \u001b[2m│ gzip:  2.25 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mmod.js\u001b[22m                      \u001b[2m 0.46 kB\u001b[22m \u001b[2m│ gzip:  0.19 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/engine.js.map         \u001b[2m52.67 kB\u001b[22m \u001b[2m│ gzip: 12.20 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindexeddb/adapter.js.map    \u001b[2m30.02 kB\u001b[22m \u001b[2m│ gzip:  7.54 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/engine.js             \u001b[2m24.98 kB\u001b[22m \u001b[2m│ gzip:  5.86 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindexeddb/adapter.js        \u001b[2m13.43 kB\u001b[22m \u001b[2m│ gzip:  3.61 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mclient/client.js.map        \u001b[2m12.91 kB\u001b[22m \u001b[2m│ gzip:  3.60 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcli/index.js.map            \u001b[2m11.57 kB\u001b[22m \u001b[2m│ gzip:  3.74 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mclient/client.js            \u001b[2m 6.45 kB\u001b[22m \u001b[2m│ gzip:  1.86 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/conditions.js.map     \u001b[2m 5.32 kB\u001b[22m \u001b[2m│ gzip:  1.58 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/normalize.js.map      \u001b[2m 2.86 kB\u001b[22m \u001b[2m│ gzip:  1.02 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/refs.js.map          \u001b[2m 2.47 kB\u001b[22m \u001b[2m│ gzip:  0.95 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/conditions.js         \u001b[2m 1.88 kB\u001b[22m \u001b[2m│ gzip:  0.69 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/uow.js.map           \u001b[2m 1.70 kB\u001b[22m \u001b[2m│ gzip:  0.65 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mquery/normalize.js          \u001b[2m 1.46 kB\u001b[22m \u001b[2m│ gzip:  0.57 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/decode.js.map        \u001b[2m 1.37 kB\u001b[22m \u001b[2m│ gzip:  0.67 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mtypes.d.ts.map              \u001b[2m 1.20 kB\u001b[22m \u001b[2m│ gzip:  0.53 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/refs.js              \u001b[2m 1.17 kB\u001b[22m \u001b[2m│ gzip:  0.50 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/uow.js               \u001b[2m 0.82 kB\u001b[22m \u001b[2m│ gzip:  0.34 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/decode.js            \u001b[2m 0.71 kB\u001b[22m \u001b[2m│ gzip:  0.38 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mindexeddb/adapter.d.ts.map  \u001b[2m 0.49 kB\u001b[22m \u001b[2m│ gzip:  0.29 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mclient/client.d.ts.map      \u001b[2m 0.31 kB\u001b[22m \u001b[2m│ gzip:  0.21 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/index.js             \u001b[2m 0.17 kB\u001b[22m \u001b[2m│ gzip:  0.13 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/uow.d.ts.map         \u001b[2m 0.16 kB\u001b[22m \u001b[2m│ gzip:  0.15 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/refs.d.ts.map        \u001b[2m 0.15 kB\u001b[22m \u001b[2m│ gzip:  0.14 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22moutbox/decode.d.ts.map      \u001b[2m 0.14 kB\u001b[22m \u001b[2m│ gzip:  0.13 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcli/index.d.ts.map          \u001b[2m 0.14 kB\u001b[22m \u001b[2m│ gzip:  0.13 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mclient/index.js             \u001b[2m 0.06 kB\u001b[22m \u001b[2m│ gzip:  0.07 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mmod.d.ts\u001b[22m\u001b[39m                    \u001b[2m 0.88 kB\u001b[22m \u001b[2m│ gzip:  0.30 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mcli/index.d.ts\u001b[22m\u001b[39m              \u001b[2m 0.15 kB\u001b[22m \u001b[2m│ gzip:  0.14 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mtypes.d.ts\u001b[39m                  \u001b[2m 2.11 kB\u001b[22m \u001b[2m│ gzip:  0.74 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mindexeddb/adapter.d.ts\u001b[39m      \u001b[2m 1.22 kB\u001b[22m \u001b[2m│ gzip:  0.52 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mclient/client.d.ts\u001b[39m          \u001b[2m 0.91 kB\u001b[22m \u001b[2m│ gzip:  0.40 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32moutbox/uow.d.ts\u001b[39m             \u001b[2m 0.43 kB\u001b[22m \u001b[2m│ gzip:  0.24 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32moutbox/decode.d.ts\u001b[39m          \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip:  0.17 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32moutbox/refs.d.ts\u001b[39m            \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip:  0.17 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32moutbox/index.d.ts\u001b[39m           \u001b[2m 0.16 kB\u001b[22m \u001b[2m│ gzip:  0.12 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32mclient/index.d.ts\u001b[39m           \u001b[2m 0.04 kB\u001b[22m \u001b[2m│ gzip:  0.06 kB\u001b[22m\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[34mℹ\u001b[39m 38 files, total: 187.71 kB\r\n\u001b[32m@fragno-dev/lofi:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m4244ms\u001b[39m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/value-decoding.test.ts (29 tests) 113ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/db-fragment-instantiator.test.ts (20 tests) 306ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/cursor.test.ts (29 tests) 190ms\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0mcache miss, executing \u001b[2m55774d8a873c3486\u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m> @fragno-dev/stripe@2.0.0 test /home/jan/rejot/fragno/packages/stripe\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m> vitest run\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/forms\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/schema/validator.test.ts (12 tests) 140ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ src/parser.test.ts (6 tests) 60ms\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m> @fragno-dev/lofi@0.0.0 test /home/jan/rejot/fragno/packages/lofi\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m> vitest run\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ src/subject-tree.test.ts (25 tests) 43ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ src/index.test.ts (11 tests) 82ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/schema-output/drizzle.test.ts (19 tests) 264ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/migration-engine/auto-from-schema.test.ts (13 tests) 70ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/in-memory-uow.mutations.test.ts (6 tests) 72ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/migration/adapter-migration-parity.test.ts (3 tests) 151ms\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m ✓ src/mod.test.ts (1 test) 449ms\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m   ✓ comment-fragment > should run queries  436ms\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1msvelte.js\u001b[22m                                                                                                                     \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1mvanilla.js\u001b[22m                                                                                                                    \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1mreact.js\u001b[22m                                                                                                                      \u001b[2m 0.33 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1msolid.js\u001b[22m                                                                                                                      \u001b[2m 0.33 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1mvue.js\u001b[22m                                                                                                                        \u001b[2m 0.33 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.js.map                                                                                     \u001b[2m33.91 kB\u001b[22m \u001b[2m│ gzip: 8.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_query@0.3.4_nanostores@1.1.0/node_modules/@nanostores/query/dist/nanoquery.js.map              \u001b[2m24.91 kB\u001b[22m \u001b[2m│ gzip: 7.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.js                                                                                         \u001b[2m18.67 kB\u001b[22m \u001b[2m│ gzip: 4.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-workflows/src/workflow.js.map                                                                               \u001b[2m16.25 kB\u001b[22m \u001b[2m│ gzip: 4.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mroutes.js.map                                                                                                                 \u001b[2m14.57 kB\u001b[22m \u001b[2m│ gzip: 3.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_query@0.3.4_nanostores@1.1.0/node_modules/@nanostores/query/dist/nanoquery.js                  \u001b[2m12.19 kB\u001b[22m \u001b[2m│ gzip: 3.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/ndjson-streaming.js.map                                                                  \u001b[2m 9.00 kB\u001b[22m \u001b[2m│ gzip: 2.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-input-context.js.map                                                                         \u001b[2m 8.29 kB\u001b[22m \u001b[2m│ gzip: 2.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mclients.js.map                                                                                                                \u001b[2m 7.77 kB\u001b[22m \u001b[2m│ gzip: 1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/lifecycle/index.js.map                                            \u001b[2m 7.15 kB\u001b[22m \u001b[2m│ gzip: 2.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mroutes.js                                                                                                                     \u001b[2m 6.92 kB\u001b[22m \u001b[2m│ gzip: 1.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vue.js.map                                                                                        \u001b[2m 6.73 kB\u001b[22m \u001b[2m│ gzip: 2.14 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.svelte.js.map                                                                              \u001b[2m 6.68 kB\u001b[22m \u001b[2m│ gzip: 1.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-output-context.js.map                                                                        \u001b[2m 6.48 kB\u001b[22m \u001b[2m│ gzip: 1.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/solid.js.map                                                                                      \u001b[2m 5.84 kB\u001b[22m \u001b[2m│ gzip: 1.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client-error.js.map                                                                               \u001b[2m 5.39 kB\u001b[22m \u001b[2m│ gzip: 1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-input-context.js                                                                             \u001b[2m 5.36 kB\u001b[22m \u001b[2m│ gzip: 1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/ndjson-streaming.js                                                                      \u001b[2m 4.97 kB\u001b[22m \u001b[2m│ gzip: 1.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/react.js.map                                                                                      \u001b[2m 4.88 kB\u001b[22m \u001b[2m│ gzip: 1.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vanilla.js.map                                                                                    \u001b[2m 4.46 kB\u001b[22m \u001b[2m│ gzip: 1.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mclients.js                                                                                                                    \u001b[2m 4.15 kB\u001b[22m \u001b[2m│ gzip: 0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/atom/index.js.map                                                 \u001b[2m 4.00 kB\u001b[22m \u001b[2m│ gzip: 1.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/path.js.map                                                                                 \u001b[2m 3.96 kB\u001b[22m \u001b[2m│ gzip: 1.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/response-stream.js.map                                                                      \u001b[2m 3.60 kB\u001b[22m \u001b[2m│ gzip: 1.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-output-context.js                                                                            \u001b[2m 3.38 kB\u001b[22m \u001b[2m│ gzip: 1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vue.js                                                                                            \u001b[2m 3.35 kB\u001b[22m \u001b[2m│ gzip: 1.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.svelte.js                                                                                  \u001b[2m 3.27 kB\u001b[22m \u001b[2m│ gzip: 0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client-error.js                                                                                   \u001b[2m 3.19 kB\u001b[22m \u001b[2m│ gzip: 0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/solid.js                                                                                          \u001b[2m 3.10 kB\u001b[22m \u001b[2m│ gzip: 0.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/content-type.js.map                                                                                 \u001b[2m 3.00 kB\u001b[22m \u001b[2m│ gzip: 1.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/computed/index.js.map                                             \u001b[2m 2.97 kB\u001b[22m \u001b[2m│ gzip: 1.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/lifecycle/index.js                                                \u001b[2m 2.74 kB\u001b[22m \u001b[2m│ gzip: 0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/react.js                                                                                          \u001b[2m 2.33 kB\u001b[22m \u001b[2m│ gzip: 0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/fetcher-merge.js.map                                                                     \u001b[2m 2.33 kB\u001b[22m \u001b[2m│ gzip: 0.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/nanostores.js.map                                                                                   \u001b[2m 2.30 kB\u001b[22m \u001b[2m│ gzip: 0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/path.js                                                                                     \u001b[2m 2.24 kB\u001b[22m \u001b[2m│ gzip: 0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vanilla.js                                                                                        \u001b[2m 2.16 kB\u001b[22m \u001b[2m│ gzip: 0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/ssr.js.map                                                                                          \u001b[2m 2.16 kB\u001b[22m \u001b[2m│ gzip: 0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/async.js.map                                                                                        \u001b[2m 2.07 kB\u001b[22m \u001b[2m│ gzip: 0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/error.js.map                                                                                         \u001b[2m 1.96 kB\u001b[22m \u001b[2m│ gzip: 0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/atom/index.js                                                     \u001b[2m 1.78 kB\u001b[22m \u001b[2m│ gzip: 0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/response-stream.js                                                                          \u001b[2m 1.77 kB\u001b[22m \u001b[2m│ gzip: 0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/content-type.js                                                                                     \u001b[2m 1.62 kB\u001b[22m \u001b[2m│ gzip: 0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/computed/index.js                                                 \u001b[2m 1.47 kB\u001b[22m \u001b[2m│ gzip: 0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/task/index.js.map                                                 \u001b[2m 1.28 kB\u001b[22m \u001b[2m│ gzip: 0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/nanostores.js                                                                                       \u001b[2m 1.26 kB\u001b[22m \u001b[2m│ gzip: 0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/fetcher-merge.js                                                                         \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/map/index.js.map                                                  \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/route.js.map                                                                                         \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/async.js                                                                                            \u001b[2m 1.20 kB\u001b[22m \u001b[2m│ gzip: 0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanoevents@9.1.0/node_modules/nanoevents/index.js.map                                                      \u001b[2m 1.10 kB\u001b[22m \u001b[2m│ gzip: 0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/listen-keys/index.js.map                                          \u001b[2m 0.97 kB\u001b[22m \u001b[2m│ gzip: 0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/error.js                                                                                             \u001b[2m 0.96 kB\u001b[22m \u001b[2m│ gzip: 0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_solid@1.1.1_nanostores@1.1.0_solid-js@1.9.10/node_modules/@nanostores/solid/dist/index.js.map  \u001b[2m 0.93 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-workflows/src/workflow.js                                                                                   \u001b[2m 0.84 kB\u001b[22m \u001b[2m│ gzip: 0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/clean-stores/index.js.map                                         \u001b[2m 0.82 kB\u001b[22m \u001b[2m│ gzip: 0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/map/index.js                                                      \u001b[2m 0.67 kB\u001b[22m \u001b[2m│ gzip: 0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/route.js.map                                                                                \u001b[2m 0.65 kB\u001b[22m \u001b[2m│ gzip: 0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvanilla.js.map                                                                                                                \u001b[2m 0.62 kB\u001b[22m \u001b[2m│ gzip: 0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msvelte.js.map                                                                                                                 \u001b[2m 0.62 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mreact.js.map                                                                                                                  \u001b[2m 0.62 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msolid.js.map                                                                                                                  \u001b[2m 0.62 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvue.js.map                                                                                                                    \u001b[2m 0.61 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanoevents@9.1.0/node_modules/nanoevents/index.js                                                          \u001b[2m 0.51 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/task/index.js                                                     \u001b[2m 0.51 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_solid@1.1.1_nanostores@1.1.0_solid-js@1.9.10/node_modules/@nanostores/solid/dist/index.js      \u001b[2m 0.50 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/route.js                                                                                             \u001b[2m 0.46 kB\u001b[22m \u001b[2m│ gzip: 0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/ssr.js                                                                                              \u001b[2m 0.41 kB\u001b[22m \u001b[2m│ gzip: 0.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/listen-keys/index.js                                              \u001b[2m 0.38 kB\u001b[22m \u001b[2m│ gzip: 0.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mdefinition.js.map                                                                                                             \u001b[2m 0.38 kB\u001b[22m \u001b[2m│ gzip: 0.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/route.js                                                                                    \u001b[2m 0.30 kB\u001b[22m \u001b[2m│ gzip: 0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mdefinition.js                                                                                                                 \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvanilla.d.ts.map                                                                                                              \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msvelte.d.ts.map                                                                                                               \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msolid.d.ts.map                                                                                                                \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mreact.d.ts.map                                                                                                                \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvue.d.ts.map                                                                                                                  \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-workflows/src/workflow.d.ts.map                                                                             \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/clean-stores/index.js                                             \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1mvanilla.d.ts\u001b[22m\u001b[39m                                                                                                                  \u001b[2m12.46 kB\u001b[22m \u001b[2m│ gzip: 1.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1msvelte.d.ts\u001b[22m\u001b[39m                                                                                                                   \u001b[2m12.37 kB\u001b[22m \u001b[2m│ gzip: 1.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1mvue.d.ts\u001b[22m\u001b[39m                                                                                                                      \u001b[2m12.34 kB\u001b[22m \u001b[2m│ gzip: 1.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1msolid.d.ts\u001b[22m\u001b[39m                                                                                                                    \u001b[2m12.34 kB\u001b[22m \u001b[2m│ gzip: 1.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1mreact.d.ts\u001b[22m\u001b[39m                                                                                                                    \u001b[2m11.90 kB\u001b[22m \u001b[2m│ gzip: 1.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32mpackages/fragment-workflows/src/workflow.d.ts\u001b[39m                                                                                 \u001b[2m 0.93 kB\u001b[22m \u001b[2m│ gzip: 0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m 90 files, total: 362.09 kB\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m20413ms\u001b[39m\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m Test Files  1 passed (1)\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m      Tests  1 passed (1)\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m   Start at  11:59:06\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m   Duration  7.06s (transform 2.18s, setup 0ms, collect 5.60s, tests 449ms, environment 0ms, prepare 296ms)\r\n\u001b[34m@fragno-dev/fragno-db-library:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/condition-builder.test.ts (20 tests) 49ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ corpus-tests/fragment-services.generated.test.ts (8 tests) 40ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ corpus-tests/fragment-instantiation.generated.test.ts (3 tests) 8ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ corpus-tests/defining-routes.generated.test.ts (6 tests) 21ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/schema-output/prisma.test.ts (8 tests) 126ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/db-fragment-definition-builder.test.ts (27 tests) 38ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ corpus-tests/client-state-management.generated.test.ts (9 tests) 65ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/schema/serialize.test.ts (54 tests) 42ms\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/stripe\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/value-encoding.test.ts (33 tests) 18ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/dispatchers/cloudflare-do/index.test.ts (3 tests) 29ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/sql-driver/better-sqlite3.test.ts (5 tests) 19ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/serialize/dialect/sqlite-serializer.test.ts (32 tests) 33ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ↓ corpus-tests/database-adapters.generated.test.ts (4 tests | 4 skipped)\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli.d.ts\u001b[24m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli.js\u001b[24m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mcli.js\u001b[22m        \u001b[2m42.56 kB\u001b[22m \u001b[2m│ gzip: 10.62 kB\u001b[22m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcli.js.map    \u001b[2m86.93 kB\u001b[22m \u001b[2m│ gzip: 21.07 kB\u001b[22m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcli.d.ts.map  \u001b[2m 1.04 kB\u001b[22m \u001b[2m│ gzip:  0.47 kB\u001b[22m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mcli.d.ts\u001b[22m\u001b[39m      \u001b[2m 2.39 kB\u001b[22m \u001b[2m│ gzip:  0.52 kB\u001b[22m\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 132.92 kB\r\n\u001b[32m@fragno-dev/cli:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m4200ms\u001b[39m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/lofi\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/condition-evaluator.test.ts (3 tests) 55ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/unit-of-work/retry-policy.test.ts (23 tests) 36ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/unit-of-work/tx-builder.test.ts (48 tests) 10ms\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0mcache miss, executing \u001b[2m9523725025bb6b91\u001b[0m\r\n\u001b[32m@fragno-dev/upload:types:check: \u001b[0mcache miss, executing \u001b[2m9cc55ed996d0fe93\u001b[0m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0mcache miss, executing \u001b[2ma99cca61772ab1d8\u001b[0m\r\n\u001b[33m@fragno-dev/auth:types:check: \u001b[0mcache miss, executing \u001b[2macad0763e03bf940\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/uow-encoder.test.ts (12 tests) 75ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/dispatchers/node/index.test.ts (4 tests) 54ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/options.test.ts (4 tests) 52ms\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m> @fragno-dev/fragment-mailing-list@0.0.5 build /home/jan/rejot/fragno/packages/fragment-mailing-list\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m> tsdown\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m> @fragno-dev/upload@0.1.1 build /home/jan/rejot/fragno/packages/fragment-upload\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m> tsdown\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/uow-decoder.test.ts (12 tests) 79ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/query/select-builder.test.ts (21 tests) 63ms\r\n\u001b[32m@fragno-dev/upload:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/upload:types:check: \u001b[0m> @fragno-dev/upload@0.1.1 types:check /home/jan/rejot/fragno/packages/fragment-upload\r\n\u001b[32m@fragno-dev/upload:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[32m@fragno-dev/upload:types:check: \u001b[0m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.12.9\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.52\u001b[22m\r\n\u001b[33m@fragno-dev/auth:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/auth:types:check: \u001b[0m> @fragno-dev/auth@0.0.14 types:check /home/jan/rejot/fragno/packages/auth\r\n\u001b[33m@fragno-dev/auth:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[33m@fragno-dev/auth:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/sorted-array-index.test.ts (7 tests) 36ms\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.11.13\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.9\u001b[22m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ↓ corpus-tests/kysely-adapter.generated.test.ts (3 tests | 3 skipped)\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/cursor-client.test.ts (3 tests) 65ms\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0mrollup\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/fragment-upload/tsdown.config.ts\u001b[24m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/cli/index.ts\u001b[39m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts, src/cli/index.ts, src/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 351 files\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/schema/generate-id.test.ts (4 tests) 42ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/schema/type-conversion/type-mapping.test.ts (29 tests) 41ms\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[33mWarning: Invalid input options (2 issues found)\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m- For the \"resolve.tsconfigFilename\". It is deprecated. Please use the top-level `tsconfig` option instead. \r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m- For the \"define\". Invalid key: Expected never but received \"define\". \u001b[0m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[33mWarning: Invalid input options (2 issues found)\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m- For the \"resolve.tsconfigFilename\". It is deprecated. Please use the top-level `tsconfig` option instead. \r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m- For the \"define\". Invalid key: Expected never but received \"define\". \u001b[0m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[33mWarning: Invalid input options (2 issues found)\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m- For the \"resolve.tsconfigFilename\". It is deprecated. Please use the top-level `tsconfig` option instead. \r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m- For the \"define\". Invalid key: Expected never but received \"define\". \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/query-type.test.ts (29 tests) 40ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/query/unit-of-work/unit-of-work-types.test.ts (6 tests) 13ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/query/cursor-utils.test.ts (2 tests) 24ms\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0mrollup\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/fragment-mailing-list/tsdown.config.ts\u001b[24m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts\u001b[39m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts, src/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 30 files\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/store.test.ts (2 tests) 34ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/reference-resolution.test.ts (2 tests) 25ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/internal/adapter-registry.test.ts (3 tests) 53ms\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/value-normalization.test.ts (1 test) 14ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m ✓ corpus-tests/database-querying.generated.test.ts (13 tests) 109ms\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m Test Files  8 passed | 2 skipped (10)\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m      Tests  81 passed | 7 skipped (88)\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m   Start at  11:59:11\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m   Duration  6.82s (transform 3.97s, setup 0ms, collect 16.06s, tests 427ms, environment 4ms, prepare 3.30s)\r\n\u001b[34m@fragno-dev/corpus:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/generic-sql/generic-sql-uow-executor.test.ts (2 tests) 7ms\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m ✓ src/adapters/in-memory/in-memory-uow.retrieval.test.ts (1 test) 36ms\r\n\u001b[32m@fragno-dev/fragment-mailing-list:types:check: \u001b[0mcache miss, executing \u001b[2mbce66a471a392327\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mtest.js\u001b[22m                                                                                                                                                                                                                       \u001b[2m   6.16 kB\u001b[22m \u001b[2m│ gzip:   1.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mindex.js\u001b[22m                                                                                                                                                                                                                      \u001b[2m   1.32 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/vanilla.js\u001b[22m                                                                                                                                                                                                             \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/svelte.js\u001b[22m                                                                                                                                                                                                              \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/react.js\u001b[22m                                                                                                                                                                                                               \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/solid.js\u001b[22m                                                                                                                                                                                                               \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/vue.js\u001b[22m                                                                                                                                                                                                                 \u001b[2m   0.31 kB\u001b[22m \u001b[2m│ gzip:   0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jiti@2.0.0-beta.3/node_modules/jiti/dist/babel.js.map                                                                                                                                                      \u001b[2m2763.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jiti@2.0.0-beta.3/node_modules/jiti/dist/babel.js                                                                                                                                                          \u001b[2m2049.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/index.js.map                                                                                                                            \u001b[2m 627.74 kB\u001b[22m \u001b[2m│ gzip: 112.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sqlite.org_sqlite-wasm@3.50.4-build1/node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-node.js.map                                                                                          \u001b[2m 591.56 kB\u001b[22m \u001b[2m│ gzip: 113.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/index.js                                                                                                                                \u001b[2m 445.41 kB\u001b[22m \u001b[2m│ gzip:  84.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jiti@2.0.0-beta.3/node_modules/jiti/dist/jiti.js.map                                                                                                                                                       \u001b[2m 344.92 kB\u001b[22m \u001b[2m│ gzip:  81.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sqlite.org_sqlite-wasm@3.50.4-build1/node_modules/@sqlite.org/sqlite-wasm/sqlite-wasm/jswasm/sqlite3-node.js                                                                                              \u001b[2m 309.14 kB\u001b[22m \u001b[2m│ gzip:  62.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/errors.js.map                                                                                                                                              \u001b[2m 255.52 kB\u001b[22m \u001b[2m│ gzip:  48.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jiti@2.0.0-beta.3/node_modules/jiti/dist/jiti.js                                                                                                                                                           \u001b[2m 239.21 kB\u001b[22m \u001b[2m│ gzip:  56.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/aws-ssl-profiles@1.1.2/node_modules/aws-ssl-profiles/lib/profiles/ca/defaults.js.map                                                                                                                       \u001b[2m 221.15 kB\u001b[22m \u001b[2m│ gzip:  83.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/errors.js                                                                                                                                                  \u001b[2m 188.38 kB\u001b[22m \u001b[2m│ gzip:  44.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/aws-ssl-profiles@1.1.2/node_modules/aws-ssl-profiles/lib/profiles/ca/defaults.js                                                                                                                           \u001b[2m 178.71 kB\u001b[22m \u001b[2m│ gzip:  82.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/long@5.3.2/node_modules/long/umd/index.js.map                                                                                                                                                              \u001b[2m  69.51 kB\u001b[22m \u001b[2m│ gzip:  13.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-compiler/default-query-compiler.js.map                                                                                                                   \u001b[2m  65.59 kB\u001b[22m \u001b[2m│ gzip:   9.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-compiler/default-query-compiler.js.map                                                                                                                   \u001b[2m  64.37 kB\u001b[22m \u001b[2m│ gzip:   9.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/cp936.js.map                                                                                                                                     \u001b[2m  63.93 kB\u001b[22m \u001b[2m│ gzip:  34.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@repeaterjs_repeater@3.0.6/node_modules/@repeaterjs/repeater/repeater.js.map                                                                                                                               \u001b[2m  62.98 kB\u001b[22m \u001b[2m│ gzip:  12.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node-transformer.js.map                                                                                                               \u001b[2m  61.02 kB\u001b[22m \u001b[2m│ gzip:   6.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                   \u001b[2m  59.50 kB\u001b[22m \u001b[2m│ gzip:  12.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/cp936.js                                                                                                                                         \u001b[2m  57.35 kB\u001b[22m \u001b[2m│ gzip:  32.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operation-node-transformer.js.map                                                                                                               \u001b[2m  57.10 kB\u001b[22m \u001b[2m│ gzip:   6.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sindresorhus_is@7.1.1/node_modules/@sindresorhus/is/distribution/index.js.map                                                                                                                             \u001b[2m  54.80 kB\u001b[22m \u001b[2m│ gzip:   9.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/cp949.js.map                                                                                                                                     \u001b[2m  53.24 kB\u001b[22m \u001b[2m│ gzip:  27.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mdefinition.js.map                                                                                                                                                                                                             \u001b[2m  51.98 kB\u001b[22m \u001b[2m│ gzip:   8.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/merge.js.map                                                                                                                                                        \u001b[2m  51.45 kB\u001b[22m \u001b[2m│ gzip:  15.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes.js.map                                                                                                                                                                                                                 \u001b[2m  48.16 kB\u001b[22m \u001b[2m│ gzip:   7.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/cp950.js.map                                                                                                                                     \u001b[2m  47.65 kB\u001b[22m \u001b[2m│ gzip:  30.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/eucjp.js.map                                                                                                                                     \u001b[2m  46.84 kB\u001b[22m \u001b[2m│ gzip:  30.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/cp949.js                                                                                                                                         \u001b[2m  46.75 kB\u001b[22m \u001b[2m│ gzip:  26.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-3WWIVTCY.js.map                                                                                                                   \u001b[2m  46.04 kB\u001b[22m \u001b[2m│ gzip:  11.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/parse.js.map                                                                                                                                                    \u001b[2m  44.65 kB\u001b[22m \u001b[2m│ gzip:  10.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/insert-query-builder.js.map                                                                                                                      \u001b[2m  44.10 kB\u001b[22m \u001b[2m│ gzip:   8.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/cp950.js                                                                                                                                         \u001b[2m  43.52 kB\u001b[22m \u001b[2m│ gzip:  30.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/base/connection.js.map                                                                                                                                               \u001b[2m  43.37 kB\u001b[22m \u001b[2m│ gzip:  11.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/eucjp.js                                                                                                                                         \u001b[2m  42.94 kB\u001b[22m \u001b[2m│ gzip:  29.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/insert-query-builder.js.map                                                                                                                      \u001b[2m  42.38 kB\u001b[22m \u001b[2m│ gzip:   7.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/long@5.3.2/node_modules/long/umd/index.js                                                                                                                                                                  \u001b[2m  41.53 kB\u001b[22m \u001b[2m│ gzip:   7.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/kysely.js.map                                                                                                                                                  \u001b[2m  41.04 kB\u001b[22m \u001b[2m│ gzip:   8.14 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/packet.js.map                                                                                                                                                \u001b[2m  40.08 kB\u001b[22m \u001b[2m│ gzip:   9.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/kysely.js.map                                                                                                                                                  \u001b[2m  38.80 kB\u001b[22m \u001b[2m│ gzip:   7.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/minimatch@3.1.2/node_modules/minimatch/minimatch.js.map                                                                                                                                                    \u001b[2m  38.36 kB\u001b[22m \u001b[2m│ gzip:  11.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/sbcs-data-generated.js.map                                                                                                                              \u001b[2m  38.32 kB\u001b[22m \u001b[2m│ gzip:   8.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                     \u001b[2m  36.06 kB\u001b[22m \u001b[2m│ gzip:   7.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                           \u001b[2m  35.88 kB\u001b[22m \u001b[2m│ gzip:   6.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node-transformer.js                                                                                                                   \u001b[2m  35.19 kB\u001b[22m \u001b[2m│ gzip:   4.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-VBDAOXYI.js.map                                                                                                                   \u001b[2m  34.68 kB\u001b[22m \u001b[2m│ gzip:   8.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/insert-query-builder.js                                                                                                                          \u001b[2m  34.06 kB\u001b[22m \u001b[2m│ gzip:   7.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@1.9.3/node_modules/color-convert/conversions.js.map                                                                                                                                          \u001b[2m  33.62 kB\u001b[22m \u001b[2m│ gzip:   7.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-compiler/default-query-compiler.js                                                                                                                       \u001b[2m  33.57 kB\u001b[22m \u001b[2m│ gzip:   5.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/conversions.js.map                                                                                                                                          \u001b[2m  33.08 kB\u001b[22m \u001b[2m│ gzip:   7.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/base.js.map                                                                                                                                                          \u001b[2m  32.69 kB\u001b[22m \u001b[2m│ gzip:  11.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/client.js.map                                                                                                                                                                \u001b[2m  32.63 kB\u001b[22m \u001b[2m│ gzip:   7.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/sbcs-data-generated.js                                                                                                                                  \u001b[2m  31.89 kB\u001b[22m \u001b[2m│ gzip:   8.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/migration/migrator.js.map                                                                                                                                      \u001b[2m  31.66 kB\u001b[22m \u001b[2m│ gzip:   6.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/glob@7.2.3/node_modules/glob/glob.js.map                                                                                                                                                                   \u001b[2m  31.26 kB\u001b[22m \u001b[2m│ gzip:   8.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operation-node-transformer.js                                                                                                                   \u001b[2m  31.06 kB\u001b[22m \u001b[2m│ gzip:   4.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-compiler/default-query-compiler.js                                                                                                                       \u001b[2m  30.65 kB\u001b[22m \u001b[2m│ gzip:   5.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/insert-query-builder.js                                                                                                                          \u001b[2m  30.60 kB\u001b[22m \u001b[2m│ gzip:   6.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/dbcs-codec.js.map                                                                                                                                       \u001b[2m  30.19 kB\u001b[22m \u001b[2m│ gzip:   8.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/kysely.js                                                                                                                                                      \u001b[2m  29.84 kB\u001b[22m \u001b[2m│ gzip:   6.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/index.js                                                                                                                                                       \u001b[2m  29.55 kB\u001b[22m \u001b[2m│ gzip:   3.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@repeaterjs_repeater@3.0.6/node_modules/@repeaterjs/repeater/repeater.js                                                                                                                                   \u001b[2m  29.13 kB\u001b[22m \u001b[2m│ gzip:   6.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/merge-query-builder.js.map                                                                                                                       \u001b[2m  28.35 kB\u001b[22m \u001b[2m│ gzip:   5.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/shiftjis.js.map                                                                                                                                  \u001b[2m  27.66 kB\u001b[22m \u001b[2m│ gzip:  16.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                        \u001b[2m  27.32 kB\u001b[22m \u001b[2m│ gzip:   4.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/kysely.js                                                                                                                                                      \u001b[2m  26.22 kB\u001b[22m \u001b[2m│ gzip:   5.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/merge-query-builder.js.map                                                                                                                       \u001b[2m  25.93 kB\u001b[22m \u001b[2m│ gzip:   4.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                         \u001b[2m  25.66 kB\u001b[22m \u001b[2m│ gzip:   5.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-3WWIVTCY.js                                                                                                                       \u001b[2m  25.52 kB\u001b[22m \u001b[2m│ gzip:   7.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/step.js.map                                                                                                                                                                                                            \u001b[2m  25.38 kB\u001b[22m \u001b[2m│ gzip:   5.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/shiftjis.js                                                                                                                                      \u001b[2m  25.22 kB\u001b[22m \u001b[2m│ gzip:  16.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/parse.js                                                                                                                                                        \u001b[2m  24.89 kB\u001b[22m \u001b[2m│ gzip:   5.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-creator.js.map                                                                                                                                           \u001b[2m  24.73 kB\u001b[22m \u001b[2m│ gzip:   5.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes.js                                                                                                                                                                                                                     \u001b[2m  24.48 kB\u001b[22m \u001b[2m│ gzip:   3.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/select-query-builder.js.map                                                                                                                      \u001b[2m  24.38 kB\u001b[22m \u001b[2m│ gzip:   3.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/fs/opfs-ahp.js.map                                                                                                                      \u001b[2m  23.50 kB\u001b[22m \u001b[2m│ gzip:   5.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/migration/migrator.js.map                                                                                                                                      \u001b[2m  23.43 kB\u001b[22m \u001b[2m│ gzip:   4.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mdefinition.js                                                                                                                                                                                                                 \u001b[2m  23.14 kB\u001b[22m \u001b[2m│ gzip:   3.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-creator.js.map                                                                                                                                           \u001b[2m  23.13 kB\u001b[22m \u001b[2m│ gzip:   4.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/update-query-builder.js.map                                                                                                                      \u001b[2m  22.84 kB\u001b[22m \u001b[2m│ gzip:   5.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/transformer.js.map                                                         \u001b[2m  22.75 kB\u001b[22m \u001b[2m│ gzip:   4.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/column-definition-builder.js.map                                                                                                                        \u001b[2m  22.70 kB\u001b[22m \u001b[2m│ gzip:   3.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/task.js.map                                                                                                                                                                                                            \u001b[2m  22.25 kB\u001b[22m \u001b[2m│ gzip:   5.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/delete-query-builder.js.map                                                                                                                      \u001b[2m  22.12 kB\u001b[22m \u001b[2m│ gzip:   4.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                       \u001b[2m  22.11 kB\u001b[22m \u001b[2m│ gzip:   5.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/index.js.map                                                                                                                                                   \u001b[2m  21.88 kB\u001b[22m \u001b[2m│ gzip:   2.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/apply.js.map                                                                                                                                                        \u001b[2m  21.72 kB\u001b[22m \u001b[2m│ gzip:   8.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/base/connection.js                                                                                                                                                   \u001b[2m  21.72 kB\u001b[22m \u001b[2m│ gzip:   5.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/create.js.map                                                                                                                                                       \u001b[2m  21.64 kB\u001b[22m \u001b[2m│ gzip:   7.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/update-query-builder.js.map                                                                                                                      \u001b[2m  21.46 kB\u001b[22m \u001b[2m│ gzip:   4.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/big5-added.js.map                                                                                                                                \u001b[2m  21.39 kB\u001b[22m \u001b[2m│ gzip:  14.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/select-query-builder.js.map                                                                                                                      \u001b[2m  21.38 kB\u001b[22m \u001b[2m│ gzip:   3.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-pool@3.11.0_pg@8.18.0/node_modules/pg-pool/index.js.map                                                                                                                                                 \u001b[2m  21.25 kB\u001b[22m \u001b[2m│ gzip:   6.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/column-definition-builder.js.map                                                                                                                        \u001b[2m  21.21 kB\u001b[22m \u001b[2m│ gzip:   3.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/delete-query-builder.js.map                                                                                                                      \u001b[2m  20.81 kB\u001b[22m \u001b[2m│ gzip:   4.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/merge-query-builder.js                                                                                                                           \u001b[2m  20.73 kB\u001b[22m \u001b[2m│ gzip:   3.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                           \u001b[2m  20.66 kB\u001b[22m \u001b[2m│ gzip:   5.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/graceful-fs.js.map                                                                                                                                             \u001b[2m  20.34 kB\u001b[22m \u001b[2m│ gzip:   5.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/denque@2.1.0/node_modules/denque/index.js.map                                                                                                                                                              \u001b[2m  20.28 kB\u001b[22m \u001b[2m│ gzip:   4.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-creator.js                                                                                                                                               \u001b[2m  20.21 kB\u001b[22m \u001b[2m│ gzip:   4.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/src/common.js.map                                                                                                                                                       \u001b[2m  20.20 kB\u001b[22m \u001b[2m│ gzip:   6.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-driver.js.map                                                                                                                              \u001b[2m  19.95 kB\u001b[22m \u001b[2m│ gzip:   5.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-VBDAOXYI.js                                                                                                                       \u001b[2m  19.73 kB\u001b[22m \u001b[2m│ gzip:   5.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/packet.js                                                                                                                                                    \u001b[2m  19.56 kB\u001b[22m \u001b[2m│ gzip:   4.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-builder.js.map                                                                                                                              \u001b[2m  19.55 kB\u001b[22m \u001b[2m│ gzip:   2.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/parser.js.map                                                                                                                                             \u001b[2m  19.51 kB\u001b[22m \u001b[2m│ gzip:   4.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/glob@7.2.3/node_modules/glob/sync.js.map                                                                                                                                                                   \u001b[2m  19.30 kB\u001b[22m \u001b[2m│ gzip:   5.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/client.js                                                                                                                                                                    \u001b[2m  18.75 kB\u001b[22m \u001b[2m│ gzip:   4.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/big5-added.js                                                                                                                                    \u001b[2m  18.74 kB\u001b[22m \u001b[2m│ gzip:  13.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/micromatch@4.0.8/node_modules/micromatch/index.js.map                                                                                                                                                      \u001b[2m  18.68 kB\u001b[22m \u001b[2m│ gzip:   4.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-table-builder.js.map                                                                                                                             \u001b[2m  18.56 kB\u001b[22m \u001b[2m│ gzip:   3.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/parse.js.map                                                                                                                                                        \u001b[2m  18.34 kB\u001b[22m \u001b[2m│ gzip:   7.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mssql/mssql-driver.js.map                                                                                                                              \u001b[2m  18.32 kB\u001b[22m \u001b[2m│ gzip:   4.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/migration/migrator.js                                                                                                                                          \u001b[2m  18.05 kB\u001b[22m \u001b[2m│ gzip:   3.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/adapters.js.map                                                                                                                                                                                     \u001b[2m  18.01 kB\u001b[22m \u001b[2m│ gzip:   3.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/column-definition-builder.js                                                                                                                            \u001b[2m  17.63 kB\u001b[22m \u001b[2m│ gzip:   2.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/merge-query-builder.js                                                                                                                           \u001b[2m  17.44 kB\u001b[22m \u001b[2m│ gzip:   3.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mtest.js.map                                                                                                                                                                                                                   \u001b[2m  17.31 kB\u001b[22m \u001b[2m│ gzip:   4.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-creator.js                                                                                                                                               \u001b[2m  17.27 kB\u001b[22m \u001b[2m│ gzip:   4.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sindresorhus_is@7.1.1/node_modules/@sindresorhus/is/distribution/index.js                                                                                                                                 \u001b[2m  17.23 kB\u001b[22m \u001b[2m│ gzip:   4.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                               \u001b[2m  17.14 kB\u001b[22m \u001b[2m│ gzip:   3.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/query.js.map                                                                                                                                                \u001b[2m  17.01 kB\u001b[22m \u001b[2m│ gzip:   4.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@1.9.3/node_modules/color-convert/conversions.js                                                                                                                                              \u001b[2m  17.01 kB\u001b[22m \u001b[2m│ gzip:   4.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/update-query-builder.js                                                                                                                          \u001b[2m  16.98 kB\u001b[22m \u001b[2m│ gzip:   4.22 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-table-builder.js.map                                                                                                                             \u001b[2m  16.96 kB\u001b[22m \u001b[2m│ gzip:   3.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/charsets.js.map                                                                                                                                            \u001b[2m  16.73 kB\u001b[22m \u001b[2m│ gzip:   2.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/conversions.js                                                                                                                                              \u001b[2m  16.65 kB\u001b[22m \u001b[2m│ gzip:   4.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/dotenv@16.6.1/node_modules/dotenv/lib/main.js.map                                                                                                                                                          \u001b[2m  16.58 kB\u001b[22m \u001b[2m│ gzip:   5.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/delete-query-builder.js                                                                                                                          \u001b[2m  16.32 kB\u001b[22m \u001b[2m│ gzip:   4.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/polyfills.js.map                                                                                                                                               \u001b[2m  16.07 kB\u001b[22m \u001b[2m│ gzip:   4.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-builder.js.map                                                                                                                              \u001b[2m  15.98 kB\u001b[22m \u001b[2m│ gzip:   2.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/select-query-builder.js                                                                                                                          \u001b[2m  15.86 kB\u001b[22m \u001b[2m│ gzip:   2.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/loglevel@1.9.2/node_modules/loglevel/lib/loglevel.js.map                                                                                                                                                   \u001b[2m  15.84 kB\u001b[22m \u001b[2m│ gzip:   4.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/minimatch@3.1.2/node_modules/minimatch/minimatch.js                                                                                                                                                        \u001b[2m  15.46 kB\u001b[22m \u001b[2m│ gzip:   4.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-builder.js                                                                                                                                  \u001b[2m  15.38 kB\u001b[22m \u001b[2m│ gzip:   2.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-table-builder.js                                                                                                                                 \u001b[2m  15.13 kB\u001b[22m \u001b[2m│ gzip:   3.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/column-definition-builder.js                                                                                                                            \u001b[2m  15.04 kB\u001b[22m \u001b[2m│ gzip:   2.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/glob@7.2.3/node_modules/glob/glob.js                                                                                                                                                                       \u001b[2m  14.74 kB\u001b[22m \u001b[2m│ gzip:   3.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/update-query-builder.js                                                                                                                          \u001b[2m  14.53 kB\u001b[22m \u001b[2m│ gzip:   3.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/json.js.map                                                                                                                                                          \u001b[2m  14.44 kB\u001b[22m \u001b[2m│ gzip:   5.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/serializer/serializer.js.map                                                           \u001b[2m  14.42 kB\u001b[22m \u001b[2m│ gzip:   3.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/dbcs-codec.js                                                                                                                                           \u001b[2m  14.38 kB\u001b[22m \u001b[2m│ gzip:   3.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/micromatch@4.0.8/node_modules/micromatch/index.js                                                                                                                                                          \u001b[2m  14.38 kB\u001b[22m \u001b[2m│ gzip:   3.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/column_definition.js.map                                                                                                                                     \u001b[2m  14.33 kB\u001b[22m \u001b[2m│ gzip:   4.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/utf32.js.map                                                                                                                                            \u001b[2m  14.28 kB\u001b[22m \u001b[2m│ gzip:   4.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mschema.js.map                                                                                                                                                                                                                 \u001b[2m  14.25 kB\u001b[22m \u001b[2m│ gzip:   2.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/connection_config.js.map                                                                                                                                             \u001b[2m  14.21 kB\u001b[22m \u001b[2m│ gzip:   4.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/scan.js.map                                                                                                                                                     \u001b[2m  14.20 kB\u001b[22m \u001b[2m│ gzip:   3.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mworkflow.js.map                                                                                                                                                                                                               \u001b[2m  14.03 kB\u001b[22m \u001b[2m│ gzip:   3.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/schema.js.map                                                                                                                                           \u001b[2m  13.99 kB\u001b[22m \u001b[2m│ gzip:   2.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/delete-query-builder.js                                                                                                                          \u001b[2m  13.98 kB\u001b[22m \u001b[2m│ gzip:   3.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/transformer.js                                                             \u001b[2m  13.82 kB\u001b[22m \u001b[2m│ gzip:   3.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/picomatch.js.map                                                                                                                                                \u001b[2m  13.79 kB\u001b[22m \u001b[2m│ gzip:   3.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool_cluster.js.map                                                                                                                                                  \u001b[2m  13.71 kB\u001b[22m \u001b[2m│ gzip:   3.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                         \u001b[2m  13.64 kB\u001b[22m \u001b[2m│ gzip:   3.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/utf7.js.map                                                                                                                                             \u001b[2m  13.64 kB\u001b[22m \u001b[2m│ gzip:   3.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/db-test.js.map                                                                                                                                                                                      \u001b[2m  13.41 kB\u001b[22m \u001b[2m│ gzip:   3.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                        \u001b[2m  13.40 kB\u001b[22m \u001b[2m│ gzip:   3.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/index.js                                                                                                                                                       \u001b[2m  13.33 kB\u001b[22m \u001b[2m│ gzip:   2.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/lru.min@1.1.3/node_modules/lru.min/lib/index.js.map                                                                                                                                                        \u001b[2m  13.17 kB\u001b[22m \u001b[2m│ gzip:   3.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/is-property@1.0.2/node_modules/is-property/is-property.js.map                                                                                                                                              \u001b[2m  13.04 kB\u001b[22m \u001b[2m│ gzip:   3.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/cli.js.map                                                                         \u001b[2m  12.93 kB\u001b[22m \u001b[2m│ gzip:   3.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/step.js                                                                                                                                                                                                                \u001b[2m  12.92 kB\u001b[22m \u001b[2m│ gzip:   2.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/fs/opfs-ahp.js                                                                                                                          \u001b[2m  12.82 kB\u001b[22m \u001b[2m│ gzip:   3.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/native/client.js.map                                                                                                                                                         \u001b[2m  12.75 kB\u001b[22m \u001b[2m│ gzip:   4.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/routes.js.map                                                                                                                                                                                                          \u001b[2m  12.70 kB\u001b[22m \u001b[2m│ gzip:   2.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                            \u001b[2m  12.68 kB\u001b[22m \u001b[2m│ gzip:   2.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs.realpath@1.0.0/node_modules/fs.realpath/old.js.map                                                                                                                                                      \u001b[2m  12.54 kB\u001b[22m \u001b[2m│ gzip:   3.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/on-conflict-builder.js.map                                                                                                                       \u001b[2m  12.39 kB\u001b[22m \u001b[2m│ gzip:   2.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/minimist@1.2.8/node_modules/minimist/index.js.map                                                                                                                                                          \u001b[2m  12.16 kB\u001b[22m \u001b[2m│ gzip:   3.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/adapters.js                                                                                                                                                                                         \u001b[2m  12.12 kB\u001b[22m \u001b[2m│ gzip:   2.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-table-builder.js                                                                                                                                 \u001b[2m  12.10 kB\u001b[22m \u001b[2m│ gzip:   2.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/with-schema/with-schema-transformer.js.map                                                                                                              \u001b[2m  12.05 kB\u001b[22m \u001b[2m│ gzip:   2.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                     \u001b[2m  12.04 kB\u001b[22m \u001b[2m│ gzip:   3.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/denque@2.1.0/node_modules/denque/index.js                                                                                                                                                                  \u001b[2m  11.99 kB\u001b[22m \u001b[2m│ gzip:   2.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/client_handshake.js.map                                                                                                                                     \u001b[2m  11.96 kB\u001b[22m \u001b[2m│ gzip:   3.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/schema.js                                                                                                                                               \u001b[2m  11.96 kB\u001b[22m \u001b[2m│ gzip:   2.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/select-query-builder.js                                                                                                                          \u001b[2m  11.96 kB\u001b[22m \u001b[2m│ gzip:   1.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/schema.js.map                                                                                                                                           \u001b[2m  11.91 kB\u001b[22m \u001b[2m│ gzip:   2.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fill-range@7.1.1/node_modules/fill-range/index.js.map                                                                                                                                                      \u001b[2m  11.63 kB\u001b[22m \u001b[2m│ gzip:   3.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/coincident@1.2.3/node_modules/coincident/esm/index.js.map                                                                                                                                                  \u001b[2m  11.62 kB\u001b[22m \u001b[2m│ gzip:   4.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/table.js.map                                                                                                                                 \u001b[2m  11.51 kB\u001b[22m \u001b[2m│ gzip:   3.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/merge.js                                                                                                                                                            \u001b[2m  11.49 kB\u001b[22m \u001b[2m│ gzip:   2.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/is-property@1.0.2/node_modules/is-property/is-property.js                                                                                                                                                  \u001b[2m  11.47 kB\u001b[22m \u001b[2m│ gzip:   3.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/binary_parser.js.map                                                                                                                                         \u001b[2m  11.43 kB\u001b[22m \u001b[2m│ gzip:   3.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/to-regex-range@5.0.1/node_modules/to-regex-range/index.js.map                                                                                                                                              \u001b[2m  11.41 kB\u001b[22m \u001b[2m│ gzip:   3.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-pool@3.11.0_pg@8.18.0/node_modules/pg-pool/index.js                                                                                                                                                     \u001b[2m  11.40 kB\u001b[22m \u001b[2m│ gzip:   3.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/sasl.js.map                                                                                                                                                           \u001b[2m  11.35 kB\u001b[22m \u001b[2m│ gzip:   3.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/with-schema/with-schema-transformer.js.map                                                                                                              \u001b[2m  11.34 kB\u001b[22m \u001b[2m│ gzip:   2.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/graceful-fs.js                                                                                                                                                 \u001b[2m  11.24 kB\u001b[22m \u001b[2m│ gzip:   2.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/charsets.js                                                                                                                                                \u001b[2m  11.23 kB\u001b[22m \u001b[2m│ gzip:   2.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/static_binary_parser.js.map                                                                                                                                  \u001b[2m  11.19 kB\u001b[22m \u001b[2m│ gzip:   3.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                               \u001b[2m  11.15 kB\u001b[22m \u001b[2m│ gzip:   3.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/parse.js.map                                                                                                                                                          \u001b[2m  11.11 kB\u001b[22m \u001b[2m│ gzip:   3.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                     \u001b[2m  11.04 kB\u001b[22m \u001b[2m│ gzip:   3.15 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/on-conflict-builder.js.map                                                                                                                       \u001b[2m  11.00 kB\u001b[22m \u001b[2m│ gzip:   2.15 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/serializer.js.map                                                                                                                                         \u001b[2m  10.99 kB\u001b[22m \u001b[2m│ gzip:   3.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-driver.js                                                                                                                                  \u001b[2m  10.98 kB\u001b[22m \u001b[2m│ gzip:   2.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                     \u001b[2m  10.93 kB\u001b[22m \u001b[2m│ gzip:   3.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/aggregate-function-builder.js.map                                                                                                                \u001b[2m  10.88 kB\u001b[22m \u001b[2m│ gzip:   2.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/expression/expression-builder.js.map                                                                                                                           \u001b[2m  10.85 kB\u001b[22m \u001b[2m│ gzip:   2.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/dbcs-data.js.map                                                                                                                                        \u001b[2m  10.84 kB\u001b[22m \u001b[2m│ gzip:   3.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/glob@7.2.3/node_modules/glob/common.js.map                                                                                                                                                                 \u001b[2m  10.79 kB\u001b[22m \u001b[2m│ gzip:   3.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@2.4.2/node_modules/chalk/index.js.map                                                                                                                                                                \u001b[2m  10.63 kB\u001b[22m \u001b[2m│ gzip:   3.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/query.js.map                                                                                                                                                                 \u001b[2m  10.61 kB\u001b[22m \u001b[2m│ gzip:   3.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mbindings.js.map                                                                                                                                                                                                               \u001b[2m  10.54 kB\u001b[22m \u001b[2m│ gzip:   2.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/binaryParsers.js.map                                                                                                                                              \u001b[2m  10.49 kB\u001b[22m \u001b[2m│ gzip:   3.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/picomatch.js                                                                                                                                                    \u001b[2m  10.42 kB\u001b[22m \u001b[2m│ gzip:   2.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-connection-string@2.11.0/node_modules/pg-connection-string/index.js.map                                                                                                                                 \u001b[2m  10.40 kB\u001b[22m \u001b[2m│ gzip:   3.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/text_parser.js.map                                                                                                                                           \u001b[2m  10.39 kB\u001b[22m \u001b[2m│ gzip:   3.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-driver.js.map                                                                                                                              \u001b[2m  10.34 kB\u001b[22m \u001b[2m│ gzip:   2.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/base/pool.js.map                                                                                                                                                     \u001b[2m  10.30 kB\u001b[22m \u001b[2m│ gzip:   2.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/execute.js.map                                                                                                                                               \u001b[2m  10.27 kB\u001b[22m \u001b[2m│ gzip:   3.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-name@1.1.3/node_modules/color-name/index.js.map                                                                                                                                                      \u001b[2m  10.25 kB\u001b[22m \u001b[2m│ gzip:   2.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-name@1.1.4/node_modules/color-name/index.js.map                                                                                                                                                      \u001b[2m  10.25 kB\u001b[22m \u001b[2m│ gzip:   2.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-builder.js                                                                                                                                  \u001b[2m  10.18 kB\u001b[22m \u001b[2m│ gzip:   1.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/index.js.map                                                                                                                                                              \u001b[2m  10.18 kB\u001b[22m \u001b[2m│ gzip:   3.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/task.js                                                                                                                                                                                                                \u001b[2m  10.15 kB\u001b[22m \u001b[2m│ gzip:   2.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/internal.js.map                                                                                                                                         \u001b[2m  10.14 kB\u001b[22m \u001b[2m│ gzip:   2.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlstring@2.3.3/node_modules/sqlstring/lib/SqlString.js.map                                                                                                                                                \u001b[2m  10.05 kB\u001b[22m \u001b[2m│ gzip:   3.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@4.1.2/node_modules/chalk/source/index.js.map                                                                                                                                                         \u001b[2m  10.01 kB\u001b[22m \u001b[2m│ gzip:   3.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node-visitor.js.map                                                                                                                   \u001b[2m  10.00 kB\u001b[22m \u001b[2m│ gzip:   1.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/aggregate-function-builder.js.map                                                                                                                \u001b[2m   9.91 kB\u001b[22m \u001b[2m│ gzip:   2.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/query.js                                                                                                                                                    \u001b[2m   9.90 kB\u001b[22m \u001b[2m│ gzip:   2.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/parser.js                                                                                                                                                 \u001b[2m   9.88 kB\u001b[22m \u001b[2m│ gzip:   2.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operation-node-visitor.js.map                                                                                                                   \u001b[2m   9.74 kB\u001b[22m \u001b[2m│ gzip:   1.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/glob@7.2.3/node_modules/glob/sync.js                                                                                                                                                                       \u001b[2m   9.55 kB\u001b[22m \u001b[2m│ gzip:   2.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-F2DQ4FIK.js.map                                                                                                                   \u001b[2m   9.54 kB\u001b[22m \u001b[2m│ gzip:   2.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                             \u001b[2m   9.49 kB\u001b[22m \u001b[2m│ gzip:   2.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packet_parser.js.map                                                                                                                                                 \u001b[2m   9.47 kB\u001b[22m \u001b[2m│ gzip:   2.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/server_handshake.js.map                                                                                                                                     \u001b[2m   9.45 kB\u001b[22m \u001b[2m│ gzip:   2.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/promise.js.map                                                                                                                                                           \u001b[2m   9.42 kB\u001b[22m \u001b[2m│ gzip:   2.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mworkflow.d.ts.map                                                                                                                                                                                                             \u001b[2m   9.40 kB\u001b[22m \u001b[2m│ gzip:   3.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/utils.js.map                                                                                                                                                                 \u001b[2m   9.36 kB\u001b[22m \u001b[2m│ gzip:   2.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/word.js.map                                                                                                                                                          \u001b[2m   9.30 kB\u001b[22m \u001b[2m│ gzip:   4.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/dotenv@16.6.1/node_modules/dotenv/lib/main.js                                                                                                                                                              \u001b[2m   9.27 kB\u001b[22m \u001b[2m│ gzip:   2.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/copy/copy-sync.js.map                                                                                                                                            \u001b[2m   9.21 kB\u001b[22m \u001b[2m│ gzip:   2.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/src/common.js                                                                                                                                                           \u001b[2m   9.20 kB\u001b[22m \u001b[2m│ gzip:   2.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/index.js.map                                                                                                                                                  \u001b[2m   9.18 kB\u001b[22m \u001b[2m│ gzip:   3.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/textParsers.js.map                                                                                                                                                \u001b[2m   9.11 kB\u001b[22m \u001b[2m│ gzip:   2.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/connection.js.map                                                                                                                                            \u001b[2m   9.04 kB\u001b[22m \u001b[2m│ gzip:   1.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-index-builder.js.map                                                                                                                             \u001b[2m   8.99 kB\u001b[22m \u001b[2m│ gzip:   2.05 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                            \u001b[2m   8.98 kB\u001b[22m \u001b[2m│ gzip:   2.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/runtime-driver.js.map                                                                                                                                   \u001b[2m   8.96 kB\u001b[22m \u001b[2m│ gzip:   2.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/copy/copy.js.map                                                                                                                                                 \u001b[2m   8.95 kB\u001b[22m \u001b[2m│ gzip:   3.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/on-conflict-builder.js                                                                                                                           \u001b[2m   8.92 kB\u001b[22m \u001b[2m│ gzip:   1.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pgpass@1.0.5/node_modules/pgpass/lib/helper.js.map                                                                                                                                                         \u001b[2m   8.89 kB\u001b[22m \u001b[2m│ gzip:   3.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/bindings@1.5.0/node_modules/bindings/bindings.js.map                                                                                                                                                       \u001b[2m   8.83 kB\u001b[22m \u001b[2m│ gzip:   3.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/util/stat.js.map                                                                                                                                                 \u001b[2m   8.81 kB\u001b[22m \u001b[2m│ gzip:   2.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/runtime-driver.js.map                                                                                                                                   \u001b[2m   8.63 kB\u001b[22m \u001b[2m│ gzip:   2.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/db-test.js                                                                                                                                                                                          \u001b[2m   8.60 kB\u001b[22m \u001b[2m│ gzip:   2.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/connection.js.map                                                                                                                                                            \u001b[2m   8.60 kB\u001b[22m \u001b[2m│ gzip:   2.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/postgres-introspector.js.map                                         \u001b[2m   8.60 kB\u001b[22m \u001b[2m│ gzip:   2.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/connection-parameters.js.map                                                                                                                                                 \u001b[2m   8.60 kB\u001b[22m \u001b[2m│ gzip:   2.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/aggregate-function-builder.js                                                                                                                    \u001b[2m   8.59 kB\u001b[22m \u001b[2m│ gzip:   2.13 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/expression/expression-builder.js                                                                                                                               \u001b[2m   8.57 kB\u001b[22m \u001b[2m│ gzip:   1.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/scan.js                                                                                                                                                         \u001b[2m   8.54 kB\u001b[22m \u001b[2m│ gzip:   2.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/brace-expansion@1.1.12/node_modules/brace-expansion/index.js.map                                                                                                                                           \u001b[2m   8.51 kB\u001b[22m \u001b[2m│ gzip:   2.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/json-path-builder.js.map                                                                                                                         \u001b[2m   8.50 kB\u001b[22m \u001b[2m│ gzip:   2.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                    \u001b[2m   8.45 kB\u001b[22m \u001b[2m│ gzip:   2.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                            \u001b[2m   8.45 kB\u001b[22m \u001b[2m│ gzip:   2.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/postgres-adapter.js.map                                              \u001b[2m   8.43 kB\u001b[22m \u001b[2m│ gzip:   1.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/schema.js                                                                                                                                               \u001b[2m   8.27 kB\u001b[22m \u001b[2m│ gzip:   1.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-driver.js.map                                                                                                                        \u001b[2m   8.26 kB\u001b[22m \u001b[2m│ gzip:   2.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/utf16.js.map                                                                                                                                            \u001b[2m   8.24 kB\u001b[22m \u001b[2m│ gzip:   2.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/process.js.map                                                                                                                                                                                                         \u001b[2m   8.23 kB\u001b[22m \u001b[2m│ gzip:   2.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool_cluster.js                                                                                                                                                      \u001b[2m   8.23 kB\u001b[22m \u001b[2m│ gzip:   2.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/expression/expression-builder.js.map                                                                                                                           \u001b[2m   8.22 kB\u001b[22m \u001b[2m│ gzip:   1.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/aws-ssl-profiles@1.1.2/node_modules/aws-ssl-profiles/lib/profiles/ca/proxies.js.map                                                                                                                        \u001b[2m   8.20 kB\u001b[22m \u001b[2m│ gzip:   4.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-index-builder.js.map                                                                                                                             \u001b[2m   8.15 kB\u001b[22m \u001b[2m│ gzip:   1.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mssql/mssql-driver.js                                                                                                                                  \u001b[2m   8.14 kB\u001b[22m \u001b[2m│ gzip:   2.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/connection_config.js                                                                                                                                                 \u001b[2m   8.14 kB\u001b[22m \u001b[2m│ gzip:   2.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner.js.map                                                                                                                                                                                                                 \u001b[2m   8.07 kB\u001b[22m \u001b[2m│ gzip:   2.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                   \u001b[2m   8.06 kB\u001b[22m \u001b[2m│ gzip:   2.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mysql/mysql-driver.js.map                                                                                                                              \u001b[2m   8.06 kB\u001b[22m \u001b[2m│ gzip:   2.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/handshake_response.js.map                                                                                                                                    \u001b[2m   7.98 kB\u001b[22m \u001b[2m│ gzip:   2.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/serializer/serializer.js                                                               \u001b[2m   7.91 kB\u001b[22m \u001b[2m│ gzip:   2.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/messages.js.map                                                                                                                                           \u001b[2m   7.87 kB\u001b[22m \u001b[2m│ gzip:   1.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                             \u001b[2m   7.81 kB\u001b[22m \u001b[2m│ gzip:   2.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/ansi-styles@4.3.0/node_modules/ansi-styles/index.js.map                                                                                                                                                    \u001b[2m   7.79 kB\u001b[22m \u001b[2m│ gzip:   2.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/polyfills.js                                                                                                                                                   \u001b[2m   7.78 kB\u001b[22m \u001b[2m│ gzip:   1.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-introspector.js.map                                                                                                                        \u001b[2m   7.77 kB\u001b[22m \u001b[2m│ gzip:   1.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/native/query.js.map                                                                                                                                                          \u001b[2m   7.72 kB\u001b[22m \u001b[2m│ gzip:   2.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/loglevel@1.9.2/node_modules/loglevel/lib/loglevel.js                                                                                                                                                       \u001b[2m   7.70 kB\u001b[22m \u001b[2m│ gzip:   2.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/static_text_parser.js.map                                                                                                                                    \u001b[2m   7.70 kB\u001b[22m \u001b[2m│ gzip:   2.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/named-placeholders@1.1.6/node_modules/named-placeholders/index.js.map                                                                                                                                      \u001b[2m   7.57 kB\u001b[22m \u001b[2m│ gzip:   2.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/json-path-builder.js.map                                                                                                                         \u001b[2m   7.55 kB\u001b[22m \u001b[2m│ gzip:   2.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/cli.js                                                                             \u001b[2m   7.55 kB\u001b[22m \u001b[2m│ gzip:   2.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/column_definition.js                                                                                                                                         \u001b[2m   7.53 kB\u001b[22m \u001b[2m│ gzip:   2.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/reference-parser.js.map                                                                                                                                 \u001b[2m   7.46 kB\u001b[22m \u001b[2m│ gzip:   1.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-add-index-builder.js.map                                                                                                                    \u001b[2m   7.44 kB\u001b[22m \u001b[2m│ gzip:   1.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                        \u001b[2m   7.42 kB\u001b[22m \u001b[2m│ gzip:   1.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/with-schema/with-schema-transformer.js                                                                                                                  \u001b[2m   7.32 kB\u001b[22m \u001b[2m│ gzip:   1.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mschema.d.ts.map                                                                                                                                                                                                               \u001b[2m   7.31 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/sasl.js                                                                                                                                                               \u001b[2m   7.29 kB\u001b[22m \u001b[2m│ gzip:   2.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/resultset_header.js.map                                                                                                                                      \u001b[2m   7.20 kB\u001b[22m \u001b[2m│ gzip:   2.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/native/client.js                                                                                                                                                             \u001b[2m   7.16 kB\u001b[22m \u001b[2m│ gzip:   2.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/object-utils.js.map                                                                                                                                       \u001b[2m   7.14 kB\u001b[22m \u001b[2m│ gzip:   1.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/binary_parser.js                                                                                                                                             \u001b[2m   7.13 kB\u001b[22m \u001b[2m│ gzip:   2.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/ansi-styles@3.2.1/node_modules/ansi-styles/index.js.map                                                                                                                                                    \u001b[2m   7.07 kB\u001b[22m \u001b[2m│ gzip:   2.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                         \u001b[2m   7.07 kB\u001b[22m \u001b[2m│ gzip:   2.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/clients.js.map                                                                                                                                                                                                         \u001b[2m   7.07 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/on-conflict-builder.js                                                                                                                           \u001b[2m   7.06 kB\u001b[22m \u001b[2m│ gzip:   1.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/promise.js                                                                                                                                                               \u001b[2m   7.06 kB\u001b[22m \u001b[2m│ gzip:   1.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/utf32.js                                                                                                                                                \u001b[2m   7.05 kB\u001b[22m \u001b[2m│ gzip:   1.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/routes.js                                                                                                                                                                                                              \u001b[2m   7.01 kB\u001b[22m \u001b[2m│ gzip:   1.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/select-query-node.js.map                                                                                                                        \u001b[2m   7.00 kB\u001b[22m \u001b[2m│ gzip:   1.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/handle-empty-in-lists/handle-empty-in-lists-plugin.js.map                                                                                               \u001b[2m   6.97 kB\u001b[22m \u001b[2m│ gzip:   2.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-name@1.1.3/node_modules/color-name/index.js                                                                                                                                                          \u001b[2m   6.96 kB\u001b[22m \u001b[2m│ gzip:   1.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-name@1.1.4/node_modules/color-name/index.js                                                                                                                                                          \u001b[2m   6.96 kB\u001b[22m \u001b[2m│ gzip:   1.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js.map                                                    \u001b[2m   6.93 kB\u001b[22m \u001b[2m│ gzip:   2.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/seq-queue@0.0.5/node_modules/seq-queue/lib/seq-queue.js.map                                                                                                                                                \u001b[2m   6.91 kB\u001b[22m \u001b[2m│ gzip:   2.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/aggregate-function-builder.js                                                                                                                    \u001b[2m   6.90 kB\u001b[22m \u001b[2m│ gzip:   1.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/constants.js.map                                                                                                                                                \u001b[2m   6.90 kB\u001b[22m \u001b[2m│ gzip:   2.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/json-path-builder.js                                                                                                                             \u001b[2m   6.86 kB\u001b[22m \u001b[2m│ gzip:   1.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/aws-ssl-profiles@1.1.2/node_modules/aws-ssl-profiles/lib/profiles/ca/proxies.js                                                                                                                            \u001b[2m   6.84 kB\u001b[22m \u001b[2m│ gzip:   4.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/utf7.js                                                                                                                                                 \u001b[2m   6.83 kB\u001b[22m \u001b[2m│ gzip:   1.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-driver.js.map                                                                                                                            \u001b[2m   6.80 kB\u001b[22m \u001b[2m│ gzip:   2.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/index.js.map                                                                                                                                                 \u001b[2m   6.80 kB\u001b[22m \u001b[2m│ gzip:   2.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/table.js                                                                                                                                     \u001b[2m   6.79 kB\u001b[22m \u001b[2m│ gzip:   1.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mschema.js                                                                                                                                                                                                                     \u001b[2m   6.78 kB\u001b[22m \u001b[2m│ gzip:   1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-add-index-builder.js.map                                                                                                                    \u001b[2m   6.74 kB\u001b[22m \u001b[2m│ gzip:   1.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-adapter.js.map                                                    \u001b[2m   6.71 kB\u001b[22m \u001b[2m│ gzip:   1.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/handle-empty-in-lists/handle-empty-in-lists-plugin.js                                                                                                   \u001b[2m   6.71 kB\u001b[22m \u001b[2m│ gzip:   2.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/parse.js                                                                                                                                                              \u001b[2m   6.70 kB\u001b[22m \u001b[2m│ gzip:   1.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-index-builder.js                                                                                                                                 \u001b[2m   6.70 kB\u001b[22m \u001b[2m│ gzip:   1.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/sbcs-data.js.map                                                                                                                                        \u001b[2m   6.68 kB\u001b[22m \u001b[2m│ gzip:   2.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/compressed_protocol.js.map                                                                                                                                           \u001b[2m   6.63 kB\u001b[22m \u001b[2m│ gzip:   2.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                         \u001b[2m   6.62 kB\u001b[22m \u001b[2m│ gzip:   2.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/expression/expression-wrapper.js.map                                                                                                                           \u001b[2m   6.58 kB\u001b[22m \u001b[2m│ gzip:   1.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fill-range@7.1.1/node_modules/fill-range/index.js                                                                                                                                                          \u001b[2m   6.56 kB\u001b[22m \u001b[2m│ gzip:   1.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/prepare.js.map                                                                                                                                              \u001b[2m   6.51 kB\u001b[22m \u001b[2m│ gzip:   1.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/client_handshake.js                                                                                                                                         \u001b[2m   6.46 kB\u001b[22m \u001b[2m│ gzip:   1.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/model-checker-adapter.js.map                                                                                                                                                                        \u001b[2m   6.46 kB\u001b[22m \u001b[2m│ gzip:   2.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/to-regex-range@5.0.1/node_modules/to-regex-range/index.js                                                                                                                                                  \u001b[2m   6.45 kB\u001b[22m \u001b[2m│ gzip:   2.22 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/database.js.map                                                                                                                                      \u001b[2m   6.39 kB\u001b[22m \u001b[2m│ gzip:   2.22 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/line.js.map                                                                                                                                                          \u001b[2m   6.38 kB\u001b[22m \u001b[2m│ gzip:   2.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/text_parser.js                                                                                                                                               \u001b[2m   6.37 kB\u001b[22m \u001b[2m│ gzip:   1.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/handshake.js.map                                                                                                                                             \u001b[2m   6.33 kB\u001b[22m \u001b[2m│ gzip:   1.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/binary-operation-parser.js.map                                                                                                                          \u001b[2m   6.32 kB\u001b[22m \u001b[2m│ gzip:   1.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/minimist@1.2.8/node_modules/minimist/index.js                                                                                                                                                              \u001b[2m   6.31 kB\u001b[22m \u001b[2m│ gzip:   1.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/cert-signatures.js.map                                                                                                                                                \u001b[2m   6.31 kB\u001b[22m \u001b[2m│ gzip:   1.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@4.1.2/node_modules/chalk/source/templates.js.map                                                                                                                                                     \u001b[2m   6.29 kB\u001b[22m \u001b[2m│ gzip:   2.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-driver.js.map                                                                                                                        \u001b[2m   6.20 kB\u001b[22m \u001b[2m│ gzip:   1.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node-visitor.js                                                                                                                       \u001b[2m   6.16 kB\u001b[22m \u001b[2m│ gzip:   1.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-introspector.js.map                                                                                                                  \u001b[2m   6.16 kB\u001b[22m \u001b[2m│ gzip:   2.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/base.js                                                                                                                                                              \u001b[2m   6.15 kB\u001b[22m \u001b[2m│ gzip:   1.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/base/pool.js                                                                                                                                                         \u001b[2m   6.10 kB\u001b[22m \u001b[2m│ gzip:   1.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/static_binary_parser.js                                                                                                                                      \u001b[2m   6.09 kB\u001b[22m \u001b[2m│ gzip:   1.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/postgres-introspector.js                                             \u001b[2m   6.07 kB\u001b[22m \u001b[2m│ gzip:   1.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/query-node.js.map                                                                                                                               \u001b[2m   6.04 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                         \u001b[2m   6.03 kB\u001b[22m \u001b[2m│ gzip:   1.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/lru.min@1.1.3/node_modules/lru.min/lib/index.js                                                                                                                                                            \u001b[2m   6.02 kB\u001b[22m \u001b[2m│ gzip:   1.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/index.js.map                                                                                                                                                              \u001b[2m   5.97 kB\u001b[22m \u001b[2m│ gzip:   1.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/logger.js.map                                                                     \u001b[2m   5.97 kB\u001b[22m \u001b[2m│ gzip:   1.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/generate-function@2.3.1/node_modules/generate-function/index.js.map                                                                                                                                        \u001b[2m   5.94 kB\u001b[22m \u001b[2m│ gzip:   1.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/fs/index.js.map                                                                                                                                                  \u001b[2m   5.93 kB\u001b[22m \u001b[2m│ gzip:   1.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/reference-parser.js.map                                                                                                                                 \u001b[2m   5.90 kB\u001b[22m \u001b[2m│ gzip:   1.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/execute.js.map                                                                                                                                              \u001b[2m   5.90 kB\u001b[22m \u001b[2m│ gzip:   1.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/binaryParsers.js                                                                                                                                                  \u001b[2m   5.89 kB\u001b[22m \u001b[2m│ gzip:   1.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/with-schema/with-schema-transformer.js                                                                                                                  \u001b[2m   5.88 kB\u001b[22m \u001b[2m│ gzip:   1.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@2.4.2/node_modules/chalk/templates.js.map                                                                                                                                                            \u001b[2m   5.88 kB\u001b[22m \u001b[2m│ gzip:   2.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/postgres-dialect.js.map                                              \u001b[2m   5.85 kB\u001b[22m \u001b[2m│ gzip:   2.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                           \u001b[2m   5.82 kB\u001b[22m \u001b[2m│ gzip:   1.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                \u001b[2m   5.81 kB\u001b[22m \u001b[2m│ gzip:   2.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/glob@7.2.3/node_modules/glob/common.js                                                                                                                                                                     \u001b[2m   5.80 kB\u001b[22m \u001b[2m│ gzip:   1.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/raw-builder/sql.js.map                                                                                                                                         \u001b[2m   5.80 kB\u001b[22m \u001b[2m│ gzip:   1.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-driver.js                                                                                                                                  \u001b[2m   5.79 kB\u001b[22m \u001b[2m│ gzip:   1.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/execute.js                                                                                                                                                   \u001b[2m   5.79 kB\u001b[22m \u001b[2m│ gzip:   1.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/reference-parser.js                                                                                                                                     \u001b[2m   5.75 kB\u001b[22m \u001b[2m│ gzip:   1.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-introspector.js.map                                                                                                                  \u001b[2m   5.75 kB\u001b[22m \u001b[2m│ gzip:   2.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/split2@4.2.0/node_modules/split2/index.js.map                                                                                                                                                              \u001b[2m   5.75 kB\u001b[22m \u001b[2m│ gzip:   2.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/select-query-node.js.map                                                                                                                        \u001b[2m   5.74 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                     \u001b[2m   5.72 kB\u001b[22m \u001b[2m│ gzip:   1.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-parser.js.map                                                     \u001b[2m   5.71 kB\u001b[22m \u001b[2m│ gzip:   1.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/camel-case/camel-case.js.map                                                                                                                            \u001b[2m   5.71 kB\u001b[22m \u001b[2m│ gzip:   1.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/state.js.map                                                                                                                                                                                                           \u001b[2m   5.71 kB\u001b[22m \u001b[2m│ gzip:   1.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/generator/generator.js.map                                                             \u001b[2m   5.70 kB\u001b[22m \u001b[2m│ gzip:   1.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/serializer.js                                                                                                                                             \u001b[2m   5.70 kB\u001b[22m \u001b[2m│ gzip:   1.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/connection.js                                                                                                                                                \u001b[2m   5.68 kB\u001b[22m \u001b[2m│ gzip:   1.22 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/connection-string-parser.js.map                                                   \u001b[2m   5.68 kB\u001b[22m \u001b[2m│ gzip:   2.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@4.1.2/node_modules/chalk/source/index.js                                                                                                                                                             \u001b[2m   5.67 kB\u001b[22m \u001b[2m│ gzip:   1.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-connection-string@2.11.0/node_modules/pg-connection-string/index.js                                                                                                                                     \u001b[2m   5.67 kB\u001b[22m \u001b[2m│ gzip:   2.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/textParsers.js                                                                                                                                                    \u001b[2m   5.66 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-interval@1.2.0/node_modules/postgres-interval/index.js.map                                                                                                                                        \u001b[2m   5.63 kB\u001b[22m \u001b[2m│ gzip:   2.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlstring@2.3.3/node_modules/sqlstring/lib/SqlString.js                                                                                                                                                    \u001b[2m   5.63 kB\u001b[22m \u001b[2m│ gzip:   1.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/expression/expression-wrapper.js.map                                                                                                                           \u001b[2m   5.60 kB\u001b[22m \u001b[2m│ gzip:   1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@2.4.2/node_modules/chalk/index.js                                                                                                                                                                    \u001b[2m   5.60 kB\u001b[22m \u001b[2m│ gzip:   1.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/charset_encodings.js.map                                                                                                                                   \u001b[2m   5.59 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dynamic/dynamic.js.map                                                                                                                                         \u001b[2m   5.55 kB\u001b[22m \u001b[2m│ gzip:   1.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-add-index-builder.js                                                                                                                        \u001b[2m   5.51 kB\u001b[22m \u001b[2m│ gzip:   1.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/auth_switch.js.map                                                                                                                                          \u001b[2m   5.50 kB\u001b[22m \u001b[2m│ gzip:   1.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/binlog_query_statusvars.js.map                                                                                                                               \u001b[2m   5.49 kB\u001b[22m \u001b[2m│ gzip:   1.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-F2DQ4FIK.js                                                                                                                       \u001b[2m   5.47 kB\u001b[22m \u001b[2m│ gzip:   1.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-introspector.js.map                                                                                                                      \u001b[2m   5.47 kB\u001b[22m \u001b[2m│ gzip:   2.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operation-node-visitor.js                                                                                                                       \u001b[2m   5.46 kB\u001b[22m \u001b[2m│ gzip:   1.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/case-builder.js.map                                                                                                                              \u001b[2m   5.42 kB\u001b[22m \u001b[2m│ gzip:   1.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/copy/copy-sync.js                                                                                                                                                \u001b[2m   5.41 kB\u001b[22m \u001b[2m│ gzip:   1.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/camel-case/camel-case-plugin.js.map                                                                                                                     \u001b[2m   5.37 kB\u001b[22m \u001b[2m│ gzip:   1.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/internal.js                                                                                                                                             \u001b[2m   5.37 kB\u001b[22m \u001b[2m│ gzip:   1.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs.realpath@1.0.0/node_modules/fs.realpath/old.js                                                                                                                                                          \u001b[2m   5.35 kB\u001b[22m \u001b[2m│ gzip:   1.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/create.js                                                                                                                                                           \u001b[2m   5.34 kB\u001b[22m \u001b[2m│ gzip:   1.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/definitions.js.map                                                         \u001b[2m   5.33 kB\u001b[22m \u001b[2m│ gzip:   1.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packet_parser.js                                                                                                                                                     \u001b[2m   5.26 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/bindings@1.5.0/node_modules/bindings/bindings.js                                                                                                                                                           \u001b[2m   5.26 kB\u001b[22m \u001b[2m│ gzip:   1.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/util/stat.js                                                                                                                                                     \u001b[2m   5.26 kB\u001b[22m \u001b[2m│ gzip:   1.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/json-path-builder.js                                                                                                                             \u001b[2m   5.25 kB\u001b[22m \u001b[2m│ gzip:   1.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                      \u001b[2m   5.24 kB\u001b[22m \u001b[2m│ gzip:   1.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dynamic/dynamic.js.map                                                                                                                                         \u001b[2m   5.24 kB\u001b[22m \u001b[2m│ gzip:   1.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-introspector.js.map                                                                                                                      \u001b[2m   5.22 kB\u001b[22m \u001b[2m│ gzip:   1.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/change_user.js.map                                                                                                                                           \u001b[2m   5.19 kB\u001b[22m \u001b[2m│ gzip:   1.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/handshake_response.js                                                                                                                                        \u001b[2m   5.19 kB\u001b[22m \u001b[2m│ gzip:   1.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/server_handshake.js                                                                                                                                         \u001b[2m   5.18 kB\u001b[22m \u001b[2m│ gzip:   1.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/messages.js                                                                                                                                               \u001b[2m   5.17 kB\u001b[22m \u001b[2m│ gzip:   1.22 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/order-by-parser.js.map                                                                                                                                  \u001b[2m   5.16 kB\u001b[22m \u001b[2m│ gzip:   1.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                             \u001b[2m   5.14 kB\u001b[22m \u001b[2m│ gzip:   1.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-view-builder.js.map                                                                                                                              \u001b[2m   5.14 kB\u001b[22m \u001b[2m│ gzip:   1.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-index-builder.js                                                                                                                                 \u001b[2m   5.14 kB\u001b[22m \u001b[2m│ gzip:   1.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/runtime-driver.js                                                                                                                                       \u001b[2m   5.13 kB\u001b[22m \u001b[2m│ gzip:   1.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/caching_sha2_password.js.map                                                                                                                            \u001b[2m   5.13 kB\u001b[22m \u001b[2m│ gzip:   1.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                 \u001b[2m   5.12 kB\u001b[22m \u001b[2m│ gzip:   1.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-driver.js                                                                                                                            \u001b[2m   5.11 kB\u001b[22m \u001b[2m│ gzip:   1.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/binary_row.js.map                                                                                                                                            \u001b[2m   5.11 kB\u001b[22m \u001b[2m│ gzip:   1.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-introspector.js                                                                                                                            \u001b[2m   5.09 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/expand.js.map                                                                                                                                                         \u001b[2m   5.07 kB\u001b[22m \u001b[2m│ gzip:   1.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/expression/expression-builder.js                                                                                                                               \u001b[2m   5.07 kB\u001b[22m \u001b[2m│ gzip:   1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dynamic/dynamic.js                                                                                                                                             \u001b[2m   5.05 kB\u001b[22m \u001b[2m│ gzip:   1.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                        \u001b[2m   5.03 kB\u001b[22m \u001b[2m│ gzip:   1.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/connection-parameters.js                                                                                                                                                     \u001b[2m   5.02 kB\u001b[22m \u001b[2m│ gzip:   1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/expression/expression-wrapper.js                                                                                                                               \u001b[2m   5.01 kB\u001b[22m \u001b[2m│ gzip:   1.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/connection.js                                                                                                                                                                \u001b[2m   5.01 kB\u001b[22m \u001b[2m│ gzip:   1.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/streams.js.map                                                                                                                                                \u001b[2m   5.01 kB\u001b[22m \u001b[2m│ gzip:   1.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/binary-operation-parser.js.map                                                                                                                          \u001b[2m   4.99 kB\u001b[22m \u001b[2m│ gzip:   1.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/index.js                                                                                                                                                     \u001b[2m   4.99 kB\u001b[22m \u001b[2m│ gzip:   1.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/transaction.js.map                                                                                                                           \u001b[2m   4.95 kB\u001b[22m \u001b[2m│ gzip:   1.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/binary-operation-parser.js                                                                                                                              \u001b[2m   4.95 kB\u001b[22m \u001b[2m│ gzip:   1.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-introspector.js.map                                                                                                                        \u001b[2m   4.94 kB\u001b[22m \u001b[2m│ gzip:   1.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/query.js                                                                                                                                                                     \u001b[2m   4.93 kB\u001b[22m \u001b[2m│ gzip:   1.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/coincident@1.2.3/node_modules/coincident/esm/index.js                                                                                                                                                      \u001b[2m   4.91 kB\u001b[22m \u001b[2m│ gzip:   2.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/database.js                                                                                                                                          \u001b[2m   4.90 kB\u001b[22m \u001b[2m│ gzip:   1.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/supports-color@7.2.0/node_modules/supports-color/index.js.map                                                                                                                                              \u001b[2m   4.89 kB\u001b[22m \u001b[2m│ gzip:   1.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/copy/copy.js                                                                                                                                                     \u001b[2m   4.88 kB\u001b[22m \u001b[2m│ gzip:   1.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/pool.js.map                                                                                                                                                  \u001b[2m   4.87 kB\u001b[22m \u001b[2m│ gzip:   1.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/binlog_dump.js.map                                                                                                                                          \u001b[2m   4.86 kB\u001b[22m \u001b[2m│ gzip:   1.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/raw-builder/raw-builder.js.map                                                                                                                                 \u001b[2m   4.84 kB\u001b[22m \u001b[2m│ gzip:   1.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/util/distance-iterator.js.map                                                                                                                                             \u001b[2m   4.83 kB\u001b[22m \u001b[2m│ gzip:   2.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/index.js                                                                                                                                                      \u001b[2m   4.81 kB\u001b[22m \u001b[2m│ gzip:   1.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/generateDiff/index.js.map                                                                                                                              \u001b[2m   4.81 kB\u001b[22m \u001b[2m│ gzip:   1.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/utils.js                                                                                                                                                                     \u001b[2m   4.80 kB\u001b[22m \u001b[2m│ gzip:   1.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/supports-color@5.5.0/node_modules/supports-color/index.js.map                                                                                                                                              \u001b[2m   4.78 kB\u001b[22m \u001b[2m│ gzip:   1.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/insert-values-parser.js.map                                                                                                                             \u001b[2m   4.75 kB\u001b[22m \u001b[2m│ gzip:   1.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/sbcs-data.js                                                                                                                                            \u001b[2m   4.75 kB\u001b[22m \u001b[2m│ gzip:   1.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/query-node.js.map                                                                                                                               \u001b[2m   4.74 kB\u001b[22m \u001b[2m│ gzip:   1.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/index.js                                                                                                                                                                  \u001b[2m   4.74 kB\u001b[22m \u001b[2m│ gzip:   1.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-introspector.js.map                                               \u001b[2m   4.73 kB\u001b[22m \u001b[2m│ gzip:   1.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/seq-queue@0.0.5/node_modules/seq-queue/lib/seq-queue.js                                                                                                                                                    \u001b[2m   4.72 kB\u001b[22m \u001b[2m│ gzip:   1.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pgpass@1.0.5/node_modules/pgpass/lib/helper.js                                                                                                                                                             \u001b[2m   4.71 kB\u001b[22m \u001b[2m│ gzip:   1.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/object-utils.js.map                                                                                                                                       \u001b[2m   4.71 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                     \u001b[2m   4.70 kB\u001b[22m \u001b[2m│ gzip:   1.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js                                                        \u001b[2m   4.69 kB\u001b[22m \u001b[2m│ gzip:   1.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/legacy-streams.js.map                                                                                                                                          \u001b[2m   4.68 kB\u001b[22m \u001b[2m│ gzip:   1.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/postgres-adapter.js                                                  \u001b[2m   4.68 kB\u001b[22m \u001b[2m│ gzip:   1.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/result.js.map                                                                                                                                                                \u001b[2m   4.64 kB\u001b[22m \u001b[2m│ gzip:   1.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-date@1.0.7/node_modules/postgres-date/index.js.map                                                                                                                                                \u001b[2m   4.64 kB\u001b[22m \u001b[2m│ gzip:   1.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/static_text_parser.js                                                                                                                                        \u001b[2m   4.62 kB\u001b[22m \u001b[2m│ gzip:   1.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-view-builder.js.map                                                                                                                              \u001b[2m   4.59 kB\u001b[22m \u001b[2m│ gzip:   1.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/gb18030-ranges.js.map                                                                                                                            \u001b[2m   4.59 kB\u001b[22m \u001b[2m│ gzip:   1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/raw-builder/sql.js.map                                                                                                                                         \u001b[2m   4.59 kB\u001b[22m \u001b[2m│ gzip:   1.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/ansi-styles@4.3.0/node_modules/ansi-styles/index.js                                                                                                                                                        \u001b[2m   4.59 kB\u001b[22m \u001b[2m│ gzip:   1.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/apply.js                                                                                                                                                            \u001b[2m   4.59 kB\u001b[22m \u001b[2m│ gzip:   1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-query-compiler.js.map                                                                                                                      \u001b[2m   4.57 kB\u001b[22m \u001b[2m│ gzip:   1.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/buffer-writer.js.map                                                                                                                                      \u001b[2m   4.56 kB\u001b[22m \u001b[2m│ gzip:   1.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/parse-json-results/parse-json-results-plugin.js.map                                                                                                     \u001b[2m   4.51 kB\u001b[22m \u001b[2m│ gzip:   1.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/handle-empty-in-lists/handle-empty-in-lists.js.map                                                                                                      \u001b[2m   4.51 kB\u001b[22m \u001b[2m│ gzip:   1.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/function-module.js.map                                                                                                                           \u001b[2m   4.49 kB\u001b[22m \u001b[2m│ gzip:   1.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/symlink-paths.js.map                                                                                                                                      \u001b[2m   4.47 kB\u001b[22m \u001b[2m│ gzip:   1.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                       \u001b[2m   4.46 kB\u001b[22m \u001b[2m│ gzip:   1.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/native/query.js                                                                                                                                                              \u001b[2m   4.43 kB\u001b[22m \u001b[2m│ gzip:   1.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                     \u001b[2m   4.43 kB\u001b[22m \u001b[2m│ gzip:   1.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/gb18030-ranges.js                                                                                                                                \u001b[2m   4.43 kB\u001b[22m \u001b[2m│ gzip:   1.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/runtime-driver.js                                                                                                                                       \u001b[2m   4.42 kB\u001b[22m \u001b[2m│ gzip:   1.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/utils.js.map                                                                                                                                                          \u001b[2m   4.41 kB\u001b[22m \u001b[2m│ gzip:   1.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/query-node.js                                                                                                                                   \u001b[2m   4.39 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-driver.js                                                                                                                                \u001b[2m   4.38 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/raw-builder/raw-builder.js.map                                                                                                                                 \u001b[2m   4.38 kB\u001b[22m \u001b[2m│ gzip:   1.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/select-query-node.js                                                                                                                            \u001b[2m   4.35 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map              \u001b[2m   4.35 kB\u001b[22m \u001b[2m│ gzip:   1.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/postgres-dialect.js                                                  \u001b[2m   4.34 kB\u001b[22m \u001b[2m│ gzip:   1.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                    \u001b[2m   4.33 kB\u001b[22m \u001b[2m│ gzip:   1.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/brace-expansion@1.1.12/node_modules/brace-expansion/index.js                                                                                                                                               \u001b[2m   4.32 kB\u001b[22m \u001b[2m│ gzip:   1.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/resultset_header.js                                                                                                                                          \u001b[2m   4.31 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/utf16.js                                                                                                                                                \u001b[2m   4.31 kB\u001b[22m \u001b[2m│ gzip:   1.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/index.js                                                                           \u001b[2m   4.30 kB\u001b[22m \u001b[2m│ gzip:   1.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operator-node.js.map                                                                                                                            \u001b[2m   4.30 kB\u001b[22m \u001b[2m│ gzip:   1.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/constants.js                                                                                                                                                    \u001b[2m   4.29 kB\u001b[22m \u001b[2m│ gzip:   1.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/order-by-parser.js.map                                                                                                                                  \u001b[2m   4.28 kB\u001b[22m \u001b[2m│ gzip:   1.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dynamic/dynamic.js                                                                                                                                             \u001b[2m   4.27 kB\u001b[22m \u001b[2m│ gzip:   1.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/camel-case/camel-case-plugin.js                                                                                                                         \u001b[2m   4.26 kB\u001b[22m \u001b[2m│ gzip:   1.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-adapter.js                                                        \u001b[2m   4.25 kB\u001b[22m \u001b[2m│ gzip:   1.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-add-index-builder.js                                                                                                                        \u001b[2m   4.23 kB\u001b[22m \u001b[2m│ gzip:   1.05 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/named-placeholders@1.1.6/node_modules/named-placeholders/index.js                                                                                                                                          \u001b[2m   4.23 kB\u001b[22m \u001b[2m│ gzip:   1.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/utils-webcrypto.js.map                                                                                                                                                \u001b[2m   4.20 kB\u001b[22m \u001b[2m│ gzip:   1.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-add-foreign-key-constraint-builder.js.map                                                                                                   \u001b[2m   4.19 kB\u001b[22m \u001b[2m│ gzip:   1.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/object-utils.js                                                                                                                                           \u001b[2m   4.17 kB\u001b[22m \u001b[2m│ gzip:   1.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/raw-builder/sql.js                                                                                                                                             \u001b[2m   4.16 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/case-builder.js.map                                                                                                                              \u001b[2m   4.15 kB\u001b[22m \u001b[2m│ gzip:   0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/backup.js.map                                                                                                                                \u001b[2m   4.14 kB\u001b[22m \u001b[2m│ gzip:   1.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/clients.js                                                                                                                                                                                                             \u001b[2m   4.10 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-array@2.0.0/node_modules/postgres-array/index.js.map                                                                                                                                              \u001b[2m   4.10 kB\u001b[22m \u001b[2m│ gzip:   1.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/order-by-parser.js                                                                                                                                      \u001b[2m   4.07 kB\u001b[22m \u001b[2m│ gzip:   1.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/prepare.js                                                                                                                                                  \u001b[2m   4.07 kB\u001b[22m \u001b[2m│ gzip:   1.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-dialect.js.map                                                  \u001b[2m   4.04 kB\u001b[22m \u001b[2m│ gzip:   1.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/connection-string-parser.js                                                       \u001b[2m   4.04 kB\u001b[22m \u001b[2m│ gzip:   1.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/ansi-styles@3.2.1/node_modules/ansi-styles/index.js                                                                                                                                                        \u001b[2m   4.03 kB\u001b[22m \u001b[2m│ gzip:   1.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/shell.js.map                                                                                                                                                            \u001b[2m   4.00 kB\u001b[22m \u001b[2m│ gzip:   1.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/types.js.map                                                                                                                                               \u001b[2m   3.99 kB\u001b[22m \u001b[2m│ gzip:   1.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/model-checker-adapter.js                                                                                                                                                                            \u001b[2m   3.99 kB\u001b[22m \u001b[2m│ gzip:   1.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mbindings-runner.js.map                                                                                                                                                                                                        \u001b[2m   3.99 kB\u001b[22m \u001b[2m│ gzip:   1.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/handle-empty-in-lists/handle-empty-in-lists.js                                                                                                          \u001b[2m   3.98 kB\u001b[22m \u001b[2m│ gzip:   1.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/insert-values-parser.js.map                                                                                                                             \u001b[2m   3.97 kB\u001b[22m \u001b[2m│ gzip:   1.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mbindings.js                                                                                                                                                                                                                   \u001b[2m   3.96 kB\u001b[22m \u001b[2m│ gzip:   1.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner.js                                                                                                                                                                                                                     \u001b[2m   3.96 kB\u001b[22m \u001b[2m│ gzip:   1.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/query-executor-base.js.map                                                                                                                      \u001b[2m   3.95 kB\u001b[22m \u001b[2m│ gzip:   1.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/refresh-materialized-view-builder.js.map                                                                                                                \u001b[2m   3.94 kB\u001b[22m \u001b[2m│ gzip:   1.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                         \u001b[2m   3.93 kB\u001b[22m \u001b[2m│ gzip:   1.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                    \u001b[2m   3.92 kB\u001b[22m \u001b[2m│ gzip:   1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/change_user.js.map                                                                                                                                          \u001b[2m   3.92 kB\u001b[22m \u001b[2m│ gzip:   1.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/case-builder.js                                                                                                                                  \u001b[2m   3.92 kB\u001b[22m \u001b[2m│ gzip:   0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/coincident@1.2.3/node_modules/coincident/esm/bridge.js.map                                                                                                                                                 \u001b[2m   3.92 kB\u001b[22m \u001b[2m│ gzip:   1.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/handshake.js                                                                                                                                                 \u001b[2m   3.91 kB\u001b[22m \u001b[2m│ gzip:   1.14 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/dotenv-expand@11.0.7/node_modules/dotenv-expand/lib/main.js.map                                                                                                                                            \u001b[2m   3.89 kB\u001b[22m \u001b[2m│ gzip:   1.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-column-builder.js.map                                                                                                                             \u001b[2m   3.89 kB\u001b[22m \u001b[2m│ gzip:   1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/charset_encodings.js                                                                                                                                       \u001b[2m   3.87 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                               \u001b[2m   3.87 kB\u001b[22m \u001b[2m│ gzip:   1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/route.js.map                                                                                                                                                \u001b[2m   3.86 kB\u001b[22m \u001b[2m│ gzip:   1.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/convert/xml.js.map                                                                                                                                                        \u001b[2m   3.86 kB\u001b[22m \u001b[2m│ gzip:   1.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/dialect-manager.js.map                                                            \u001b[2m   3.83 kB\u001b[22m \u001b[2m│ gzip:   1.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@1.9.3/node_modules/color-convert/route.js.map                                                                                                                                                \u001b[2m   3.83 kB\u001b[22m \u001b[2m│ gzip:   1.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/insert-values-parser.js                                                                                                                                 \u001b[2m   3.82 kB\u001b[22m \u001b[2m│ gzip:   1.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/cert-signatures.js                                                                                                                                                    \u001b[2m   3.81 kB\u001b[22m \u001b[2m│ gzip:   1.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/auth_switch.js                                                                                                                                              \u001b[2m   3.80 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-add-foreign-key-constraint-builder.js.map                                                                                                   \u001b[2m   3.79 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/logger.js                                                                         \u001b[2m   3.78 kB\u001b[22m \u001b[2m│ gzip:   1.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/compressed_protocol.js                                                                                                                                               \u001b[2m   3.78 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                              \u001b[2m   3.77 kB\u001b[22m \u001b[2m│ gzip:   1.13 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/reference-parser.js                                                                                                                                     \u001b[2m   3.76 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/package.js.map                                                                                                                                                           \u001b[2m   3.76 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/generate-function@2.3.1/node_modules/generate-function/index.js                                                                                                                                            \u001b[2m   3.75 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-drop-constraint-builder.js.map                                                                                                              \u001b[2m   3.75 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-parser.js                                                         \u001b[2m   3.75 kB\u001b[22m \u001b[2m│ gzip:   1.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/on-conflict-node.js.map                                                                                                                         \u001b[2m   3.73 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/order-by-item-builder.js.map                                                                                                                     \u001b[2m   3.73 kB\u001b[22m \u001b[2m│ gzip:   1.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@4.1.2/node_modules/chalk/source/templates.js                                                                                                                                                         \u001b[2m   3.72 kB\u001b[22m \u001b[2m│ gzip:   1.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                   \u001b[2m   3.72 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-view-builder.js                                                                                                                                  \u001b[2m   3.72 kB\u001b[22m \u001b[2m│ gzip:   1.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-adapter.js.map                                                    \u001b[2m   3.67 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_41.js.map                                                                                                                                                       \u001b[2m   3.67 kB\u001b[22m \u001b[2m│ gzip:   1.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-introspector.js                                                                                                                      \u001b[2m   3.67 kB\u001b[22m \u001b[2m│ gzip:   1.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/execute.js                                                                                                                                                  \u001b[2m   3.66 kB\u001b[22m \u001b[2m│ gzip:   1.13 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/symlink-paths.js                                                                                                                                          \u001b[2m   3.65 kB\u001b[22m \u001b[2m│ gzip:   1.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/dbcs-data.js                                                                                                                                            \u001b[2m   3.65 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/generator/generator.js                                                                 \u001b[2m   3.63 kB\u001b[22m \u001b[2m│ gzip:   1.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/sbcs-codec.js.map                                                                                                                                       \u001b[2m   3.62 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/function-module.js.map                                                                                                                           \u001b[2m   3.61 kB\u001b[22m \u001b[2m│ gzip:   1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-executor/query-executor-base.js.map                                                                                                                      \u001b[2m   3.57 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                     \u001b[2m   3.57 kB\u001b[22m \u001b[2m│ gzip:   1.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/aggregate-function-node.js.map                                                                                                                  \u001b[2m   3.56 kB\u001b[22m \u001b[2m│ gzip:   0.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/safer-buffer@2.1.2/node_modules/safer-buffer/safer.js.map                                                                                                                                                  \u001b[2m   3.56 kB\u001b[22m \u001b[2m│ gzip:   1.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/json.js                                                                                                                                                              \u001b[2m   3.55 kB\u001b[22m \u001b[2m│ gzip:   1.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/expression/expression-wrapper.js                                                                                                                               \u001b[2m   3.55 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/patch/parse.js                                                                                                                                                            \u001b[2m   3.54 kB\u001b[22m \u001b[2m│ gzip:   1.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/index.js.map                                                                       \u001b[2m   3.54 kB\u001b[22m \u001b[2m│ gzip:   1.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/refresh-materialized-view-builder.js.map                                                                                                                \u001b[2m   3.51 kB\u001b[22m \u001b[2m│ gzip:   1.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/change_user.js                                                                                                                                               \u001b[2m   3.50 kB\u001b[22m \u001b[2m│ gzip:   1.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/function-module.js                                                                                                                               \u001b[2m   3.50 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jsonfile@6.2.0/node_modules/jsonfile/index.js.map                                                                                                                                                          \u001b[2m   3.50 kB\u001b[22m \u001b[2m│ gzip:   1.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-dialect.js.map                                                    \u001b[2m   3.48 kB\u001b[22m \u001b[2m│ gzip:   1.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                            \u001b[2m   3.48 kB\u001b[22m \u001b[2m│ gzip:   0.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/sqlite-dialect.js.map                                                  \u001b[2m   3.48 kB\u001b[22m \u001b[2m│ gzip:   1.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-table-node.js.map                                                                                                                        \u001b[2m   3.45 kB\u001b[22m \u001b[2m│ gzip:   0.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                      \u001b[2m   3.45 kB\u001b[22m \u001b[2m│ gzip:   1.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@2.4.2/node_modules/chalk/templates.js                                                                                                                                                                \u001b[2m   3.44 kB\u001b[22m \u001b[2m│ gzip:   1.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-dialect.js.map                                          \u001b[2m   3.43 kB\u001b[22m \u001b[2m│ gzip:   1.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/select-parser.js.map                                                                                                                                    \u001b[2m   3.43 kB\u001b[22m \u001b[2m│ gzip:   1.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-introspector.js                                                   \u001b[2m   3.42 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/defaults.js.map                                                                                                                                                              \u001b[2m   3.42 kB\u001b[22m \u001b[2m│ gzip:   1.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/parse-json-results/parse-json-results-plugin.js                                                                                                         \u001b[2m   3.42 kB\u001b[22m \u001b[2m│ gzip:   1.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/process.js                                                                                                                                                                                                             \u001b[2m   3.41 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/raw-builder/raw-builder.js                                                                                                                                     \u001b[2m   3.40 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/utils.js.map                                                                                                                                                    \u001b[2m   3.40 kB\u001b[22m \u001b[2m│ gzip:   1.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/pool.js                                                                                                                                                      \u001b[2m   3.36 kB\u001b[22m \u001b[2m│ gzip:   1.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-interval@1.2.0/node_modules/postgres-interval/index.js                                                                                                                                            \u001b[2m   3.35 kB\u001b[22m \u001b[2m│ gzip:   1.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/definitions.js                                                             \u001b[2m   3.35 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                            \u001b[2m   3.34 kB\u001b[22m \u001b[2m│ gzip:   1.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/aggregate.js.map                                                                                                                             \u001b[2m   3.34 kB\u001b[22m \u001b[2m│ gzip:   1.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mtest.d.ts.map                                                                                                                                                                                                                 \u001b[2m   3.34 kB\u001b[22m \u001b[2m│ gzip:   1.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-column-builder.js                                                                                                                                 \u001b[2m   3.32 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/helpers.js.map                                                                                                                                                       \u001b[2m   3.32 kB\u001b[22m \u001b[2m│ gzip:   1.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-column-builder.js.map                                                                                                                             \u001b[2m   3.31 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/fs/index.js                                                                                                                                                      \u001b[2m   3.31 kB\u001b[22m \u001b[2m│ gzip:   0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/table-parser.js.map                                                                                                                                     \u001b[2m   3.30 kB\u001b[22m \u001b[2m│ gzip:   1.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/binlog_query_statusvars.js                                                                                                                                   \u001b[2m   3.29 kB\u001b[22m \u001b[2m│ gzip:   1.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/introspector/introspector.js.map                                                       \u001b[2m   3.29 kB\u001b[22m \u001b[2m│ gzip:   1.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/flags.js.map                                                                       \u001b[2m   3.29 kB\u001b[22m \u001b[2m│ gzip:   1.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/foreign-key-constraint-builder.js.map                                                                                                                   \u001b[2m   3.26 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-add-foreign-key-constraint-builder.js                                                                                                       \u001b[2m   3.26 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/binlog_dump.js                                                                                                                                              \u001b[2m   3.26 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-QY3QWFKW.js.map                                                                                                                   \u001b[2m   3.25 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-drop-constraint-builder.js.map                                                                                                              \u001b[2m   3.24 kB\u001b[22m \u001b[2m│ gzip:   0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                         \u001b[2m   3.23 kB\u001b[22m \u001b[2m│ gzip:   1.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/log.js.map                                                                                                                                                \u001b[2m   3.22 kB\u001b[22m \u001b[2m│ gzip:   1.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                        \u001b[2m   3.22 kB\u001b[22m \u001b[2m│ gzip:   1.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/caching_sha2_password.js                                                                                                                                \u001b[2m   3.22 kB\u001b[22m \u001b[2m│ gzip:   1.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                         \u001b[2m   3.20 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/index.js                                                                                                                                                                 \u001b[2m   3.20 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/client.js.map                                                                                                                                              \u001b[2m   3.20 kB\u001b[22m \u001b[2m│ gzip:   1.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                              \u001b[2m   3.20 kB\u001b[22m \u001b[2m│ gzip:   1.15 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/order-by-item-builder.js.map                                                                                                                     \u001b[2m   3.20 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/stream.js.map                                                                                                                                                                \u001b[2m   3.20 kB\u001b[22m \u001b[2m│ gzip:   1.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/binary-operation-parser.js                                                                                                                              \u001b[2m   3.19 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/sha256_password.js.map                                                                                                                                  \u001b[2m   3.19 kB\u001b[22m \u001b[2m│ gzip:   1.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-introspector.js                                                                                                                            \u001b[2m   3.18 kB\u001b[22m \u001b[2m│ gzip:   1.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/expand.js                                                                                                                                                             \u001b[2m   3.16 kB\u001b[22m \u001b[2m│ gzip:   1.14 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/index.js                                                                                                                                                                  \u001b[2m   3.16 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/refresh-materialized-view-builder.js                                                                                                                    \u001b[2m   3.15 kB\u001b[22m \u001b[2m│ gzip:   0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/transaction.js                                                                                                                               \u001b[2m   3.12 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-int8@1.0.1/node_modules/pg-int8/index.js.map                                                                                                                                                            \u001b[2m   3.10 kB\u001b[22m \u001b[2m│ gzip:   0.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                     \u001b[2m   3.10 kB\u001b[22m \u001b[2m│ gzip:   1.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-introspector.js                                                                                                                          \u001b[2m   3.09 kB\u001b[22m \u001b[2m│ gzip:   1.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                             \u001b[2m   3.09 kB\u001b[22m \u001b[2m│ gzip:   1.13 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/gbk-added.js.map                                                                                                                                 \u001b[2m   3.09 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                               \u001b[2m   3.09 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@1.9.3/node_modules/color-convert/index.js.map                                                                                                                                                \u001b[2m   3.09 kB\u001b[22m \u001b[2m│ gzip:   1.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[33m[EVAL] Warning:\u001b[0m Use of `eval` function is strongly discouraged as it poses security risks and may cause issues with minification.\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m - Use of `eval` function here. in ../../node_modules/.pnpm/@electric-sql+pglite@0.3.15/node_modules/@electric-sql/pglite/dist/index.js at 90395..90399\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[33m[EVAL] Warning:\u001b[0m Use of `eval` function is strongly discouraged as it poses security risks and may cause issues with minification.\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m - Use of `eval` function here. in ../../node_modules/.pnpm/@electric-sql+pglite@0.3.15/node_modules/@electric-sql/pglite/dist/index.js at 90873..90877\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[33m[UNRESOLVED_IMPORT] Warning:\u001b[0m Could not resolve '@libsql/kysely-libsql' in ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-dialect.js\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m╭\u001b[0m\u001b[38;5;246m─\u001b[0m\u001b[38;5;246m[\u001b[0m ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-dialect.js:37:112 \u001b[38;5;246m]\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m│\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;246m37 │\u001b[0m \u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m{\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mL\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mb\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mq\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249mD\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m:\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mK\u001b[0m\u001b[38;5;249my\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249my\u001b[0m\u001b[38;5;249mL\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mb\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mq\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249mD\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m}\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mw\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mP\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249mv\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mh\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m>\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mp\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mS\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mq\u001b[0m\u001b[38;5;249mu\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m'@libsql/kysely-libsql'\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m;\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                                                ───────────┬───────────  \r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                                                           ╰───────────── Module not found, treating it as an external dependency\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[38;5;246m────╯\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[33m[UNRESOLVED_IMPORT] Warning:\u001b[0m Could not resolve 'kysely-bun-worker' in ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-dialect.js\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m╭\u001b[0m\u001b[38;5;246m─\u001b[0m\u001b[38;5;246m[\u001b[0m ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-dialect.js:37:94 \u001b[38;5;246m]\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m│\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;246m37 │\u001b[0m \u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m{\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mB\u001b[0m\u001b[38;5;249mu\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249mW\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mk\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mD\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m}\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mw\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mP\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249mv\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mh\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m>\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mp\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mS\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mq\u001b[0m\u001b[38;5;249mu\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m'kysely-bun-worker'\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m;\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                              ─────────┬─────────  \r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                                       ╰─────────── Module not found, treating it as an external dependency\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[38;5;246m────╯\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[33m[UNRESOLVED_IMPORT] Warning:\u001b[0m Could not resolve 'tarn' in ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m╭\u001b[0m\u001b[38;5;246m─\u001b[0m\u001b[38;5;246m[\u001b[0m ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js:46:78 \u001b[38;5;246m]\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m│\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;246m46 │\u001b[0m \u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mw\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mP\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249mv\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mh\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m>\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mp\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mS\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mq\u001b[0m\u001b[38;5;249mu\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m'tarn'\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m;\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                              ───┬──  \r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                 ╰──── Module not found, treating it as an external dependency\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[38;5;246m────╯\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[33m[UNRESOLVED_IMPORT] Warning:\u001b[0m Could not resolve 'tedious' in ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m╭\u001b[0m\u001b[38;5;246m─\u001b[0m\u001b[38;5;246m[\u001b[0m ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js:47:81 \u001b[38;5;246m]\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m│\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;246m47 │\u001b[0m \u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249md\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mu\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mw\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mP\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249mv\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mh\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m>\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mp\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mS\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mq\u001b[0m\u001b[38;5;249mu\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m'tedious'\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m;\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                 ────┬────  \r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                     ╰────── Module not found, treating it as an external dependency\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[38;5;246m────╯\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[33m[UNRESOLVED_IMPORT] Warning:\u001b[0m Could not resolve '@tediousjs/connection-string' in ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m╭\u001b[0m\u001b[38;5;246m─\u001b[0m\u001b[38;5;246m[\u001b[0m ../../node_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-dialect.js:80:95 \u001b[38;5;246m]\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m    \u001b[38;5;246m│\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;246m80 │\u001b[0m \u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m{\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mp\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mC\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mc\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249mS\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249mg\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m}\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mw\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249mP\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249ms\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249ml\u001b[0m\u001b[38;5;249mv\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m.\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mh\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mn\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m=\u001b[0m\u001b[38;5;249m>\u001b[0m\u001b[38;5;249m \u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249m_\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mm\u001b[0m\u001b[38;5;249mp\u001b[0m\u001b[38;5;249mo\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249mS\u001b[0m\u001b[38;5;249mt\u001b[0m\u001b[38;5;249ma\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249m(\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249mq\u001b[0m\u001b[38;5;249mu\u001b[0m\u001b[38;5;249mi\u001b[0m\u001b[38;5;249mr\u001b[0m\u001b[38;5;249me\u001b[0m\u001b[38;5;249m(\u001b[0m'@tediousjs/connection-string'\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m)\u001b[0m\u001b[38;5;249m;\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                               ───────────────┬──────────────  \r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m \u001b[38;5;240m   │\u001b[0m                                                                                                              ╰──────────────── Module not found, treating it as an external dependency\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[38;5;246m────╯\u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m ✓ src/mod.test.ts (1 test) 6ms\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m ✓ src/outbox.test.ts (3 tests) 16ms\r\n\u001b[32m@fragno-dev/fragment-mailing-list:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/fragment-mailing-list:types:check: \u001b[0m> @fragno-dev/fragment-mailing-list@0.0.5 types:check /home/jan/rejot/fragno/packages/fragment-mailing-list\r\n\u001b[32m@fragno-dev/fragment-mailing-list:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[32m@fragno-dev/fragment-mailing-list:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/symlink.js.map                                                                                                                                            \u001b[2m   3.08 kB\u001b[22m \u001b[2m│ gzip:   1.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-index-builder.js.map                                                                                                                               \u001b[2m   3.07 kB\u001b[22m \u001b[2m│ gzip:   1.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/index.js.map                                                                                                                                                \u001b[2m   3.07 kB\u001b[22m \u001b[2m│ gzip:   1.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/on-conflict-node.js.map                                                                                                                         \u001b[2m   3.05 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/generateDiff/index.js                                                                                                                                  \u001b[2m   3.05 kB\u001b[22m \u001b[2m│ gzip:   1.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                          \u001b[2m   3.04 kB\u001b[22m \u001b[2m│ gzip:   1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/symbol-collection.js.map                                                   \u001b[2m   3.03 kB\u001b[22m \u001b[2m│ gzip:   1.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/streams.js                                                                                                                                                    \u001b[2m   3.02 kB\u001b[22m \u001b[2m│ gzip:   0.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/supports-color@7.2.0/node_modules/supports-color/index.js                                                                                                                                                  \u001b[2m   3.01 kB\u001b[22m \u001b[2m│ gzip:   1.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operator-node.js                                                                                                                                \u001b[2m   2.99 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/index.js.map                                                                                                                                                             \u001b[2m   2.99 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operator-node.js.map                                                                                                                            \u001b[2m   2.98 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/aggregate-function-node.js.map                                                                                                                  \u001b[2m   2.97 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/migration/file-migration-provider.js.map                                                                                                                       \u001b[2m   2.96 kB\u001b[22m \u001b[2m│ gzip:   1.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/binary_row.js                                                                                                                                                \u001b[2m   2.96 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map  \u001b[2m   2.95 kB\u001b[22m \u001b[2m│ gzip:   1.15 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/index.js.map                                                                                                                                                                 \u001b[2m   2.95 kB\u001b[22m \u001b[2m│ gzip:   1.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/default-query-executor.js.map                                                                                                                   \u001b[2m   2.92 kB\u001b[22m \u001b[2m│ gzip:   0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/select-parser.js                                                                                                                                        \u001b[2m   2.91 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/order-by-item-builder.js                                                                                                                         \u001b[2m   2.91 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/value-parser.js.map                                                                                                                                     \u001b[2m   2.90 kB\u001b[22m \u001b[2m│ gzip:   0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/log.js.map                                                                                                                                                \u001b[2m   2.88 kB\u001b[22m \u001b[2m│ gzip:   1.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/update-query-node.js.map                                                                                                                        \u001b[2m   2.88 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                 \u001b[2m   2.88 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/package.js.map                                                                                                                                                        \u001b[2m   2.88 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-dialect.js                                                      \u001b[2m   2.88 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-introspector.js                                                                                                                      \u001b[2m   2.88 kB\u001b[22m \u001b[2m│ gzip:   1.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/sqlite-dialect.js                                                      \u001b[2m   2.87 kB\u001b[22m \u001b[2m│ gzip:   1.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/select-query-node.js                                                                                                                            \u001b[2m   2.85 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/join-builder.js.map                                                                                                                              \u001b[2m   2.85 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/utils.js                                                                                                                                                              \u001b[2m   2.85 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/delete-query-node.js.map                                                                                                                        \u001b[2m   2.85 kB\u001b[22m \u001b[2m│ gzip:   0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/data-type-node.js.map                                                                                                                           \u001b[2m   2.84 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/legacy-streams.js                                                                                                                                              \u001b[2m   2.84 kB\u001b[22m \u001b[2m│ gzip:   0.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/parse-utils.js.map                                                                                                                                      \u001b[2m   2.84 kB\u001b[22m \u001b[2m│ gzip:   0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/deduplicate-joins/deduplicate-joins-transformer.js.map                                                                                                  \u001b[2m   2.84 kB\u001b[22m \u001b[2m│ gzip:   0.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/buffer-reader.js.map                                                                                                                                      \u001b[2m   2.83 kB\u001b[22m \u001b[2m│ gzip:   0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/package.js                                                                                                                                                               \u001b[2m   2.83 kB\u001b[22m \u001b[2m│ gzip:   1.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-query-compiler.js.map                                                                                                                      \u001b[2m   2.83 kB\u001b[22m \u001b[2m│ gzip:   0.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/mysql-dialect.js                                                        \u001b[2m   2.83 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/base/pool_connection.js.map                                                                                                                                          \u001b[2m   2.83 kB\u001b[22m \u001b[2m│ gzip:   1.14 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-drop-constraint-builder.js                                                                                                                  \u001b[2m   2.83 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/parse-utils.js                                                                                                                                          \u001b[2m   2.81 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/backup.js                                                                                                                                    \u001b[2m   2.81 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-view-builder.js.map                                                                                                                                \u001b[2m   2.81 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/query-executor-base.js                                                                                                                          \u001b[2m   2.80 kB\u001b[22m \u001b[2m│ gzip:   1.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/split2@4.2.0/node_modules/split2/index.js                                                                                                                                                                  \u001b[2m   2.79 kB\u001b[22m \u001b[2m│ gzip:   1.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/with-parser.js.map                                                                                                                                      \u001b[2m   2.79 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/move/move-sync.js.map                                                                                                                                            \u001b[2m   2.78 kB\u001b[22m \u001b[2m│ gzip:   1.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/camel-case/camel-case.js                                                                                                                                \u001b[2m   2.78 kB\u001b[22m \u001b[2m│ gzip:   0.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/array.js.map                                                                                                                                                         \u001b[2m   2.78 kB\u001b[22m \u001b[2m│ gzip:   1.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/supports-color@5.5.0/node_modules/supports-color/index.js                                                                                                                                                  \u001b[2m   2.78 kB\u001b[22m \u001b[2m│ gzip:   1.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/dummy-driver.js.map                                                                                                                                     \u001b[2m   2.77 kB\u001b[22m \u001b[2m│ gzip:   1.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/dialect-manager.js                                                                \u001b[2m   2.77 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/convert/dmp.js.map                                                                                                                                                        \u001b[2m   2.76 kB\u001b[22m \u001b[2m│ gzip:   1.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dynamic/dynamic-table-builder.js.map                                                                                                                           \u001b[2m   2.76 kB\u001b[22m \u001b[2m│ gzip:   0.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/utils-webcrypto.js                                                                                                                                                    \u001b[2m   2.76 kB\u001b[22m \u001b[2m│ gzip:   1.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/register_slave.js.map                                                                                                                                        \u001b[2m   2.76 kB\u001b[22m \u001b[2m│ gzip:   0.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/unique-constraint-builder.js.map                                                                                                                        \u001b[2m   2.75 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-table-node.js.map                                                                                                                        \u001b[2m   2.73 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/compile.js.map                                                                                                                                                        \u001b[2m   2.72 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/dotenv@16.6.1/node_modules/dotenv/package.js.map                                                                                                                                                           \u001b[2m   2.71 kB\u001b[22m \u001b[2m│ gzip:   1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/kysely-pglite.js.map                                          \u001b[2m   2.70 kB\u001b[22m \u001b[2m│ gzip:   1.04 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/table-parser.js                                                                                                                                         \u001b[2m   2.70 kB\u001b[22m \u001b[2m│ gzip:   0.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/change_user.js                                                                                                                                              \u001b[2m   2.69 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/diff-checker.js.map                                                               \u001b[2m   2.69 kB\u001b[22m \u001b[2m│ gzip:   1.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                          \u001b[2m   2.69 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/foreign-key-constraint-builder.js.map                                                                                                                   \u001b[2m   2.68 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/select-parser.js.map                                                                                                                                    \u001b[2m   2.68 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-view-builder.js                                                                                                                                  \u001b[2m   2.68 kB\u001b[22m \u001b[2m│ gzip:   0.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                         \u001b[2m   2.67 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-dialect.js                                              \u001b[2m   2.67 kB\u001b[22m \u001b[2m│ gzip:   1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-executor/default-query-executor.js.map                                                                                                                   \u001b[2m   2.67 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/order-by-parser.js                                                                                                                                      \u001b[2m   2.67 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/result.js                                                                                                                                                                    \u001b[2m   2.67 kB\u001b[22m \u001b[2m│ gzip:   0.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/foreign-key-constraint-builder.js                                                                                                                       \u001b[2m   2.66 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-index-builder.js.map                                                                                                                               \u001b[2m   2.66 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/aggregate-function-node.js                                                                                                                      \u001b[2m   2.65 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-query-compiler.js                                                                                                                          \u001b[2m   2.65 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/table-parser.js.map                                                                                                                                     \u001b[2m   2.64 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/parser_cache.js.map                                                                                                                                          \u001b[2m   2.63 kB\u001b[22m \u001b[2m│ gzip:   1.05 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/index.js                                                                                                                                                                     \u001b[2m   2.62 kB\u001b[22m \u001b[2m│ gzip:   0.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                         \u001b[2m   2.62 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/move/move.js.map                                                                                                                                                 \u001b[2m   2.62 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-array@2.0.0/node_modules/postgres-array/index.js                                                                                                                                                  \u001b[2m   2.59 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/pool_cluster.js.map                                                                                                                                          \u001b[2m   2.59 kB\u001b[22m \u001b[2m│ gzip:   0.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/flags.js                                                                           \u001b[2m   2.58 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/raw-builder/sql.js                                                                                                                                             \u001b[2m   2.58 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/normaliseOptions/index.js.map                                                                                                                                      \u001b[2m   2.57 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/util/array.js.map                                                                                                                                                         \u001b[2m   2.57 kB\u001b[22m \u001b[2m│ gzip:   1.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                        \u001b[2m   2.56 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/data-type-node.js.map                                                                                                                           \u001b[2m   2.56 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                      \u001b[2m   2.56 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/balanced-match@1.0.2/node_modules/balanced-match/index.js.map                                                                                                                                              \u001b[2m   2.55 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/file-uri-to-path@1.0.0/node_modules/file-uri-to-path/index.js.map                                                                                                                                          \u001b[2m   2.55 kB\u001b[22m \u001b[2m│ gzip:   1.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/query-node.js                                                                                                                                   \u001b[2m   2.55 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/sentence.js.map                                                                                                                                                      \u001b[2m   2.55 kB\u001b[22m \u001b[2m│ gzip:   1.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/file.js.map                                                                                                                                               \u001b[2m   2.55 kB\u001b[22m \u001b[2m│ gzip:   0.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-adapter.js                                                        \u001b[2m   2.53 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/merge-query-node.js.map                                                                                                                         \u001b[2m   2.51 kB\u001b[22m \u001b[2m│ gzip:   0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/link.js.map                                                                                                                                               \u001b[2m   2.51 kB\u001b[22m \u001b[2m│ gzip:   0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/on-conflict-node.js                                                                                                                             \u001b[2m   2.51 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/tables/gbk-added.js                                                                                                                                     \u001b[2m   2.51 kB\u001b[22m \u001b[2m│ gzip:   1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/symlink.js                                                                                                                                                \u001b[2m   2.50 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/value-parser.js                                                                                                                                         \u001b[2m   2.50 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-date@1.0.7/node_modules/postgres-date/index.js                                                                                                                                                    \u001b[2m   2.50 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/builtins.js.map                                                                                                                                                   \u001b[2m   2.50 kB\u001b[22m \u001b[2m│ gzip:   1.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-dialect.js.map                                                                                                                             \u001b[2m   2.49 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                      \u001b[2m   2.49 kB\u001b[22m \u001b[2m│ gzip:   0.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/string.js.map                                                                                                                                                \u001b[2m   2.48 kB\u001b[22m \u001b[2m│ gzip:   0.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/buffer-writer.js                                                                                                                                          \u001b[2m   2.48 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/with-parser.js                                                                                                                                          \u001b[2m   2.48 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/lineDiffFake/index.js.map                                                                                                                              \u001b[2m   2.48 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                  \u001b[2m   2.46 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-schema-builder.js.map                                                                                                                              \u001b[2m   2.46 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/state.js                                                                                                                                                                                                               \u001b[2m   2.46 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-introspector.js                                                                                                                          \u001b[2m   2.46 kB\u001b[22m \u001b[2m│ gzip:   1.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jsonfile@6.2.0/node_modules/jsonfile/index.js                                                                                                                                                              \u001b[2m   2.46 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-view-builder.js.map                                                                                                                                \u001b[2m   2.45 kB\u001b[22m \u001b[2m│ gzip:   0.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-table-builder.js.map                                                                                                                               \u001b[2m   2.45 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/constants.js.map                                                                                                                                                      \u001b[2m   2.44 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/over-builder.js.map                                                                                                                              \u001b[2m   2.44 kB\u001b[22m \u001b[2m│ gzip:   0.91 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-dialect.js                                                                                                                                 \u001b[2m   2.43 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/join-builder.js.map                                                                                                                              \u001b[2m   2.43 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/expression-parser.js.map                                                                                                                                \u001b[2m   2.43 kB\u001b[22m \u001b[2m│ gzip:   0.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-F4GETNPB.js.map                                                                                                                   \u001b[2m   2.43 kB\u001b[22m \u001b[2m│ gzip:   0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/raw-builder/raw-builder.js                                                                                                                                     \u001b[2m   2.42 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/function.js.map                                                                                                                              \u001b[2m   2.42 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs.realpath@1.0.0/node_modules/fs.realpath/index.js.map                                                                                                                                                    \u001b[2m   2.42 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/insert-values-parser.js                                                                                                                                 \u001b[2m   2.41 kB\u001b[22m \u001b[2m│ gzip:   0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/css.js.map                                                                                                                                                           \u001b[2m   2.41 kB\u001b[22m \u001b[2m│ gzip:   1.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/aggregate.js                                                                                                                                 \u001b[2m   2.41 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/insert-result.js.map                                                                                                                             \u001b[2m   2.40 kB\u001b[22m \u001b[2m│ gzip:   1.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dynamic/dynamic-table-builder.js                                                                                                                               \u001b[2m   2.40 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/case-builder.js                                                                                                                                  \u001b[2m   2.40 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/merge-parser.js.map                                                                                                                                     \u001b[2m   2.39 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/primary-key-constraint-builder.js.map                                                                                                                   \u001b[2m   2.38 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/join-builder.js                                                                                                                                  \u001b[2m   2.38 kB\u001b[22m \u001b[2m│ gzip:   0.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/update-query-node.js.map                                                                                                                        \u001b[2m   2.38 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-dialect.js.map                                                                                                                           \u001b[2m   2.35 kB\u001b[22m \u001b[2m│ gzip:   0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/column-definition-node.js.map                                                                                                                   \u001b[2m   2.35 kB\u001b[22m \u001b[2m│ gzip:   0.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/delete-query-node.js.map                                                                                                                        \u001b[2m   2.35 kB\u001b[22m \u001b[2m│ gzip:   0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                            \u001b[2m   2.34 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-column-builder.js                                                                                                                                 \u001b[2m   2.34 kB\u001b[22m \u001b[2m│ gzip:   0.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-dialect.js                                                                                                                               \u001b[2m   2.33 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/unique-constraint-builder.js.map                                                                                                                        \u001b[2m   2.33 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-table-node.js                                                                                                                            \u001b[2m   2.33 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/insert-result.js                                                                                                                                 \u001b[2m   2.33 kB\u001b[22m \u001b[2m│ gzip:   1.01 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                              \u001b[2m   2.32 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/sbcs-codec.js                                                                                                                                           \u001b[2m   2.32 kB\u001b[22m \u001b[2m│ gzip:   0.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-index-builder.js                                                                                                                                   \u001b[2m   2.32 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/index.js.map                                                                      \u001b[2m   2.31 kB\u001b[22m \u001b[2m│ gzip:   1.00 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/wrappers.js.map                                                                                                                              \u001b[2m   2.31 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/inflight@1.0.6/node_modules/inflight/inflight.js.map                                                                                                                                                       \u001b[2m   2.30 kB\u001b[22m \u001b[2m│ gzip:   1.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-dialect.js.map                                                                                                                       \u001b[2m   2.30 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/update-set-parser.js.map                                                                                                                                \u001b[2m   2.30 kB\u001b[22m \u001b[2m│ gzip:   0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-add-foreign-key-constraint-builder.js                                                                                                       \u001b[2m   2.29 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/join-parser.js.map                                                                                                                                      \u001b[2m   2.29 kB\u001b[22m \u001b[2m│ gzip:   0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-dialect.js                                                                                                                           \u001b[2m   2.29 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/lib/utils.js                                                                                                                                                        \u001b[2m   2.29 kB\u001b[22m \u001b[2m│ gzip:   0.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/noop-query-executor.js.map                                                                                                                      \u001b[2m   2.28 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/case-node.js.map                                                                                                                                \u001b[2m   2.27 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/with-parser.js.map                                                                                                                                      \u001b[2m   2.27 kB\u001b[22m \u001b[2m│ gzip:   0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/index.js                                                                          \u001b[2m   2.27 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/index.js.map                                                                           \u001b[2m   2.26 kB\u001b[22m \u001b[2m│ gzip:   0.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/safer-buffer@2.1.2/node_modules/safer-buffer/safer.js                                                                                                                                                      \u001b[2m   2.26 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/introspector/introspector.js                                                           \u001b[2m   2.26 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-dialect.js.map                                                                                                                             \u001b[2m   2.25 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-type-builder.js.map                                                                                                                              \u001b[2m   2.25 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/command.js.map                                                                                                                                              \u001b[2m   2.25 kB\u001b[22m \u001b[2m│ gzip:   0.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/move/move-sync.js                                                                                                                                                \u001b[2m   2.24 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/handle-empty-in-lists/handle-empty-in-lists-transformer.js.map                                                                                          \u001b[2m   2.24 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/unique-constraint-builder.js                                                                                                                            \u001b[2m   2.23 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/refresh-materialized-view-builder.js                                                                                                                    \u001b[2m   2.23 kB\u001b[22m \u001b[2m│ gzip:   0.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/insert-result.js.map                                                                                                                             \u001b[2m   2.22 kB\u001b[22m \u001b[2m│ gzip:   0.99 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-dialect.js                                                                                                                                 \u001b[2m   2.21 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/package.js                                                                                                                                                            \u001b[2m   2.20 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/symbol-collection.js                                                       \u001b[2m   2.19 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/default-query-executor.js                                                                                                                       \u001b[2m   2.19 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/index.js                                                                               \u001b[2m   2.17 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/update-set-parser.js                                                                                                                                    \u001b[2m   2.17 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                             \u001b[2m   2.17 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/handle-empty-in-lists/handle-empty-in-lists-transformer.js                                                                                              \u001b[2m   2.17 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-adapter.js.map                                                                                                                             \u001b[2m   2.16 kB\u001b[22m \u001b[2m│ gzip:   0.97 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/require-all-props.js                                                                                                                                      \u001b[2m   2.16 kB\u001b[22m \u001b[2m│ gzip:   0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/over-builder.js                                                                                                                                  \u001b[2m   2.15 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                       \u001b[2m   2.15 kB\u001b[22m \u001b[2m│ gzip:   0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                              \u001b[2m   2.15 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/text_row.js.map                                                                                                                                              \u001b[2m   2.15 kB\u001b[22m \u001b[2m│ gzip:   0.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/sha256_password.js                                                                                                                                      \u001b[2m   2.14 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/deduplicate-joins/deduplicate-joins-transformer.js                                                                                                      \u001b[2m   2.14 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/utils-legacy.js.map                                                                                                                                                   \u001b[2m   2.14 kB\u001b[22m \u001b[2m│ gzip:   0.94 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/value-parser.js.map                                                                                                                                     \u001b[2m   2.14 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dynamic/dynamic-reference-builder.js.map                                                                                                                       \u001b[2m   2.14 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/merge-parser.js                                                                                                                                         \u001b[2m   2.14 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/data-type-node.js                                                                                                                               \u001b[2m   2.13 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-schema-builder.js.map                                                                                                                              \u001b[2m   2.13 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/mkdirs/utils.js.map                                                                                                                                              \u001b[2m   2.13 kB\u001b[22m \u001b[2m│ gzip:   1.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/expression-parser.js                                                                                                                                    \u001b[2m   2.13 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/util/params.js.map                                                                                                                                                        \u001b[2m   2.13 kB\u001b[22m \u001b[2m│ gzip:   1.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/kysely-pglite.js                                              \u001b[2m   2.12 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-table-builder.js.map                                                                                                                               \u001b[2m   2.12 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/route.js                                                                                                                                                    \u001b[2m   2.12 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/diff-checker.js                                                                   \u001b[2m   2.11 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-adapter.js.map                                                                                                                             \u001b[2m   2.10 kB\u001b[22m \u001b[2m│ gzip:   0.98 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/migration/file-migration-provider.js                                                                                                                           \u001b[2m   2.10 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/pglite-driver.js.map                                          \u001b[2m   2.10 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/server_status.js.map                                                                                                                                       \u001b[2m   2.10 kB\u001b[22m \u001b[2m│ gzip:   1.03 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/delete-query-node.js                                                                                                                            \u001b[2m   2.10 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-schema-builder.js.map                                                                                                                            \u001b[2m   2.10 kB\u001b[22m \u001b[2m│ gzip:   0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/require-all-props.js.map                                                                                                                                  \u001b[2m   2.10 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@1.9.3/node_modules/color-convert/route.js                                                                                                                                                    \u001b[2m   2.09 kB\u001b[22m \u001b[2m│ gzip:   0.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/character.js.map                                                                                                                                                     \u001b[2m   2.09 kB\u001b[22m \u001b[2m│ gzip:   1.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/dotenv@16.6.1/node_modules/dotenv/package.js                                                                                                                                                               \u001b[2m   2.08 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/dummy-driver.js                                                                                                                                         \u001b[2m   2.08 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-type-builder.js.map                                                                                                                                \u001b[2m   2.08 kB\u001b[22m \u001b[2m│ gzip:   0.87 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/over-node.js.map                                                                                                                                \u001b[2m   2.08 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/index.js.map                                                                  \u001b[2m   2.07 kB\u001b[22m \u001b[2m│ gzip:   0.93 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/node-type.js.map                                                                   \u001b[2m   2.06 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/stream.js                                                                                                                                                                    \u001b[2m   2.06 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                   \u001b[2m   2.05 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-view-builder.js                                                                                                                                    \u001b[2m   2.05 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mysql/mysql-driver.js                                                                                                                                  \u001b[2m   2.05 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/function-module.js                                                                                                                               \u001b[2m   2.05 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/update-query-node.js                                                                                                                            \u001b[2m   2.04 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dynamic/dynamic-table-builder.js.map                                                                                                                           \u001b[2m   2.04 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/merge-query-node.js.map                                                                                                                         \u001b[2m   2.04 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/index.js.map                                                               \u001b[2m   2.04 kB\u001b[22m \u001b[2m│ gzip:   0.95 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-query-compiler.js                                                                                                                          \u001b[2m   2.03 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/primary-key-constraint-builder.js                                                                                                                       \u001b[2m   2.03 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/link.js                                                                                                                                                   \u001b[2m   2.02 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/pool_cluster.js                                                                                                                                              \u001b[2m   2.02 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/log.js                                                                                                                                                    \u001b[2m   2.02 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/dotenv-expand@11.0.7/node_modules/dotenv-expand/lib/main.js                                                                                                                                                \u001b[2m   2.02 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/word.js                                                                                                                                                              \u001b[2m   2.01 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dynamic/dynamic-reference-builder.js                                                                                                                           \u001b[2m   2.01 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/move/move.js                                                                                                                                                     \u001b[2m   2.00 kB\u001b[22m \u001b[2m│ gzip:   0.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/primary-key-constraint-node.js.map                                                                                                              \u001b[2m   2.00 kB\u001b[22m \u001b[2m│ gzip:   0.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-executor/noop-query-executor.js.map                                                                                                                      \u001b[2m   1.99 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/index.js.map                                                                                                                                                          \u001b[2m   1.99 kB\u001b[22m \u001b[2m│ gzip:   0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/primary-key-constraint-builder.js.map                                                                                                                   \u001b[2m   1.99 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/over-builder.js.map                                                                                                                              \u001b[2m   1.99 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mutils.js.map                                                                                                                                                                                                                  \u001b[2m   1.99 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/bom-handling.js.map                                                                                                                                           \u001b[2m   1.98 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-executor/query-executor-base.js                                                                                                                          \u001b[2m   1.97 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/require-all-props.js.map                                                                                                                                  \u001b[2m   1.97 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/join-parser.js                                                                                                                                          \u001b[2m   1.96 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/coincident@1.2.3/node_modules/coincident/esm/bridge.js                                                                                                                                                     \u001b[2m   1.96 kB\u001b[22m \u001b[2m│ gzip:   0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@1.9.3/node_modules/color-convert/index.js                                                                                                                                                    \u001b[2m   1.95 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/cte-builder.js.map                                                                                                                               \u001b[2m   1.95 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                          \u001b[2m   1.95 kB\u001b[22m \u001b[2m│ gzip:   0.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/utils.js.map                                                                                                                                                                                                           \u001b[2m   1.94 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/lineDiffFake/index.js                                                                                                                                  \u001b[2m   1.94 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/color-convert@2.0.1/node_modules/color-convert/index.js                                                                                                                                                    \u001b[2m   1.94 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-type-builder.js.map                                                                                                                              \u001b[2m   1.94 kB\u001b[22m \u001b[2m│ gzip:   0.82 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@4.1.2/node_modules/chalk/source/util.js.map                                                                                                                                                          \u001b[2m   1.94 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/compile.js                                                                                                                                                            \u001b[2m   1.93 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/order-by-item-builder.js                                                                                                                         \u001b[2m   1.93 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/join-parser.js.map                                                                                                                                      \u001b[2m   1.93 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/index.js                                                                      \u001b[2m   1.92 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-schema-builder.js                                                                                                                                  \u001b[2m   1.92 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/parser_cache.js                                                                                                                                              \u001b[2m   1.92 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/parse-utils.js.map                                                                                                                                      \u001b[2m   1.92 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                 \u001b[2m   1.92 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/index.js                                                                   \u001b[2m   1.92 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/register_slave.js                                                                                                                                            \u001b[2m   1.92 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/index.js.map                                                             \u001b[2m   1.91 kB\u001b[22m \u001b[2m│ gzip:   0.92 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/noop-query-executor.js                                                                                                                          \u001b[2m   1.90 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/join-node.js.map                                                                                                                                \u001b[2m   1.90 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/column-definition-node.js.map                                                                                                                   \u001b[2m   1.90 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-table-builder.js                                                                                                                                   \u001b[2m   1.90 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/builtins.js                                                                                                                                                       \u001b[2m   1.89 kB\u001b[22m \u001b[2m│ gzip:   1.02 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-type-builder.js                                                                                                                                  \u001b[2m   1.89 kB\u001b[22m \u001b[2m│ gzip:   0.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/wordDiffFake/index.js.map                                                                                                                              \u001b[2m   1.88 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/merge-parser.js.map                                                                                                                                     \u001b[2m   1.88 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/parsers/string.js                                                                                                                                                    \u001b[2m   1.86 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/index.js.map                                                                       \u001b[2m   1.86 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/provide-controlled-connection.js.map                                                                                                                      \u001b[2m   1.86 kB\u001b[22m \u001b[2m│ gzip:   0.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/primary-key-constraint-node.js                                                                                                                  \u001b[2m   1.86 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-query-compiler.js.map                                                                                                                    \u001b[2m   1.85 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/normaliseOptions/index.js                                                                                                                                          \u001b[2m   1.85 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/base/pool_connection.js                                                                                                                                              \u001b[2m   1.84 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/function.js                                                                                                                                  \u001b[2m   1.84 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/index.js.map                                                       \u001b[2m   1.84 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-drop-constraint-builder.js                                                                                                                  \u001b[2m   1.84 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/foreign-key-constraint-node.js.map                                                                                                              \u001b[2m   1.84 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/index.js.map                                                         \u001b[2m   1.84 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js      \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                  \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/references-node.js.map                                                                                                                          \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/index.js.map                                                           \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/index.js.map                                                           \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/case-node.js.map                                                                                                                                \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/index.js.map                                                            \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/index.js.map                                                            \u001b[2m   1.83 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/insert-result.js                                                                                                                                 \u001b[2m   1.82 kB\u001b[22m \u001b[2m│ gzip:   0.85 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/introspector/index.js.map                                                              \u001b[2m   1.82 kB\u001b[22m \u001b[2m│ gzip:   0.90 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/server_status.js                                                                                                                                           \u001b[2m   1.82 kB\u001b[22m \u001b[2m│ gzip:   0.89 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/once@1.4.0/node_modules/once/once.js.map                                                                                                                                                                   \u001b[2m   1.82 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/helpers.js                                                                                                                                                           \u001b[2m   1.81 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-int8@1.0.1/node_modules/pg-int8/index.js                                                                                                                                                                \u001b[2m   1.81 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_switch_request.js.map                                                                                                                                   \u001b[2m   1.81 kB\u001b[22m \u001b[2m│ gzip:   0.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                \u001b[2m   1.81 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/buffer-reader.js                                                                                                                                          \u001b[2m   1.81 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                              \u001b[2m   1.80 kB\u001b[22m \u001b[2m│ gzip:   0.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/random-string.js.map                                                                                                                                      \u001b[2m   1.80 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/unique-constraint-node.js.map                                                                                                                   \u001b[2m   1.80 kB\u001b[22m \u001b[2m│ gzip:   0.75 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/merge-query-node.js                                                                                                                             \u001b[2m   1.79 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/column-definition-node.js                                                                                                                       \u001b[2m   1.79 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/line.js                                                                                                                                                              \u001b[2m   1.79 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-schema-builder.js.map                                                                                                                            \u001b[2m   1.79 kB\u001b[22m \u001b[2m│ gzip:   0.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/create-schema-builder.js                                                                                                                                \u001b[2m   1.79 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-type-builder.js.map                                                                                                                                \u001b[2m   1.78 kB\u001b[22m \u001b[2m│ gzip:   0.76 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/immediate-value/immediate-value-transformer.js                                                                                                          \u001b[2m   1.78 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/expression-parser.js.map                                                                                                                                \u001b[2m   1.77 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/types.js                                                                                                                                                   \u001b[2m   1.77 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/selection-node.js.map                                                                                                                           \u001b[2m   1.76 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/case-converter.js.map                                                      \u001b[2m   1.76 kB\u001b[22m \u001b[2m│ gzip:   0.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_41.js                                                                                                                                                           \u001b[2m   1.76 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-adapter.js.map                                                                                                                       \u001b[2m   1.76 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                  \u001b[2m   1.75 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/single-connection-provider.js.map                                                                                                                       \u001b[2m   1.75 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/serializer/index.js.map                                                                \u001b[2m   1.74 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/generator/index.js.map                                                                 \u001b[2m   1.74 kB\u001b[22m \u001b[2m│ gzip:   0.88 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-QY3QWFKW.js                                                                                                                       \u001b[2m   1.74 kB\u001b[22m \u001b[2m│ gzip:   0.83 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/node-type.js                                                                       \u001b[2m   1.74 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/update-set-parser.js.map                                                                                                                                \u001b[2m   1.73 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.js.map                                                                                                                                                                                                                  \u001b[2m   1.73 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/file.js                                                                                                                                                   \u001b[2m   1.72 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/wrappers.js                                                                                                                                  \u001b[2m   1.72 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs.realpath@1.0.0/node_modules/fs.realpath/index.js                                                                                                                                                        \u001b[2m   1.72 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                             \u001b[2m   1.71 kB\u001b[22m \u001b[2m│ gzip:   0.81 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/binlog_dump.js.map                                                                                                                                           \u001b[2m   1.71 kB\u001b[22m \u001b[2m│ gzip:   0.79 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/drop-type-builder.js                                                                                                                                    \u001b[2m   1.71 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/over-node.js                                                                                                                                    \u001b[2m   1.71 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/raw-node.js.map                                                                                                                                 \u001b[2m   1.71 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/index.js                                                                 \u001b[2m   1.70 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/aggregate-function-node.js                                                                                                                      \u001b[2m   1.70 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/foreign-key-constraint-node.js                                                                                                                  \u001b[2m   1.70 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                              \u001b[2m   1.70 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-adapter.js.map                                          \u001b[2m   1.70 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/keepIt.js.map                                                                                                                                          \u001b[2m   1.69 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/require-all-props.js                                                                                                                                      \u001b[2m   1.69 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-bytea@1.0.1/node_modules/postgres-bytea/index.js.map                                                                                                                                              \u001b[2m   1.69 kB\u001b[22m \u001b[2m│ gzip:   0.78 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-index-node.js.map                                                                                                                        \u001b[2m   1.68 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/select-parser.js                                                                                                                                        \u001b[2m   1.68 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/alter-table-node.js.map                                                                                                                         \u001b[2m   1.68 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/random-string.js.map                                                                                                                                      \u001b[2m   1.68 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dynamic/dynamic-reference-builder.js.map                                                                                                                       \u001b[2m   1.67 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/index.js                                                                                                                                                    \u001b[2m   1.67 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_next_factor.js.map                                                                                                                                      \u001b[2m   1.67 kB\u001b[22m \u001b[2m│ gzip:   0.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/sqlite-adapter.js.map                                                  \u001b[2m   1.67 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/add-index-node.js.map                                                                                                                           \u001b[2m   1.66 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/schemable-identifier-node.js.map                                                                                                                \u001b[2m   1.66 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/wrappy@1.0.2/node_modules/wrappy/wrappy.js.map                                                                                                                                                             \u001b[2m   1.66 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                            \u001b[2m   1.66 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/foreign-key-constraint-builder.js                                                                                                                       \u001b[2m   1.65 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                  \u001b[2m   1.65 kB\u001b[22m \u001b[2m│ gzip:   0.86 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/cte-builder.js                                                                                                                                   \u001b[2m   1.65 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/case-converter.js                                                          \u001b[2m   1.64 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/wordDiffFake/index.js                                                                                                                                  \u001b[2m   1.64 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/table-parser.js                                                                                                                                         \u001b[2m   1.63 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/immediate-value/immediate-value-transformer.js.map                                                                                                      \u001b[2m   1.63 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                            \u001b[2m   1.63 kB\u001b[22m \u001b[2m│ gzip:   0.84 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/over-node.js.map                                                                                                                                \u001b[2m   1.63 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/case-node.js                                                                                                                                    \u001b[2m   1.63 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-driver.js                                                                                                                            \u001b[2m   1.63 kB\u001b[22m \u001b[2m│ gzip:   0.80 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/unique-constraint-node.js                                                                                                                       \u001b[2m   1.62 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/index.js                                                           \u001b[2m   1.62 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/set-operation-parser.js                                                                                                                                 \u001b[2m   1.62 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/cte-builder.js.map                                                                                                                               \u001b[2m   1.61 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/having-node.js.map                                                                                                                              \u001b[2m   1.61 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mbindings-runner.js                                                                                                                                                                                                            \u001b[2m   1.61 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/introspector/index.js                                                                  \u001b[2m   1.61 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/postgres/index.js                                                             \u001b[2m   1.60 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/provide-controlled-connection.js.map                                                                                                                      \u001b[2m   1.60 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-query-compiler.js.map                                                                                                                    \u001b[2m   1.60 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/index.js                                                                           \u001b[2m   1.60 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/where-node.js.map                                                                                                                               \u001b[2m   1.60 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                             \u001b[2m   1.59 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/defaults.js                                                                                                                                                                  \u001b[2m   1.59 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                             \u001b[2m   1.59 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/index.js                                                                                                                                                              \u001b[2m   1.58 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/balanced-match@1.0.2/node_modules/balanced-match/index.js                                                                                                                                                  \u001b[2m   1.58 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/constants.js                                                                                                                                                          \u001b[2m   1.58 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/returning-node.js.map                                                                                                                           \u001b[2m   1.58 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/index.js                                                               \u001b[2m   1.58 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/index.js                                                               \u001b[2m   1.58 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/server.js.map                                                                                                                                                        \u001b[2m   1.58 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/selection-node.js                                                                                                                               \u001b[2m   1.57 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                            \u001b[2m   1.57 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/on-conflict-node.js                                                                                                                             \u001b[2m   1.57 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/index.js                                                                \u001b[2m   1.57 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mysql/index.js                                                                \u001b[2m   1.57 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/insert-query-node.js.map                                                                                                                        \u001b[2m   1.56 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool_config.js.map                                                                                                                                                   \u001b[2m   1.56 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-query-compiler.js                                                                                                                        \u001b[2m   1.56 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/unary-operation-parser.js                                                                                                                               \u001b[2m   1.56 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/on-node.js.map                                                                                                                                  \u001b[2m   1.55 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/driver.js.map                                                                                                                                           \u001b[2m   1.55 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-executor/default-query-executor.js                                                                                                                       \u001b[2m   1.55 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/common-table-expression-name-node.js.map                                                                                                        \u001b[2m   1.55 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/output-node.js.map                                                                                                                              \u001b[2m   1.54 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/common-table-expression-name-node.js                                                                                                            \u001b[2m   1.54 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/primary-key-constraint-node.js.map                                                                                                              \u001b[2m   1.54 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/mysql_native_password.js.map                                                                                                                            \u001b[2m   1.54 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/set-operation-parser.js.map                                                                                                                             \u001b[2m   1.54 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/schemable-identifier-node.js                                                                                                                    \u001b[2m   1.54 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/join-builder.js                                                                                                                                  \u001b[2m   1.54 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/empty/index.js.map                                                                                                                                               \u001b[2m   1.53 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/single-connection-provider.js.map                                                                                                                       \u001b[2m   1.53 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/join-node.js.map                                                                                                                                \u001b[2m   1.53 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/utils/create-migrator.js.map                                  \u001b[2m   1.53 kB\u001b[22m \u001b[2m│ gzip:   0.71 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-adapter.js                                              \u001b[2m   1.52 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/index.js.map                                                                                                                                                                                        \u001b[2m   1.52 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operator-node.js                                                                                                                                \u001b[2m   1.52 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-adapter.js                                                                                                                                 \u001b[2m   1.52 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                          \u001b[2m   1.52 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-type-node.js.map                                                                                                                         \u001b[2m   1.51 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/table-node.js.map                                                                                                                               \u001b[2m   1.51 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/introspector.js.map                                           \u001b[2m   1.51 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/index.js.map                                                                                                                                              \u001b[2m   1.51 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/top-parser.js.map                                                                                                                                       \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/universalify@2.0.1/node_modules/universalify/index.js.map                                                                                                                                                  \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-index-builder.js                                                                                                                                   \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/data-type-node.js                                                                                                                               \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/refresh-materialized-view-node.js.map                                                                                                           \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/type-overrides.js.map                                                                                                                                                        \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/text_row.js                                                                                                                                                  \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/generated-node.js.map                                                                                                                           \u001b[2m   1.50 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                              \u001b[2m   1.49 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-adapter.js.map                                                                                                                           \u001b[2m   1.49 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_switch_request_more_data.js.map                                                                                                                         \u001b[2m   1.49 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/command.js                                                                                                                                                  \u001b[2m   1.49 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/foreign-key-constraint-node.js.map                                                                                                              \u001b[2m   1.49 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/sqlite-adapter.js                                                      \u001b[2m   1.48 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/serializer/index.js                                                                    \u001b[2m   1.48 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/refresh-materialized-view-node.js                                                                                                               \u001b[2m   1.48 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/identifier-parser.js.map                                                                                                                                \u001b[2m   1.48 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/unary-operation-parser.js.map                                                                                                                           \u001b[2m   1.48 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/join-node.js                                                                                                                                    \u001b[2m   1.48 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/keepIt.js                                                                                                                                              \u001b[2m   1.47 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/generator/index.js                                                                     \u001b[2m   1.47 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/with-parser.js                                                                                                                                          \u001b[2m   1.47 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-adapter.js                                                                                                                                 \u001b[2m   1.47 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/references-node.js                                                                                                                              \u001b[2m   1.47 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-operator-chain-node.js.map                                                                                                                 \u001b[2m   1.46 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/empty/index.js                                                                                                                                                   \u001b[2m   1.46 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/with-node.js.map                                                                                                                                \u001b[2m   1.46 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-index-node.js.map                                                                                                                          \u001b[2m   1.46 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/prepare_statement.js.map                                                                                                                                     \u001b[2m   1.46 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/references-node.js.map                                                                                                                          \u001b[2m   1.46 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/encoding_charset.js.map                                                                                                                                    \u001b[2m   1.46 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/unique-constraint-builder.js                                                                                                                            \u001b[2m   1.45 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/prepare_statement.js                                                                                                                                         \u001b[2m   1.45 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/inherit_events.js.map                                                                                                                                        \u001b[2m   1.45 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/chalk@4.1.2/node_modules/chalk/source/util.js                                                                                                                                                              \u001b[2m   1.45 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-adapter.js.map                                                                                                                       \u001b[2m   1.45 kB\u001b[22m \u001b[2m│ gzip:   0.73 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-schema-node.js.map                                                                                                                       \u001b[2m   1.45 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-constraint-node.js.map                                                                                                                     \u001b[2m   1.45 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/constants.js.map                                                                   \u001b[2m   1.44 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/provide-controlled-connection.js                                                                                                                          \u001b[2m   1.44 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-path-node.js.map                                                                                                                           \u001b[2m   1.44 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/ping.js.map                                                                                                                                                 \u001b[2m   1.44 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/column-metadata.js.map                                                   \u001b[2m   1.44 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                \u001b[2m   1.44 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/group-by-parser.js                                                                                                                                      \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-index-node.js                                                                                                                            \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-type-node.js                                                                                                                             \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-schema-node.js.map                                                                                                                         \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-table-node.js                                                                                                                            \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/field_flags.js.map                                                                                                                                         \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.70 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                              \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/log.js                                                                                                                                                    \u001b[2m   1.43 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/having-node.js                                                                                                                                  \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/value-parser.js                                                                                                                                         \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/sqlite-error.js.map                                                                                                                                  \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-view-node.js.map                                                                                                                         \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/partition-by-node.js.map                                                                                                                        \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/enum-collection.js.map                                                            \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/reference-node.js.map                                                                                                                           \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/unique-constraint-node.js.map                                                                                                                   \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/bom-handling.js                                                                                                                                               \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/deduplicate-joins/deduplicate-joins-plugin.js                                                                                                           \u001b[2m   1.42 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/inflight@1.0.6/node_modules/inflight/inflight.js                                                                                                                                                           \u001b[2m   1.41 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/utils-legacy.js                                                                                                                                                       \u001b[2m   1.41 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/query.js.map                                                                                                                                                 \u001b[2m   1.41 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                        \u001b[2m   1.40 kB\u001b[22m \u001b[2m│ gzip:   0.72 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/add-index-node.js                                                                                                                               \u001b[2m   1.40 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/where-node.js                                                                                                                                   \u001b[2m   1.40 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-view-node.js.map                                                                                                                           \u001b[2m   1.40 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/order-by-node.js.map                                                                                                                            \u001b[2m   1.40 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/once@1.4.0/node_modules/once/once.js                                                                                                                                                                       \u001b[2m   1.40 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/immediate-value/immediate-value-plugin.js                                                                                                               \u001b[2m   1.39 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-executor.js.map                                                                                                                             \u001b[2m   1.39 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/output-file/index.js                                                                                                                                             \u001b[2m   1.38 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/table-node.js                                                                                                                                   \u001b[2m   1.38 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/alter-table-node.js.map                                                                                                                         \u001b[2m   1.38 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/pglite-driver.js                                              \u001b[2m   1.38 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/group-by-node.js.map                                                                                                                            \u001b[2m   1.38 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/util/utimes.js.map                                                                                                                                               \u001b[2m   1.37 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/selection-node.js.map                                                                                                                           \u001b[2m   1.37 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/raw-node.js.map                                                                                                                                 \u001b[2m   1.37 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/commands.js.map                                                                                                                                            \u001b[2m   1.37 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/stringify.js.map                                                                                                                                                      \u001b[2m   1.37 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/prepared_statement_info.js.map                                                                                                                               \u001b[2m   1.37 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/using-node.js.map                                                                                                                               \u001b[2m   1.37 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/index.js                                                                                                                                                \u001b[2m   1.36 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js.map                                                                                                                                               \u001b[2m   1.36 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mworkflow.js                                                                                                                                                                                                                   \u001b[2m   1.36 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-constraint-node.js                                                                                                                         \u001b[2m   1.36 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/output-file/index.js.map                                                                                                                                         \u001b[2m   1.36 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/deduplicate-joins/deduplicate-joins-plugin.js.map                                                                                                       \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/fetch-parser.js.map                                                                                                                                     \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_switch_response.js.map                                                                                                                                  \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-index-node.js                                                                                                                              \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/client.js                                                                                                                                                  \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/query.js                                                                                                                                                     \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/from-node.js.map                                                                                                                                \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/on-node.js                                                                                                                                      \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/alter-table-node.js                                                                                                                             \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/immediate-value/immediate-value-plugin.js.map                                                                                                           \u001b[2m   1.35 kB\u001b[22m \u001b[2m│ gzip:   0.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-introspector.js                                         \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-view-node.js                                                                                                                             \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/file-uri-to-path@1.0.0/node_modules/file-uri-to-path/index.js                                                                                                                                              \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.65 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/top-parser.js                                                                                                                                           \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-index-node.js.map                                                                                                                        \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-protocol@1.11.0/node_modules/pg-protocol/dist/index.js                                                                                                                                                  \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/create-schema-node.js                                                                                                                           \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/util/async.js.map                                                                                                                                                \u001b[2m   1.34 kB\u001b[22m \u001b[2m│ gzip:   0.74 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-adapter.js                                                                                                                           \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-view-builder.js                                                                                                                                    \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/cli/constants.js                                                                       \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/mostCommonLineEnding.js.map                                                                                                                            \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/expression/expression.js.map                                                                                                                                   \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/raw-node.js                                                                                                                                     \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                           \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.66 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/common-table-expression-node.js.map                                                                                                             \u001b[2m   1.33 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mdefinition.d.ts.map                                                                                                                                                                                                           \u001b[2m   1.32 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_switch_request.js                                                                                                                                       \u001b[2m   1.32 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/add-index-node.js.map                                                                                                                           \u001b[2m   1.32 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs.exec@1.1.8/node_modules/shelljs.exec/js/normaliseOptions/index.js.map                                                                                                                              \u001b[2m   1.32 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-view-node.js                                                                                                                               \u001b[2m   1.32 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/check-constraint-node.js.map                                                                                                                    \u001b[2m   1.31 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-schema-node.js                                                                                                                             \u001b[2m   1.31 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/select-modifier-node.js.map                                                                                                                     \u001b[2m   1.31 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/identifier-parser.js                                                                                                                                    \u001b[2m   1.31 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_next_factor.js                                                                                                                                          \u001b[2m   1.31 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/rename-constraint-node.js.map                                                                                                                   \u001b[2m   1.31 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/rename-constraint-node.js                                                                                                                       \u001b[2m   1.31 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/returning-node.js                                                                                                                               \u001b[2m   1.30 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/type-overrides.js                                                                                                                                                            \u001b[2m   1.30 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-introspector.js                                                 \u001b[2m   1.30 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/sqlite-introspector.js                                                 \u001b[2m   1.30 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/expression/expression.js                                                                                                                                       \u001b[2m   1.30 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/server.js                                                                                                                                                            \u001b[2m   1.30 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/schemable-identifier-node.js.map                                                                                                                \u001b[2m   1.30 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-reference-node.js.map                                                                                                                      \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/reference-node.js                                                                                                                               \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/column-metadata.js                                                       \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/insert-query-node.js                                                                                                                            \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/camel-case/camel-case-transformer.js.map                                                                                                                \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-operator-chain-node.js                                                                                                                     \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dynamic/dynamic-table-builder.js                                                                                                                               \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-introspector.js                                                   \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/binlog_dump.js                                                                                                                                               \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/check-constraint-node.js                                                                                                                        \u001b[2m   1.29 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                  \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/driver.js                                                                                                                                               \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/introspector/table-matcher.js.map                                                      \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.69 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/deferred.js.map                                                                                                                                           \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool_config.js                                                                                                                                                       \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m_virtual/rolldown_runtime.js                                                                                                                                                                                                  \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/sync.js                                                                                                                                                               \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/data-type-parser.js                                                                                                                                     \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                          \u001b[2m   1.28 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/having-node.js.map                                                                                                                              \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-executor/noop-query-executor.js                                                                                                                          \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/dialect-adapter-base.js.map                                                                                                                            \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/camel-case/camel-case-transformer.js                                                                                                                    \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/order-by-item-node.js.map                                                                                                                       \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/fs/nodefs.js.map                                                                                                                        \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.68 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/insert-query-node.js.map                                                                                                                        \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/introspector/table-matcher.js                                                          \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/mysql_native_password.js                                                                                                                                \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-table-node.js.map                                                                                                                          \u001b[2m   1.27 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/output-node.js                                                                                                                                  \u001b[2m   1.26 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/rename-column-node.js.map                                                                                                                       \u001b[2m   1.26 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/where-node.js.map                                                                                                                               \u001b[2m   1.26 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/fetch-parser.js                                                                                                                                         \u001b[2m   1.26 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/prepared_statement_info.js                                                                                                                                   \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/random-string.js                                                                                                                                          \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/symlink-type.js.map                                                                                                                                       \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-compiler/compiled-query.js.map                                                                                                                           \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/driver.js.map                                                                                                                                           \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/immediate-value/immediate-value-transformer.js.map                                                                                                      \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-adapter.js.map                                                                                                                           \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/data-type-parser.js.map                                                                                                                                 \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/dialect-adapter-base.js                                                                                                                                \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_switch_request_more_data.js                                                                                                                             \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/ssl_request.js.map                                                                                                                                           \u001b[2m   1.25 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/stack-trace-utils.js.map                                                                                                                                  \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/common-table-expression-node.js                                                                                                                 \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/generated-node.js                                                                                                                               \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/single-connection-provider.js                                                                                                                           \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/top-parser.js.map                                                                                                                                       \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-compiler/compiled-query.js                                                                                                                               \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/group-by-parser.js.map                                                                                                                                  \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/over-builder.js                                                                                                                                  \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/rename-column-node.js                                                                                                                           \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/alter-table-executor.js                                                                                                                                 \u001b[2m   1.24 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/bun-sqlite/bun-sqlite-introspector.js.map                                     \u001b[2m   1.23 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/identifier-parser.js.map                                                                                                                                \u001b[2m   1.23 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/primary-key-constraint-builder.js                                                                                                                       \u001b[2m   1.23 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/partition-by-node.js                                                                                                                            \u001b[2m   1.23 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-path-node.js                                                                                                                               \u001b[2m   1.23 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/symlink-type.js                                                                                                                                           \u001b[2m   1.22 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                     \u001b[2m   1.22 kB\u001b[22m \u001b[2m│ gzip:   0.63 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/on-node.js.map                                                                                                                                  \u001b[2m   1.22 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/value-node.js.map                                                                                                                               \u001b[2m   1.22 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/index.js                                                                                                                                                    \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/returning-node.js.map                                                                                                                           \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/with-node.js                                                                                                                                    \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                      \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/delete-query-node.js                                                                                                                            \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/sqlite-error.js                                                                                                                                      \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-schema-builder.js                                                                                                                                  \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-introspector.js.map                                             \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/sqlite/sqlite-introspector.js.map                                             \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-type-node.js.map                                                                                                                           \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/common-table-expression-name-node.js.map                                                                                                        \u001b[2m   1.21 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                  \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs.exec@1.1.8/node_modules/shelljs.exec/index.js.map                                                                                                                                                  \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/register_slave.js.map                                                                                                                                       \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/generateDiffNoRepo/index.js                                                                                                                            \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/object-utils.js                                                                                                                                           \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/select-modifier-node.js                                                                                                                         \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/mssql/mssql-introspector.js.map                                               \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/alter-column-node.js.map                                                                                                                        \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/generated-node.js.map                                                                                                                           \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-type-builder.js                                                                                                                                  \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-table-builder.js                                                                                                                                   \u001b[2m   1.20 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/index.js                                                                                                                                                         \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/mkdirs/make-dir.js.map                                                                                                                                           \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/util/utimes.js                                                                                                                                                   \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/update-query-node.js                                                                                                                            \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/serialize.js.map                                                                                                                             \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/when-node.js.map                                                                                                                                \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/extends-clause-node.js                                                             \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/alter-column-node.js                                                                                                                            \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/join-parser.js                                                                                                                                          \u001b[2m   1.19 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/chunk-F4GETNPB.js                                                                                                                       \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/order-by-node.js                                                                                                                                \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/refresh-materialized-view-node.js.map                                                                                                           \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/with-schema/with-schema-plugin.js.map                                                                                                                   \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/output-node.js.map                                                                                                                              \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-reference-node.js                                                                                                                          \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/generateDiffNoRepo/index.js.map                                                                                                                        \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/group-by-node.js                                                                                                                                \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/path-is-absolute@1.0.1/node_modules/path-is-absolute/index.js.map                                                                                                                                          \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.64 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/runtime-enum-declaration-node.js                                                   \u001b[2m   1.18 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/enum-collection.js                                                                \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/mostCommonLineEnding.js                                                                                                                                \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/with-schema/with-schema-plugin.js                                                                                                                       \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/set-operation-parser.js.map                                                                                                                             \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/column-type-node.js                                                                \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/default-connection-provider.js.map                                                                                                                      \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/ping.js                                                                                                                                                     \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/register_slave.js                                                                                                                                           \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs.exec@1.1.8/node_modules/shelljs.exec/js/normaliseOptions/index.js                                                                                                                                  \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/merge-parser.js                                                                                                                                         \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/postgres-bytea@1.0.1/node_modules/postgres-bytea/index.js                                                                                                                                                  \u001b[2m   1.17 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-type-node.js.map                                                                                                                         \u001b[2m   1.16 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/utils/create-kysely.js.map                                    \u001b[2m   1.16 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/using-node.js                                                                                                                                   \u001b[2m   1.15 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/table-node.js.map                                                                                                                               \u001b[2m   1.15 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/index.js.map                                                                                                                                                \u001b[2m   1.15 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/interface-declaration-node.js                                                      \u001b[2m   1.15 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/order-by-item-node.js                                                                                                                           \u001b[2m   1.15 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/quit.js.map                                                                                                                                                 \u001b[2m   1.15 kB\u001b[22m \u001b[2m│ gzip:   0.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-column-node.js                                                                                                                             \u001b[2m   1.15 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dynamic/dynamic-reference-builder.js                                                                                                                           \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/extends-clause-node.js.map                                                         \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/default-value-parser.js                                                                                                                                 \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/collate-node.js                                                                                                                                 \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/expression-parser.js                                                                                                                                    \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-schema-node.js.map                                                                                                                       \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-index-node.js.map                                                                                                                          \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-constraint-node.js.map                                                                                                                     \u001b[2m   1.14 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/table-metadata.js                                                        \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/from-node.js                                                                                                                                    \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-operator-chain-node.js.map                                                                                                                 \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/update-set-parser.js                                                                                                                                    \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/update-result.js.map                                                                                                                             \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/collate-node.js.map                                                                                                                             \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-column-node.js.map                                                                                                                         \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/ssl_request.js                                                                                                                                               \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/with-node.js.map                                                                                                                                \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-executor.js.map                                                                                                                             \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/primitive-value-list-node.js.map                                                                                                                \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-table-node.js                                                                                                                              \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/primitive-value-list-node.js                                                                                                                    \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/update-result.js                                                                                                                                 \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/binary-operation-node.js.map                                                                                                                    \u001b[2m   1.13 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-query-compiler.js                                                                                                                    \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-schema-node.js.map                                                                                                                         \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/column-node.js                                                                                                                                  \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/utils.js                                                                                                                                                                                                               \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/pragma.js.map                                                                                                                                \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/inherit_events.js                                                                                                                                            \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/import-statement-node.js                                                           \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/util/distance-iterator.js                                                                                                                                                 \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/column-node.js.map                                                                                                                              \u001b[2m   1.12 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/partition-by-parser.js                                                                                                                                  \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/generic-expression-node.js                                                         \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/encoding_charset.js                                                                                                                                        \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/universalify@2.0.1/node_modules/universalify/index.js                                                                                                                                                      \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/database-metadata.js                                                     \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/binary-operation-node.js                                                                                                                        \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-path-node.js.map                                                                                                                           \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/reference-node.js.map                                                                                                                           \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/quit.js                                                                                                                                                     \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/fetch-parser.js.map                                                                                                                                     \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/deferred.js.map                                                                                                                                           \u001b[2m   1.11 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/stack-trace-utils.js                                                                                                                                      \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/alias-declaration-node.js                                                          \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/auth_switch_response.js                                                                                                                                      \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/savepoint-parser.js                                                                                                                                     \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/adapter.js.map                                                                    \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.62 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-view-node.js.map                                                                                                                         \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/braces@3.0.3/node_modules/braces/lib/stringify.js                                                                                                                                                          \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/serialize.js                                                                                                                                 \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/adapter.js                                                                        \u001b[2m   1.10 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/mkdirs/make-dir.js                                                                                                                                               \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/object-expression-node.js                                                          \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/sync.js.map                                                                                                                                                           \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/drop-type-node.js                                                                                                                               \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/parse-utils.js                                                                                                                                          \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/set-operation-node.js.map                                                                                                                       \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/partition-by-node.js.map                                                                                                                        \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/default-connection-provider.js                                                                                                                          \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/fetch-node.js.map                                                                                                                               \u001b[2m   1.09 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/create-schema-builder.js                                                                                                                                \u001b[2m   1.08 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/immediate-value/immediate-value-plugin.js.map                                                                                                           \u001b[2m   1.08 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/fetch-node.js                                                                                                                                   \u001b[2m   1.08 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-view-node.js.map                                                                                                                           \u001b[2m   1.08 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/encodings/index.js.map                                                                                                                                            \u001b[2m   1.08 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                          \u001b[2m   1.08 kB\u001b[22m \u001b[2m│ gzip:   0.61 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/export-statement-node.js                                                           \u001b[2m   1.08 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/index.js                                                                                                                                                  \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/dialect-adapter-base.js.map                                                                                                                            \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-adapter.js                                                                                                                               \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/value-node.js                                                                                                                                   \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/clone.js.map                                                                                                                                                   \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/log-level.js.map                                                                  \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/no-result-error.js.map                                                                                                                           \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/array-expression-node.js                                                           \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/table-metadata.js.map                                                    \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/import-clause-node.js                                                              \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/order-by-node.js.map                                                                                                                            \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/array.js                                                                                                                                                             \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/common-table-expression-node.js.map                                                                                                             \u001b[2m   1.07 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/module-reference-node.js                                                           \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/union-expression-node.js                                                           \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js                                                                                                                                                   \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/partition-by-item-node.js                                                                                                                       \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/set-operation-node.js                                                                                                                           \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/unary-operation-node.js                                                                                                                         \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/check-constraint-builder.js.map                                                                                                                         \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs.exec@1.1.8/node_modules/shelljs.exec/index.js                                                                                                                                                      \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/unary-operation-node.js.map                                                                                                                     \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/default-insert-value-node.js                                                                                                                    \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/when-node.js                                                                                                                                    \u001b[2m   1.06 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/schema/check-constraint-builder.js                                                                                                                             \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/savepoint-parser.js.map                                                                                                                                 \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/sentence.js                                                                                                                                                          \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/property-node.js                                                                   \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/value-list-node.js.map                                                                                                                          \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/select-modifier-node.js.map                                                                                                                     \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/proxy-target@3.0.2/node_modules/proxy-target/esm/traps.js.map                                                                                                                                              \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/group-by-node.js.map                                                                                                                            \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/runtime-enum-declaration-node.js.map                                               \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/pool_connection.js                                                                                                                                           \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/pragma.js                                                                                                                                    \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/convert/xml.js                                                                                                                                                            \u001b[2m   1.05 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/on-duplicate-key-node.js                                                                                                                        \u001b[2m   1.04 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/drop-type-builder.js                                                                                                                                    \u001b[2m   1.04 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/check-constraint-node.js.map                                                                                                                    \u001b[2m   1.04 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/column-update-node.js.map                                                                                                                       \u001b[2m   1.04 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/using-node.js.map                                                                                                                               \u001b[2m   1.04 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                 \u001b[2m   1.04 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/log-level.js                                                                      \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/add-constraint-node.js                                                                                                                          \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/column-update-node.js                                                                                                                           \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-reference-node.js.map                                                                                                                      \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/column-type-node.js.map                                                            \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/partition-by-item-node.js.map                                                                                                                   \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/template-node.js                                                                   \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-path-leg-node.js.map                                                                                                                       \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/commands.js                                                                                                                                                \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.58 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/stack-trace-utils.js.map                                                                                                                                  \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/default-value-node.js                                                                                                                           \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/no-result-error.js                                                                                                                               \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/interface-declaration-node.js.map                                                  \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/values-node.js.map                                                                                                                              \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/json-path-leg-node.js                                                                                                                           \u001b[2m   1.03 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/value-list-node.js                                                                                                                              \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jsonfile@6.2.0/node_modules/jsonfile/utils.js.map                                                                                                                                                          \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/infer-clause-node.js                                                               \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/function-node.js.map                                                                                                                            \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/tuple-node.js.map                                                                                                                               \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/from-node.js.map                                                                                                                                \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/on-modify-action-parser.js                                                                                                                              \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/on-duplicate-key-node.js.map                                                                                                                    \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/index.js                                                                                                                                               \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/matched-node.js.map                                                                                                                             \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/modify-column-node.js                                                                                                                           \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/import-statement-node.js.map                                                       \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/add-constraint-node.js.map                                                                                                                      \u001b[2m   1.02 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/merge-query-node.js                                                                                                                             \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/wrappy@1.0.2/node_modules/wrappy/wrappy.js                                                                                                                                                                 \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mutils.js                                                                                                                                                                                                                      \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/default-value-node.js.map                                                                                                                       \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/group-by-item-node.js                                                                                                                           \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/codegen.js.map                                                \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/mapped-type-node.js                                                                \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/list-node.js.map                                                                                                                                \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/remove/index.js                                                                                                                                                  \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/metadata/database-metadata.js.map                                                 \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.56 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/order-by-item-node.js.map                                                                                                                       \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/explain-node.js.map                                                                                                                             \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/rename-constraint-node.js.map                                                                                                                   \u001b[2m   1.01 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/column-definition-node.js                                                                                                                       \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-table-node.js.map                                                                                                                          \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                  \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/generic-expression-node.js.map                                                     \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/default-insert-value-node.js.map                                                                                                                \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/identifier-node.js                                                                 \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/index.js                                                                                                                                                \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/modify-column-node.js.map                                                                                                                       \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/cast-node.js.map                                                                                                                                \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/group-by-item-node.js.map                                                                                                                       \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/unary-operation-parser.js.map                                                                                                                           \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pgpass@1.0.5/node_modules/pgpass/lib/index.js.map                                                                                                                                                          \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/alias-declaration-node.js.map                                                      \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/property-node.js.map                                                               \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/top-node.js.map                                                                                                                                 \u001b[2m   1.00 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/function-node.js                                                                                                                                \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                 \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-query-compiler.js.map                                                                                                                \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/default-value-parser.js.map                                                                                                                             \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/close_statement.js                                                                                                                                           \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/values-node.js                                                                                                                                  \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/alias-node.js.map                                                                                                                               \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/add-column-node.js                                                                                                                              \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/identifier-node.js                                                                                                                              \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/matched-node.js                                                                                                                                 \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/on-commit-action-parse.js                                                                                                                               \u001b[2m   0.99 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/add-column-node.js.map                                                                                                                          \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/identifier-node.js.map                                                                                                                          \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                  \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/explain-node.js                                                                                                                                 \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/ensure/index.js.map                                                                                                                                              \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/tuple-node.js                                                                                                                                   \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/import-clause-node.js.map                                                          \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/deferred.js                                                                                                                                               \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/or-action-node.js                                                                                                                               \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/and-node.js.map                                                                                                                                 \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/or-action-node.js.map                                                                                                                           \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/make_done_cb.js.map                                                                                                                                          \u001b[2m   0.98 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/literal-node.js                                                                    \u001b[2m   0.97 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/css.js                                                                                                                                                               \u001b[2m   0.97 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/data-type-parser.js.map                                                                                                                                 \u001b[2m   0.97 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/or-node.js.map                                                                                                                                  \u001b[2m   0.97 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/rename-column-node.js.map                                                                                                                       \u001b[2m   0.97 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/list-node.js                                                                                                                                    \u001b[2m   0.97 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/close_statement.js.map                                                                                                                                       \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/queries.js.map                                                                                                                                                                                                         \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/index.js.map                                                                                                                                                \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/utils/create-kysely.js                                        \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/cast-node.js                                                                                                                                    \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/aws-ssl-profiles@1.1.2/node_modules/aws-ssl-profiles/lib/index.js                                                                                                                                          \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                                \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.55 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/select-all-node.js                                                                                                                              \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/object-expression-node.js.map                                                      \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/offset-node.js.map                                                                                                                              \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/parens-node.js.map                                                                                                                              \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/default-connection-provider.js.map                                                                                                                      \u001b[2m   0.96 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/diff/character.js                                                                                                                                                         \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/value-node.js.map                                                                                                                               \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/alias-node.js                                                                                                                                   \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/top-node.js                                                                                                                                     \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/limit-node.js.map                                                                                                                               \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/query-id.js.map                                                                                                                                           \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/offset-node.js                                                                                                                                  \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-adapter.js                                                      \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/update-result.js.map                                                                                                                             \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/mysql_clear_password.js.map                                                                                                                             \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/mysql_clear_password.js                                                                                                                                 \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/select-all-node.js.map                                                                                                                          \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/export-statement-node.js.map                                                       \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.54 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/parens-node.js                                                                                                                                  \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/template-node.js.map                                                               \u001b[2m   0.95 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-type-node.js.map                                                                                                                           \u001b[2m   0.94 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/array-expression-node.js.map                                                       \u001b[2m   0.94 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/close_statement.js                                                                                                                                          \u001b[2m   0.94 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node-source.js                                                                                                                        \u001b[2m   0.94 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/limit-node.js                                                                                                                                   \u001b[2m   0.94 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/and-node.js                                                                                                                                     \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/module-reference-node.js.map                                                       \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/union-expression-node.js.map                                                       \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.53 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/cte-builder.js                                                                                                                                   \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/alter-column-node.js.map                                                                                                                        \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/with-schema/with-schema-plugin.js.map                                                                                                                   \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/when-node.js.map                                                                                                                                \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool_connection.js                                                                                                                                                   \u001b[2m   0.93 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/or-node.js                                                                                                                                      \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/aws-ssl-profiles@1.1.2/node_modules/aws-ssl-profiles/lib/index.js.map                                                                                                                                      \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jiti@2.0.0-beta.3/node_modules/jiti/lib/jiti.js.map                                                                                                                                                        \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-query-compiler.js                                                                                                                        \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/immediate-value/immediate-value-transformer.js                                                                                                          \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/path-is-absolute@1.0.1/node_modules/path-is-absolute/index.js                                                                                                                                              \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/expression/expression.js.map                                                                                                                                   \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/mkdirs/index.js                                                                                                                                                  \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/partition-by-parser.js.map                                                                                                                              \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/query-id.js                                                                                                                                               \u001b[2m   0.92 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/over-node.js                                                                                                                                    \u001b[2m   0.91 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                            \u001b[2m   0.91 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                      \u001b[2m   0.91 kB\u001b[22m \u001b[2m│ gzip:   0.57 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-compiler/compiled-query.js.map                                                                                                                           \u001b[2m   0.91 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/group-by-parser.js.map                                                                                                                                  \u001b[2m   0.91 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/graceful-fs@4.2.11/node_modules/graceful-fs/clone.js                                                                                                                                                       \u001b[2m   0.91 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/infer-clause-node.js.map                                                           \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/case-node.js                                                                                                                                    \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/foreign-key-constraint-node.js                                                                                                                  \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/output-json-sync.js                                                                                                                                         \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/binary-operation-node.js.map                                                                                                                    \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/on-modify-action-parser.js.map                                                                                                                          \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/mapped-type-node.js.map                                                            \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                  \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.50 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/performance-now.js                                                                                                                                        \u001b[2m   0.90 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/identifier-node.js.map                                                             \u001b[2m   0.89 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/make_done_cb.js                                                                                                                                              \u001b[2m   0.89 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/path-exists/index.js                                                                                                                                             \u001b[2m   0.88 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/prepared_statement_header.js                                                                                                                                 \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/promise/pool_connection.js.map                                                                                                                                       \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/output-json.js                                                                                                                                              \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/constants.js.map                                                                                                                                                                                                       \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/concat-map@0.0.1/node_modules/concat-map/index.js.map                                                                                                                                                      \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/log-once.js.map                                                                                                                                           \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.52 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/primitive-value-list-node.js.map                                                                                                                \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/parser/on-commit-action-parse.js.map                                                                                                                           \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/imports.js                                                                 \u001b[2m   0.87 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/index.js                                                                                                                                               \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/log-once.js                                                                                                                                               \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/literal-node.js.map                                                                \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.51 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-column-node.js.map                                                                                                                         \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/set-operation-node.js.map                                                                                                                       \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/packets/prepared_statement_header.js.map                                                                                                                             \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/collate-node.js.map                                                                                                                             \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/util/async.js                                                                                                                                                    \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/fetch-node.js.map                                                                                                                               \u001b[2m   0.86 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/check-constraint-builder.js.map                                                                                                                         \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pgpass@1.0.5/node_modules/pgpass/lib/index.js                                                                                                                                                              \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                         \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.46 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/create_connection.js                                                                                                                                                 \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/performance-now.js.map                                                                                                                                    \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/shell.js                                                                                                                                                                \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/field_flags.js                                                                                                                                             \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/util/array.js                                                                                                                                                             \u001b[2m   0.85 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffReal/index.js.map                                                                                                                                           \u001b[2m   0.84 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/column-node.js.map                                                                                                                              \u001b[2m   0.84 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/color.js                                                                                                                                               \u001b[2m   0.84 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.common.js.map                       \u001b[2m   0.84 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/connection.js                                                                                                                                                        \u001b[2m   0.84 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/unary-operation-node.js.map                                                                                                                     \u001b[2m   0.83 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/unique-constraint-node.js                                                                                                                       \u001b[2m   0.83 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/commands/close_statement.js.map                                                                                                                                      \u001b[2m   0.83 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/driver.js                                                                                                                                               \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/is-number@7.0.0/node_modules/is-number/index.js.map                                                                                                                                                        \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                 \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/dialect.js                                                                        \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/compilable.js                                                                                                                                             \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/primary-key-constraint-node.js                                                                                                                  \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/references-node.js                                                                                                                              \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/convert/dmp.js                                                                                                                                                            \u001b[2m   0.82 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/column-update-node.js.map                                                                                                                       \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/index.js                                                                                                                                                                                            \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/xtend@4.0.2/node_modules/xtend/mutable.js.map                                                                                                                                                              \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/remove/index.js.map                                                                                                                                              \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/partition-by-item-node.js.map                                                                                                                   \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/no-result-error.js.map                                                                                                                           \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jsonfile@6.2.0/node_modules/jsonfile/utils.js                                                                                                                                                              \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-path-leg-node.js.map                                                                                                                       \u001b[2m   0.81 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/selection-node.js                                                                                                                               \u001b[2m   0.80 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/join-node.js                                                                                                                                    \u001b[2m   0.80 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/function-node.js.map                                                                                                                            \u001b[2m   0.80 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/mkdirs/utils.js                                                                                                                                                  \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node-source.js.map                                                                                                                    \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/on-duplicate-key-node.js.map                                                                                                                    \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/matched-node.js.map                                                                                                                             \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/copy/index.js                                                                                                                                                    \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/move/index.js                                                                                                                                                    \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/schemable-identifier-node.js                                                                                                                    \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/add-constraint-node.js.map                                                                                                                      \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/value-list-node.js.map                                                                                                                          \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/default-value-node.js.map                                                                                                                       \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/jiti@2.0.0-beta.3/node_modules/jiti/lib/jiti.js                                                                                                                                                            \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/set-operation-parser.js                                                                                                                                 \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/jsonfile.js                                                                                                                                                 \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/helpers/merge-exports.js                                                                                                                                      \u001b[2m   0.79 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/explain-node.js.map                                                                                                                             \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/ssl_profiles.js                                                                                                                                            \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/diff@3.5.1/node_modules/diff/lib/util/params.js                                                                                                                                                            \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/default-insert-value-node.js.map                                                                                                                \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/modify-column-node.js.map                                                                                                                       \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/cast-node.js.map                                                                                                                                \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/group-by-item-node.js.map                                                                                                                       \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/provide-controlled-connection.js                                                                                                                          \u001b[2m   0.78 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/iconv-lite@0.7.1/node_modules/iconv-lite/lib/helpers/merge-exports.js.map                                                                                                                                  \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/top-node.js.map                                                                                                                                 \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/util.js.map                                                                                                                                          \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/random-string.js                                                                                                                                          \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/delete-result.js                                                                                                                                 \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/values-node.js.map                                                                                                                              \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                         \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@electric-sql_pglite@0.3.15/node_modules/@electric-sql/pglite/dist/fs/nodefs.js                                                                                                                            \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/has-flag@3.0.0/node_modules/has-flag/index.js.map                                                                                                                                                          \u001b[2m   0.77 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/alias-node.js.map                                                                                                                               \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/top-parser.js                                                                                                                                           \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/dialects/libsql/libsql-adapter.js.map                                                  \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/tuple-node.js.map                                                                                                                               \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/query-id.js.map                                                                                                                                           \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/concat-map@0.0.1/node_modules/concat-map/index.js                                                                                                                                                          \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits.js                                                                                                                                                           \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/add-column-node.js.map                                                                                                                          \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/merge-result.js                                                                                                                                  \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/arrayParser.js                                                                                                                                                    \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/has-flag@4.0.0/node_modules/has-flag/index.js.map                                                                                                                                                          \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/identifier-node.js.map                                                                                                                          \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/session_track.js                                                                                                                                           \u001b[2m   0.76 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/util.js                                                                                                                                              \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/common-table-expression-name-node.js                                                                                                            \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/list-node.js.map                                                                                                                                \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/and-node.js.map                                                                                                                                 \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/or-action-node.js.map                                                                                                                           \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/noop-plugin.js                                                                                                                                          \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/create_pool.js                                                                                                                                                       \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/src/error.js.map                                                                                                                                                        \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/or-node.js.map                                                                                                                                  \u001b[2m   0.75 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/log-once.js.map                                                                                                                                           \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/has-flag@4.0.0/node_modules/has-flag/index.js                                                                                                                                                              \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/dialect-adapter-base.js                                                                                                                                \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                         \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/alter-table-node.js                                                                                                                             \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/utils.js                                                                                                                                                              \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/has-flag@3.0.0/node_modules/has-flag/index.js                                                                                                                                                              \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/offset-node.js.map                                                                                                                              \u001b[2m   0.74 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/default-value-parser.js.map                                                                                                                             \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/immediate-value/immediate-value-plugin.js                                                                                                               \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-query-compiler.js.map                                                                                                                \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/parens-node.js.map                                                                                                                              \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-index-node.js                                                                                                                            \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool.js                                                                                                                                                              \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/having-node.js                                                                                                                                  \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/raw-node.js                                                                                                                                     \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/transformer/imports.js.map                                                             \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.47 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/noop-plugin.js.map                                                                                                                                      \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/limit-node.js.map                                                                                                                               \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/mkdirs/index.js.map                                                                                                                                              \u001b[2m   0.73 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/refresh-materialized-view-node.js                                                                                                               \u001b[2m   0.72 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/select-all-node.js.map                                                                                                                          \u001b[2m   0.72 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/compilable.js.map                                                                                                                                         \u001b[2m   0.72 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/create_pool_cluster.js                                                                                                                                               \u001b[2m   0.72 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/xtend@4.0.2/node_modules/xtend/mutable.js                                                                                                                                                                  \u001b[2m   0.72 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/on-modify-action-parser.js.map                                                                                                                          \u001b[2m   0.72 kB\u001b[22m \u001b[2m│ gzip:   0.43 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/where-node.js                                                                                                                                   \u001b[2m   0.72 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/escape-string-regexp@1.0.5/node_modules/escape-string-regexp/index.js                                                                                                                                      \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/validate/index.js                                                                                                                                                  \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/add-index-node.js                                                                                                                               \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/commands.js                                                                                                                                                             \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                      \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.45 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/declaration-node.js                                                                \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/identifier-parser.js                                                                                                                                    \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                          \u001b[2m   0.71 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/definition-node.js                                                                 \u001b[2m   0.70 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/expression-node.js                                                                 \u001b[2m   0.70 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/single-connection-provider.js                                                                                                                           \u001b[2m   0.70 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/statement-node.js                                                                  \u001b[2m   0.70 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/delete-result.js.map                                                                                                                             \u001b[2m   0.69 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-type-node.js                                                                                                                             \u001b[2m   0.69 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/core/dialect.js.map                                                                    \u001b[2m   0.69 kB\u001b[22m \u001b[2m│ gzip:   0.44 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/simple-reference-expression-node.js                                                                                                             \u001b[2m   0.69 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/merge-result.js.map                                                                                                                              \u001b[2m   0.69 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/partition-by-parser.js.map                                                                                                                              \u001b[2m   0.69 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/on-commit-action-parse.js.map                                                                                                                           \u001b[2m   0.69 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/commands.js.map                                                                                                                                                         \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-adapter.js                                                                                                                           \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/session_track.js.map                                                                                                                                       \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/insert-query-node.js                                                                                                                            \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool_connection.js.map                                                                                                                                               \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/path-exists/index.js.map                                                                                                                                         \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.42 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-constraint-node.js                                                                                                                         \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/fetch-parser.js                                                                                                                                         \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.37 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/index.js.map                                                                                                                                                     \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/on-node.js                                                                                                                                      \u001b[2m   0.67 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/table-node.js                                                                                                                                   \u001b[2m   0.67 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/crypto/utils.js.map                                                                                                                                                          \u001b[2m   0.67 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/introspector.js                                               \u001b[2m   0.67 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/color.js.map                                                                                                                                           \u001b[2m   0.67 kB\u001b[22m \u001b[2m│ gzip:   0.41 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/output-json.js.map                                                                                                                                          \u001b[2m   0.67 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/returning-node.js                                                                                                                               \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/performance-now.js.map                                                                                                                                    \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/output-json-sync.js.map                                                                                                                                     \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-schema-node.js                                                                                                                           \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/gitDiffFake/index.js.map                                                                                                                                           \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/is-number@7.0.0/node_modules/is-number/index.js                                                                                                                                                            \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/update-result.js                                                                                                                                 \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-index-node.js                                                                                                                              \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                            \u001b[2m   0.66 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/alter-table-executor.js                                                                                                                                 \u001b[2m   0.65 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                              \u001b[2m   0.65 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/index.js                                                                                                                                             \u001b[2m   0.65 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/group-by-parser.js                                                                                                                                      \u001b[2m   0.65 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/inspect.js                                                                                                                                   \u001b[2m   0.65 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/create-view-node.js                                                                                                                             \u001b[2m   0.64 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-schema-node.js                                                                                                                             \u001b[2m   0.64 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-dialect-config.js                                                                                                                    \u001b[2m   0.64 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/generated-node.js                                                                                                                               \u001b[2m   0.64 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/_shared/defaultOptions.js                                                                                                                                          \u001b[2m   0.64 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/data-type-parser.js                                                                                                                                     \u001b[2m   0.64 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/query-executor-provider.js                                                                                                                      \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/output-node.js                                                                                                                                  \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/connection.js.map                                                                                                                                                    \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/reference-node.js                                                                                                                               \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/create_connection.js.map                                                                                                                                             \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-operator-chain-node.js                                                                                                                     \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-view-node.js                                                                                                                               \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/check-constraint-node.js                                                                                                                        \u001b[2m   0.63 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-dialect-config.js                                                                                                                        \u001b[2m   0.62 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/rename-constraint-node.js                                                                                                                       \u001b[2m   0.62 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-dialect-config.js                                                                                                                          \u001b[2m   0.62 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-dialect-config.js                                                                                                                          \u001b[2m   0.62 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/db.js                                                                                  \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/common-table-expression-node.js                                                                                                                 \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                 \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/with-node.js                                                                                                                                    \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-path-node.js                                                                                                                               \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/escape-string-regexp@1.0.5/node_modules/escape-string-regexp/index.js.map                                                                                                                                  \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.40 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/database-introspector.js                                                                                                                               \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/returning-interface.js                                                                                                                           \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs.exec@1.1.8/node_modules/shelljs.exec/js/normaliseOptions/defaultOptions.js                                                                                                                         \u001b[2m   0.61 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.common.js                           \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/proxy-target@3.0.2/node_modules/proxy-target/esm/types.js.map                                                                                                                                              \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/validate/index.js.map                                                                                                                                              \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/order-by-interface.js                                                                                                                            \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/select-modifier-node.js                                                                                                                         \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/partition-by-node.js                                                                                                                            \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                     \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/expression/expression.js                                                                                                                                       \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/durable-hooks.js.map                                                                                                                                                                                \u001b[2m   0.60 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/connection-provider.js                                                                                                                                  \u001b[2m   0.59 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/database-connection.js                                                                                                                                  \u001b[2m   0.59 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/utils/create-migrator.js                                      \u001b[2m   0.59 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/having-interface.js                                                                                                                              \u001b[2m   0.59 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/output-interface.js                                                                                                                              \u001b[2m   0.59 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits.js.map                                                                                                                                                       \u001b[2m   0.59 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/server.bootstrap.js                                                                                                                                                   \u001b[2m   0.59 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/constraint-node.js                                                                                                                              \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-reference-node.js                                                                                                                          \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/rename-column-node.js                                                                                                                           \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/codegen.js                                                    \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/where-interface.js                                                                                                                               \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                      \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.39 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node.js                                                                                                                               \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-compiler/query-compiler.js                                                                                                                               \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/query-executor.js                                                                                                                               \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/json/jsonfile.js.map                                                                                                                                             \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/config.js                                                                                                                                                             \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs@0.8.5/node_modules/shelljs/src/error.js                                                                                                                                                            \u001b[2m   0.58 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/unary-operation-parser.js                                                                                                                               \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operation-node-source.js.map                                                                                                                    \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/pool.js.map                                                                                                                                                          \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.36 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/js/_shared/defaultOptions.js.map                                                                                                                                      \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/dialect-adapter.js                                                                                                                                     \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/create_pool.js.map                                                                                                                                                   \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-types@2.2.0/node_modules/pg-types/lib/arrayParser.js.map                                                                                                                                                \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/order-by-node.js                                                                                                                                \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                    \u001b[2m   0.57 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/stack-trace-utils.js                                                                                                                                      \u001b[2m   0.56 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-cloudflare@1.3.0/node_modules/pg-cloudflare/dist/empty.js.map                                                                                                                                           \u001b[2m   0.56 kB\u001b[22m \u001b[2m│ gzip:   0.38 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/group-by-node.js                                                                                                                                \u001b[2m   0.56 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/with-schema/with-schema-plugin.js                                                                                                                       \u001b[2m   0.56 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/kysely-plugin.js                                                                                                                                        \u001b[2m   0.56 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/order-by-item-node.js                                                                                                                           \u001b[2m   0.56 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/alter-column-node.js                                                                                                                            \u001b[2m   0.56 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/index.js                                                                                                                                                            \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/seq-queue@0.0.5/node_modules/seq-queue/index.js                                                                                                                                                            \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/constants.js                                                                                                                                                                                                           \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/auth_plugins/index.js.map                                                                                                                                            \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/using-node.js                                                                                                                                   \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-table-node.js                                                                                                                              \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/infer-result.js                                                                                                                                           \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-compiler/compiled-query.js                                                                                                                               \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/driver/default-connection-provider.js                                                                                                                          \u001b[2m   0.55 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/deferred.js                                                                                                                                               \u001b[2m   0.54 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/column-type.js                                                                                                                                            \u001b[2m   0.54 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/explainable.js                                                                                                                                            \u001b[2m   0.54 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/cursor.js                                                                                                                                                  \u001b[2m   0.54 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/binary-operation-node.js                                                                                                                        \u001b[2m   0.54 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/methods/inspect.js.map                                                                                                                               \u001b[2m   0.54 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/streamable.js                                                                                                                                             \u001b[2m   0.54 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/from-node.js                                                                                                                                    \u001b[2m   0.53 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/ssl_profiles.js.map                                                                                                                                        \u001b[2m   0.53 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/schema/check-constraint-builder.js                                                                                                                             \u001b[2m   0.53 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg-cloudflare@1.3.0/node_modules/pg-cloudflare/dist/empty.js                                                                                                                                               \u001b[2m   0.53 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlstring@2.3.3/node_modules/sqlstring/index.js                                                                                                                                                            \u001b[2m   0.53 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/status.js.map                                                                                                                                                                                                          \u001b[2m   0.53 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/dialect.js                                                                                                                                             \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vanilla.js.map                                                                                                                                                                                                         \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/svelte.js.map                                                                                                                                                                                                          \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/collate-node.js                                                                                                                                 \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-column-node.js                                                                                                                             \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/react.js.map                                                                                                                                                                                                           \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/solid.js.map                                                                                                                                                                                                           \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/drop-type-node.js                                                                                                                               \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/no-result-error.js                                                                                                                               \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/primitive-value-list-node.js                                                                                                                    \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/value-node.js                                                                                                                                   \u001b[2m   0.52 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vue.js.map                                                                                                                                                                                                             \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/compilable.js.map                                                                                                                                         \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                     \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/delete-result.js.map                                                                                                                             \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                    \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/native/index.js                                                                                                                                                              \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/merge-result.js.map                                                                                                                              \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/create_pool_cluster.js.map                                                                                                                                           \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/default-value-parser.js                                                                                                                                 \u001b[2m   0.51 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/column-node.js                                                                                                                                  \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/fetch-node.js                                                                                                                                   \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.31 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/when-node.js                                                                                                                                    \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-adapter.js                                                                                                                               \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/set-operation-node.js                                                                                                                           \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js.map                                       \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                          \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/declaration-node.js.map                                                            \u001b[2m   0.50 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-query-compiler.js                                                                                                                    \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/migration/migrator.js                                                                                                                                          \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/unary-operation-node.js                                                                                                                         \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/definition-node.js.map                                                             \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/expression-node.js.map                                                             \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js.map                                \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/ast/statement-node.js.map                                                              \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/partition-by-item-node.js                                                                                                                       \u001b[2m   0.49 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/partition-by-parser.js                                                                                                                                  \u001b[2m   0.48 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.utils.js.map                                       \u001b[2m   0.48 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.d.ts.map                                                                                                                                                                                                                \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/column-update-node.js                                                                                                                           \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/on-modify-action-parser.js                                                                                                                              \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/coincident@1.2.3/node_modules/coincident/esm/channel.js.map                                                                                                                                                \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.33 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/default-insert-value-node.js                                                                                                                    \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/on-duplicate-key-node.js                                                                                                                        \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/add-constraint-node.js                                                                                                                          \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/types.d.ts.map                                                                                                                                                                                                         \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/default-value-node.js                                                                                                                           \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/log-once.js                                                                                                                                               \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/json-path-leg-node.js                                                                                                                           \u001b[2m   0.47 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/config.js.map                                                                                                                                                         \u001b[2m   0.46 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/modify-column-node.js                                                                                                                           \u001b[2m   0.46 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/group-by-item-node.js                                                                                                                           \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/value-list-node.js                                                                                                                              \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/function-node.js                                                                                                                                \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/matched-node.js                                                                                                                                 \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-codegen@0.15.0_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-codegen/dist/db.js.map                                                                              \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.32 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/copy/index.js.map                                                                                                                                                \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/fs-extra@11.3.2/node_modules/fs-extra/lib/move/index.js.map                                                                                                                                                \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/explain-node.js                                                                                                                                 \u001b[2m   0.45 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/add-column-node.js                                                                                                                              \u001b[2m   0.44 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/identifier-node.js                                                                                                                              \u001b[2m   0.44 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/cast-node.js                                                                                                                                    \u001b[2m   0.44 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                     \u001b[2m   0.44 kB\u001b[22m \u001b[2m│ gzip:   0.30 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/on-commit-action-parse.js                                                                                                                               \u001b[2m   0.44 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/values-node.js                                                                                                                                  \u001b[2m   0.43 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/top-node.js                                                                                                                                     \u001b[2m   0.43 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/or-action-node.js                                                                                                                               \u001b[2m   0.43 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/query-id.js                                                                                                                                               \u001b[2m   0.43 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/tuple-node.js                                                                                                                                   \u001b[2m   0.43 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/simple-reference-expression-node.js.map                                                                                                         \u001b[2m   0.43 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/alias-node.js                                                                                                                                   \u001b[2m   0.42 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                \u001b[2m   0.42 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/list-node.js                                                                                                                                    \u001b[2m   0.42 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/offset-node.js                                                                                                                                  \u001b[2m   0.42 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/git-diff@2.0.6/node_modules/git-diff/server.bootstrap.js.map                                                                                                                                               \u001b[2m   0.42 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/select-all-node.js                                                                                                                              \u001b[2m   0.42 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/parens-node.js                                                                                                                                  \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/and-node.js                                                                                                                                     \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/postgres/postgres-dialect-config.js.map                                                                                                                \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/shelljs.exec@1.1.8/node_modules/shelljs.exec/js/normaliseOptions/defaultOptions.js.map                                                                                                                     \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/limit-node.js                                                                                                                                   \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/query-executor-provider.js.map                                                                                                                  \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/or-node.js                                                                                                                                      \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sqlite.org_sqlite-wasm@3.50.4-build1/node_modules/@sqlite.org/sqlite-wasm/node.js.map                                                                                                                     \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/sqlite/sqlite-dialect-config.js.map                                                                                                                    \u001b[2m   0.41 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mssql/mssql-dialect-config.js.map                                                                                                                      \u001b[2m   0.40 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/mysql/mysql-dialect-config.js.map                                                                                                                      \u001b[2m   0.40 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/mysql2@3.16.1/node_modules/mysql2/lib/constants/cursor.js.map                                                                                                                                              \u001b[2m   0.40 kB\u001b[22m \u001b[2m│ gzip:   0.29 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/returning-interface.js.map                                                                                                                       \u001b[2m   0.40 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/database-introspector.js.map                                                                                                                           \u001b[2m   0.40 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/order-by-interface.js.map                                                                                                                        \u001b[2m   0.40 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes.d.ts.map                                                                                                                                                                                                               \u001b[2m   0.40 kB\u001b[22m \u001b[2m│ gzip:   0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/having-interface.js.map                                                                                                                          \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/output-interface.js.map                                                                                                                          \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/connection-provider.js.map                                                                                                                              \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/driver/database-connection.js.map                                                                                                                              \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/constraint-node.js.map                                                                                                                          \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-builder/where-interface.js.map                                                                                                                           \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/operation-node/operation-node.js.map                                                                                                                           \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-compiler/query-compiler.js.map                                                                                                                           \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/query-executor/query-executor.js.map                                                                                                                           \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/performance-now.js                                                                                                                                        \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/dialect-adapter.js.map                                                                                                                                 \u001b[2m   0.39 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/plugin/kysely-plugin.js.map                                                                                                                                    \u001b[2m   0.38 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/operation-node/operation-node-source.js                                                                                                                        \u001b[2m   0.38 kB\u001b[22m \u001b[2m│ gzip:   0.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mbindings.d.ts.map                                                                                                                                                                                                             \u001b[2m   0.38 kB\u001b[22m \u001b[2m│ gzip:   0.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/infer-result.js.map                                                                                                                                       \u001b[2m   0.38 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/column-type.js.map                                                                                                                                        \u001b[2m   0.37 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/explainable.js.map                                                                                                                                        \u001b[2m   0.37 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/better-sqlite3@12.6.2/node_modules/better-sqlite3/lib/index.js.map                                                                                                                                         \u001b[2m   0.37 kB\u001b[22m \u001b[2m│ gzip:   0.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/util/streamable.js.map                                                                                                                                         \u001b[2m   0.37 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/cjs/dialect/dialect.js.map                                                                                                                                         \u001b[2m   0.37 kB\u001b[22m \u001b[2m│ gzip:   0.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sindresorhus_is@7.1.1/node_modules/@sindresorhus/is/distribution/utilities.js.map                                                                                                                         \u001b[2m   0.37 kB\u001b[22m \u001b[2m│ gzip:   0.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                          \u001b[2m   0.37 kB\u001b[22m \u001b[2m│ gzip:   0.28 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/durable-hooks.js                                                                                                                                                                                    \u001b[2m   0.35 kB\u001b[22m \u001b[2m│ gzip:   0.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlocal@0.15.2_drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@REDACTED.js                                    \u001b[2m   0.34 kB\u001b[22m \u001b[2m│ gzip:   0.27 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                           \u001b[2m   0.34 kB\u001b[22m \u001b[2m│ gzip:   0.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                               \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.26 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/status.js                                                                                                                                                                                                              \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.js                                         \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.25 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/util/compilable.js                                                                                                                                             \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/drizzle-orm@0.44.7_@electric-sql_pglite@0.3.15_@libsql_client@0.14.0_@prisma_client@6.REDACTED.utils.js                                           \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.24 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sqlite.org_sqlite-wasm@3.50.4-build1/node_modules/@sqlite.org/sqlite-wasm/node.js                                                                                                                         \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/definition.js.map                                                                                                                                                                                                      \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.23 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/delete-result.js                                                                                                                                 \u001b[2m   0.31 kB\u001b[22m \u001b[2m│ gzip:   0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/query-builder/merge-result.js                                                                                                                                  \u001b[2m   0.31 kB\u001b[22m \u001b[2m│ gzip:   0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/handle-empty-in-lists/handle-empty-in-lists.js                                                                                                          \u001b[2m   0.30 kB\u001b[22m \u001b[2m│ gzip:   0.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner/queries.js                                                                                                                                                                                                             \u001b[2m   0.30 kB\u001b[22m \u001b[2m│ gzip:   0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/picomatch@2.3.1/node_modules/picomatch/index.js.map                                                                                                                                                        \u001b[2m   0.29 kB\u001b[22m \u001b[2m│ gzip:   0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/pg@8.18.0/node_modules/pg/lib/native/index.js.map                                                                                                                                                          \u001b[2m   0.28 kB\u001b[22m \u001b[2m│ gzip:   0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/coincident@1.2.3/node_modules/coincident/esm/channel.js                                                                                                                                                    \u001b[2m   0.27 kB\u001b[22m \u001b[2m│ gzip:   0.21 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/sqlstring@2.3.3/node_modules/sqlstring/index.js.map                                                                                                                                                        \u001b[2m   0.27 kB\u001b[22m \u001b[2m│ gzip:   0.20 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/seq-queue@0.0.5/node_modules/seq-queue/index.js.map                                                                                                                                                        \u001b[2m   0.27 kB\u001b[22m \u001b[2m│ gzip:   0.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/definition.js                                                                                                                                                                                                          \u001b[2m   0.26 kB\u001b[22m \u001b[2m│ gzip:   0.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/clients.d.ts.map                                                                                                                                                                                                       \u001b[2m   0.24 kB\u001b[22m \u001b[2m│ gzip:   0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vanilla.d.ts.map                                                                                                                                                                                                       \u001b[2m   0.24 kB\u001b[22m \u001b[2m│ gzip:   0.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/@sindresorhus_is@7.1.1/node_modules/@sindresorhus/is/distribution/utilities.js                                                                                                                             \u001b[2m   0.24 kB\u001b[22m \u001b[2m│ gzip:   0.19 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/svelte.d.ts.map                                                                                                                                                                                                        \u001b[2m   0.24 kB\u001b[22m \u001b[2m│ gzip:   0.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/react.d.ts.map                                                                                                                                                                                                         \u001b[2m   0.24 kB\u001b[22m \u001b[2m│ gzip:   0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/solid.d.ts.map                                                                                                                                                                                                         \u001b[2m   0.24 kB\u001b[22m \u001b[2m│ gzip:   0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vue.d.ts.map                                                                                                                                                                                                           \u001b[2m   0.23 kB\u001b[22m \u001b[2m│ gzip:   0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/proxy-target@3.0.2/node_modules/proxy-target/esm/traps.js                                                                                                                                                  \u001b[2m   0.22 kB\u001b[22m \u001b[2m│ gzip:   0.17 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/proxy-target@3.0.2/node_modules/proxy-target/esm/types.js                                                                                                                                                  \u001b[2m   0.19 kB\u001b[22m \u001b[2m│ gzip:   0.16 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/handle-empty-in-lists/handle-empty-in-lists-transformer.js                                                                                              \u001b[2m   0.17 kB\u001b[22m \u001b[2m│ gzip:   0.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-driver.js                                                                                                                                \u001b[2m   0.16 kB\u001b[22m \u001b[2m│ gzip:   0.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/postgres/postgres-dialect.js                                                                                                                           \u001b[2m   0.15 kB\u001b[22m \u001b[2m│ gzip:   0.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/index.js                                                      \u001b[2m   0.15 kB\u001b[22m \u001b[2m│ gzip:   0.12 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mrunner.d.ts.map                                                                                                                                                                                                               \u001b[2m   0.14 kB\u001b[22m \u001b[2m│ gzip:   0.13 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mssql/mssql-dialect.js                                                                                                                                 \u001b[2m   0.14 kB\u001b[22m \u001b[2m│ gzip:   0.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mysql/mysql-dialect.js                                                                                                                                 \u001b[2m   0.14 kB\u001b[22m \u001b[2m│ gzip:   0.10 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/sqlite/sqlite-dialect.js                                                                                                                               \u001b[2m   0.11 kB\u001b[22m \u001b[2m│ gzip:   0.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/model-checker.js                                                                                                                                                                                    \u001b[2m   0.11 kB\u001b[22m \u001b[2m│ gzip:   0.11 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely-pglite@0.6.1_@electric-sql_pglite@0.3.15_better-sqlite3@12.6.2_kysely@0.28.10_mysql2@3.16.1_pg@8.18.0/node_modules/kysely-pglite/dist/kysely-live.js                                                \u001b[2m   0.11 kB\u001b[22m \u001b[2m│ gzip:   0.09 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/parser/savepoint-parser.js                                                                                                                                     \u001b[2m   0.10 kB\u001b[22m \u001b[2m│ gzip:   0.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mssql/mssql-adapter.js                                                                                                                                 \u001b[2m   0.09 kB\u001b[22m \u001b[2m│ gzip:   0.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mysql/mysql-introspector.js                                                                                                                            \u001b[2m   0.09 kB\u001b[22m \u001b[2m│ gzip:   0.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mpackages/fragno-test/dist/model-checker-actors.js                                                                                                                                                                             \u001b[2m   0.08 kB\u001b[22m \u001b[2m│ gzip:   0.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mssql/mssql-query-compiler.js                                                                                                                          \u001b[2m   0.07 kB\u001b[22m \u001b[2m│ gzip:   0.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mysql/mysql-query-compiler.js                                                                                                                          \u001b[2m   0.07 kB\u001b[22m \u001b[2m│ gzip:   0.07 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/plugin/handle-empty-in-lists/handle-empty-in-lists-plugin.js                                                                                                   \u001b[2m   0.06 kB\u001b[22m \u001b[2m│ gzip:   0.08 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mssql/mssql-introspector.js                                                                                                                            \u001b[2m   0.05 kB\u001b[22m \u001b[2m│ gzip:   0.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mnode_modules/.pnpm/kysely@0.28.10/node_modules/kysely/dist/esm/dialect/mysql/mysql-adapter.js                                                                                                                                 \u001b[2m   0.05 kB\u001b[22m \u001b[2m│ gzip:   0.06 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m                                                                                                                                                                                                                    \u001b[2m  52.31 kB\u001b[22m \u001b[2m│ gzip:   4.49 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/vanilla.d.ts\u001b[22m\u001b[39m                                                                                                                                                                                                           \u001b[2m  12.45 kB\u001b[22m \u001b[2m│ gzip:   1.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/react.d.ts\u001b[22m\u001b[39m                                                                                                                                                                                                             \u001b[2m  12.38 kB\u001b[22m \u001b[2m│ gzip:   1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/svelte.d.ts\u001b[22m\u001b[39m                                                                                                                                                                                                            \u001b[2m  12.35 kB\u001b[22m \u001b[2m│ gzip:   1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/solid.d.ts\u001b[22m\u001b[39m                                                                                                                                                                                                             \u001b[2m  12.33 kB\u001b[22m \u001b[2m│ gzip:   1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/vue.d.ts\u001b[22m\u001b[39m                                                                                                                                                                                                               \u001b[2m  12.33 kB\u001b[22m \u001b[2m│ gzip:   1.59 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mtest.d.ts\u001b[22m\u001b[39m                                                                                                                                                                                                                     \u001b[2m   5.33 kB\u001b[22m \u001b[2m│ gzip:   1.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mroutes.d.ts\u001b[39m                                                                                                                                                                                                                   \u001b[2m  49.19 kB\u001b[22m \u001b[2m│ gzip:   3.67 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mdefinition.d.ts\u001b[39m                                                                                                                                                                                                               \u001b[2m  38.38 kB\u001b[22m \u001b[2m│ gzip:   2.77 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mschema.d.ts\u001b[39m                                                                                                                                                                                                                   \u001b[2m  27.41 kB\u001b[22m \u001b[2m│ gzip:   1.34 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mclient/clients.d.ts\u001b[39m                                                                                                                                                                                                           \u001b[2m  12.66 kB\u001b[22m \u001b[2m│ gzip:   1.60 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mworkflow.d.ts\u001b[39m                                                                                                                                                                                                                 \u001b[2m  12.43 kB\u001b[22m \u001b[2m│ gzip:   2.96 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mbindings.d.ts\u001b[39m                                                                                                                                                                                                                 \u001b[2m   1.40 kB\u001b[22m \u001b[2m│ gzip:   0.48 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mrunner/types.d.ts\u001b[39m                                                                                                                                                                                                             \u001b[2m   0.68 kB\u001b[22m \u001b[2m│ gzip:   0.35 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mrunner.d.ts\u001b[39m                                                                                                                                                                                                                   \u001b[2m   0.32 kB\u001b[22m \u001b[2m│ gzip:   0.18 kB\u001b[22m\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[34mℹ\u001b[39m 2039 files, total: 17192.31 kB\r\n\u001b[33m@fragno-dev/workflows:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m26364ms\u001b[39m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m ✓ src/client/client.test.ts (3 tests) 79ms\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m ✓ src/indexeddb/adapter.test.ts (6 tests) 160ms\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m ✓ src/query/query.test.ts (4 tests) 248ms\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0mcache miss, executing \u001b[2m820803ece035dd8a\u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m ✓ src/index.test.ts (22 tests) 249ms\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m> @fragno-dev/auth@0.0.14 build /home/jan/rejot/fragno/packages/auth\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m> tsdown\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m Test Files  1 passed (1)\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m      Tests  22 passed (22)\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m   Start at  11:59:11\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m   Duration  8.02s (transform 2.63s, setup 0ms, collect 6.87s, tests 249ms, environment 0ms, prepare 151ms)\r\n\u001b[33m@fragno-dev/forms:test: \u001b[0m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.11.13\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.9\u001b[22m\r\n\u001b[36m@fragno-dev/corpus:types:check: \u001b[0mcache miss, executing \u001b[2m0b41e410f5a331ce\u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m Test Files  68 passed (68)\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m      Tests  1162 passed (1162)\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   Start at  11:58:49\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m   Duration  30.46s (transform 23.01s, setup 0ms, collect 155.94s, tests 48.69s, environment 32ms, prepare 23.63s)\r\n\u001b[33m@fragno-dev/db:test: \u001b[0m\r\n\u001b[33m@fragno-dev/fragno-wf:types:check: \u001b[0mcache miss, executing \u001b[2m07723800b60285e9\u001b[0m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0mrollup\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/packages/auth/tsdown.config.ts\u001b[24m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts\u001b[39m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/index.ts, src/client/react.ts, src/client/solid.ts, src/client/svelte.ts, src/client/vanilla.ts, src/client/vue.ts\u001b[39m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 30 files\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m ✓ src/testing/outbox-sync.test.ts (2 tests) 96ms\r\n\u001b[36m@fragno-dev/corpus:types:check: \u001b[0m\r\n\u001b[36m@fragno-dev/corpus:types:check: \u001b[0m> @fragno-dev/corpus@0.0.7 types:check /home/jan/rejot/fragno/packages/corpus\r\n\u001b[36m@fragno-dev/corpus:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[36m@fragno-dev/corpus:types:check: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0mcache miss, executing \u001b[2mb11da0f78cb8cb01\u001b[0m\r\n\u001b[33m@fragno-dev/fragno-wf:types:check: \u001b[0m\r\n\u001b[33m@fragno-dev/fragno-wf:types:check: \u001b[0m> @fragno-dev/fragno-wf@0.1.0 types:check /home/jan/rejot/fragno/apps/fragno-wf\r\n\u001b[33m@fragno-dev/fragno-wf:types:check: \u001b[0m> tsc --noEmit\r\n\u001b[33m@fragno-dev/fragno-wf:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0mcache miss, executing \u001b[2mce2cc6d6f0f837d7\u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m> @fragno-dev/workflows@0.0.1 test /home/jan/rejot/fragno/packages/fragment-workflows\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m> vitest run\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m Test Files  6 passed (6)\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m      Tests  19 passed (19)\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m   Start at  11:59:13\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m   Duration  6.64s (transform 5.48s, setup 0ms, collect 20.83s, tests 605ms, environment 8ms, prepare 2.43s)\r\n\u001b[33m@fragno-dev/lofi:test: \u001b[0m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m> @fragno-dev/fragno-wf@0.1.0 build /home/jan/rejot/fragno/apps/fragno-wf\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m> tsdown\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription.updated > creates new subscription if missing\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Processing customer.subscription.updated: evt_1SNC6BQmJc11Jgb46wwdye3w\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstderr | src/webhook/handlers.test.ts > webhooks > customer.subscription.updated > creates new subscription if missing\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] No subscription found for Stripe ID sub_1SNC4sQmJc11Jgb44RmKllo0, creating new record\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription.updated > creates new subscription if missing\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Created subscription e3ihjdb97fgphn0bpl9aafsa for customer cus_TJpjYyg4X8UuEM (Stripe ID: sub_1SNC4sQmJc11Jgb44RmKllo0)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription.updated > updates existing subscription\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Processing customer.subscription.updated: evt_1SNC6BQmJc11Jgb46wwdye3w\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription.updated > updates existing subscription\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Updated subscription e3ihjdb97fgphn0bpl9aafsa (Stripe ID: sub_1SNC4sQmJc11Jgb44RmKllo0)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription.deleted > ignores event if no existing subscription\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Processing customer.subscription.deleted: evt_1SLo6pQmJc11Jgb4Mvj4uQPo\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstderr | src/webhook/handlers.test.ts > webhooks > customer.subscription.deleted > ignores event if no existing subscription\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] No subscription found for Stripe ID sub_1SLo5UQmJc11Jgb4DhMdr9Cw\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription.deleted > deletes existing subscription\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Processing customer.subscription.deleted: evt_1SLo6pQmJc11Jgb4Mvj4uQPo\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstderr | src/webhook/handlers.test.ts > webhooks > customer.subscription.deleted > deletes existing subscription\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] No subscription found for Stripe ID sub_1SLo5UQmJc11Jgb4DhMdr9Cw\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m ✓ src/services.test.ts (19 tests) 178ms\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription > created updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Processing customer.subscription.created: evt_1SNWWyQmJc11Jgb4m9TzZVJ7\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstderr | src/webhook/handlers.test.ts > webhooks > customer.subscription > created updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] No subscription found for Stripe ID sub_1SNWWxQmJc11Jgb4VCPycuSn, creating new record\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription > created updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Created subscription c43u17016ddovjyxe1xdsz7d for customer cus_TKAsQUDrVD4ClJ (Stripe ID: sub_1SNWWxQmJc11Jgb4VCPycuSn)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription > paused updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Processing customer.subscription.paused: evt_1SNWWzQmJc11Jgb4Ul3V4ZTv\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription > paused updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Updated subscription c43u17016ddovjyxe1xdsz7d (Stripe ID: sub_1SNWWxQmJc11Jgb4VCPycuSn)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription > trial_will_end updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Processing customer.subscription.trial_will_end: REDACTED\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstderr | src/webhook/handlers.test.ts > webhooks > customer.subscription > trial_will_end updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] No subscription found for Stripe ID sub_1SNYFAQmJc11Jgb4oeoCD8w1, creating new record\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > customer.subscription > trial_will_end updates status\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Created subscription gykapo235dkw0hb1de7iy90k for customer cus_TKCeMq8MroC2df (Stripe ID: sub_1SNYFAQmJc11Jgb4oeoCD8w1)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > checkout.session.completed > ignores non-subscription checkout sessions\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Not handling checkout session with mode payment: evt_1SNYRbQmJc11Jgb40xptrWzU\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0mstdout | src/webhook/handlers.test.ts > webhooks > checkout.session.completed > Creates subscription from checkout session\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m[Stripe Fragment] Created subscription u1i0vjnki6v6aiqbcf797yos for customer cus_TJtp6DFEx6WP2M (Stripe ID: sub_1SNG2WQmJc11Jgb4zLbJsGVN)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m ✓ src/webhook/handlers.test.ts (9 tests) 152ms\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m tsdown \u001b[2mv0.15.12\u001b[22m powered by rolldown \u001b[2mv1.0.0-beta.45\u001b[22m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m ✓ src/routes/subscriptions.test.ts (11 tests) 66ms\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m Using tsdown config: \u001b[4m/home/jan/rejot/fragno/apps/fragno-wf/tsdown.config.ts\u001b[24m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m entry: \u001b[34msrc/cli.ts\u001b[39m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m target: \u001b[34mnode22.0.0\u001b[39m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m tsconfig: \u001b[34mtsconfig.json\u001b[39m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m Build start\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m Cleaning 5 files\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m      Tests  39 passed (39)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m   Start at  11:59:13\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m   Duration  8.42s (transform 3.22s, setup 0ms, collect 20.17s, tests 396ms, environment 1ms, prepare 702ms)\r\n\u001b[32m@fragno-dev/stripe:test: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/fragment-workflows\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli.d.ts\u001b[24m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli.js\u001b[24m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[1mcli.js\u001b[22m        \u001b[2m28.98 kB\u001b[22m \u001b[2m│ gzip:  6.22 kB\u001b[22m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcli.js.map    \u001b[2m56.95 kB\u001b[22m \u001b[2m│ gzip: 11.51 kB\u001b[22m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22mcli.d.ts.map  \u001b[2m 2.13 kB\u001b[22m \u001b[2m│ gzip:  0.61 kB\u001b[22m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/\u001b[22m\u001b[32m\u001b[1mcli.d.ts\u001b[22m\u001b[39m      \u001b[2m 9.46 kB\u001b[22m \u001b[2m│ gzip:  0.89 kB\u001b[22m\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 97.51 kB\r\n\u001b[35m@fragno-dev/fragno-wf:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m2965ms\u001b[39m\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0mcache miss, executing \u001b[2md8f3d618aef99a68\u001b[0m\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m> @fragno-dev/fragno-wf@0.1.0 test /home/jan/rejot/fragno/apps/fragno-wf\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m> vitest run\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/fragno-wf\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mindex.js\u001b[22m        \u001b[2m 6.37 kB\u001b[22m \u001b[2m│ gzip: 1.91 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.js.map    \u001b[2m14.62 kB\u001b[22m \u001b[2m│ gzip: 4.05 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.d.ts.map  \u001b[2m 3.45 kB\u001b[22m \u001b[2m│ gzip: 0.89 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m      \u001b[2m 8.37 kB\u001b[22m \u001b[2m│ gzip: 1.58 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 32.82 kB\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m9821ms\u001b[39m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/solid.js\u001b[22m          \u001b[2m  3.43 kB\u001b[22m \u001b[2m│ gzip:  1.14 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vanilla.js\u001b[22m        \u001b[2m  3.42 kB\u001b[22m \u001b[2m│ gzip:  1.12 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vue.js\u001b[22m            \u001b[2m  3.40 kB\u001b[22m \u001b[2m│ gzip:  1.10 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/svelte.js\u001b[22m         \u001b[2m  3.34 kB\u001b[22m \u001b[2m│ gzip:  0.98 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/react.js\u001b[22m          \u001b[2m  2.70 kB\u001b[22m \u001b[2m│ gzip:  1.00 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mindex.js\u001b[22m                 \u001b[2m  0.23 kB\u001b[22m \u001b[2m│ gzip:  0.11 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-BzIJ852V.js.map      \u001b[2m138.22 kB\u001b[22m \u001b[2m│ gzip: 36.10 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-BzIJ852V.js          \u001b[2m 63.87 kB\u001b[22m \u001b[2m│ gzip: 16.06 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.js.map        \u001b[2m  7.41 kB\u001b[22m \u001b[2m│ gzip:  2.33 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.js.map      \u001b[2m  7.38 kB\u001b[22m \u001b[2m│ gzip:  2.36 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.js.map     \u001b[2m  7.33 kB\u001b[22m \u001b[2m│ gzip:  2.13 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.js.map    \u001b[2m  7.16 kB\u001b[22m \u001b[2m│ gzip:  2.24 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.js.map      \u001b[2m  6.40 kB\u001b[22m \u001b[2m│ gzip:  2.23 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mindex.d.ts.map           \u001b[2m  3.45 kB\u001b[22m \u001b[2m│ gzip:  0.89 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.d.ts.map  \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.d.ts.map   \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.d.ts.map    \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.d.ts.map    \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.d.ts.map      \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip:  0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m               \u001b[2m  8.37 kB\u001b[22m \u001b[2m│ gzip:  1.58 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vanilla.d.ts\u001b[22m\u001b[39m      \u001b[2m  1.50 kB\u001b[22m \u001b[2m│ gzip:  0.54 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/svelte.d.ts\u001b[22m\u001b[39m       \u001b[2m  1.46 kB\u001b[22m \u001b[2m│ gzip:  0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/react.d.ts\u001b[22m\u001b[39m        \u001b[2m  1.46 kB\u001b[22m \u001b[2m│ gzip:  0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/solid.d.ts\u001b[22m\u001b[39m        \u001b[2m  1.46 kB\u001b[22m \u001b[2m│ gzip:  0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vue.d.ts\u001b[22m\u001b[39m          \u001b[2m  1.43 kB\u001b[22m \u001b[2m│ gzip:  0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[34mℹ\u001b[39m 25 files, total: 274.68 kB\r\n\u001b[36m@fragno-dev/fragment-mailing-list:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m9946ms\u001b[39m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mcache miss, executing \u001b[2mf8e252b9b823c307\u001b[0m\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0mcache miss, executing \u001b[2m28be4069e1f37fbb\u001b[0m\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m> @fragno-dev/fragment-mailing-list@0.0.5 test /home/jan/rejot/fragno/packages/fragment-mailing-list\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m> @fragno-dev/docs-rr@ build /home/jan/rejot/fragno/apps/docs\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m> react-router build\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m ✓ src/model-checker.test.ts (1 test) 43ms\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/fragment-mailing-list\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m ✓ src/model-checker-runner.test.ts (1 test) 562ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ workflows model checker (runner) > runs runner ticks across interleavings without double-executing  559ms\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\u001b[43mWARNING\u001b[0m: your worker config (at `wrangler.jsonc`) contains the following configuration options which are ignored since they are not applicable when using Vite:\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m  - `rules` which is not relevant in the context of a Vite project\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m ✓ src/model-checker-examples.test.ts (4 tests) 2617ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ Workflows model checker examples > checks event delivery interleavings  1317ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ Workflows model checker examples > checks retry steps across interleavings  362ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ Workflows model checker examples > checks timeout + error interleavings  439ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ Workflows model checker examples > checks child workflow creation interleavings  490ms\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[MDX] generated files in 9.04377999999997ms\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mUsing Vite Environment API (experimental)\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mvite v7.3.1 building client environment for production...\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[MDX] generated files in 3.7685389999996914ms\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mtransforming...\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mindex.js\u001b[22m        \u001b[2m23.07 kB\u001b[22m \u001b[2m│ gzip:  5.10 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.js.map    \u001b[2m53.00 kB\u001b[22m \u001b[2m│ gzip: 10.87 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.d.ts.map  \u001b[2m 4.27 kB\u001b[22m \u001b[2m│ gzip:  0.86 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m      \u001b[2m30.33 kB\u001b[22m \u001b[2m│ gzip:  2.75 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m 4 files, total: 110.66 kB\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m10453ms\u001b[39m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vanilla.js\u001b[22m        \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip: 0.22 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/svelte.js\u001b[22m         \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip: 0.21 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/react.js\u001b[22m          \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip: 0.21 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/solid.js\u001b[22m          \u001b[2m 0.34 kB\u001b[22m \u001b[2m│ gzip: 0.21 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mclient/vue.js\u001b[22m            \u001b[2m 0.33 kB\u001b[22m \u001b[2m│ gzip: 0.21 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[1mindex.js\u001b[22m                 \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.11 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-DNrh9CQq.js.map      \u001b[2m37.77 kB\u001b[22m \u001b[2m│ gzip: 7.39 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22msrc-DNrh9CQq.js          \u001b[2m 4.98 kB\u001b[22m \u001b[2m│ gzip: 1.33 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mindex.d.ts.map           \u001b[2m 4.27 kB\u001b[22m \u001b[2m│ gzip: 0.87 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.js.map    \u001b[2m 0.64 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.js.map     \u001b[2m 0.63 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.js.map      \u001b[2m 0.63 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.js.map      \u001b[2m 0.63 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.js.map        \u001b[2m 0.62 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vanilla.d.ts.map  \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/svelte.d.ts.map   \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/react.d.ts.map    \u001b[2m 0.25 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/solid.d.ts.map    \u001b[2m 0.25 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22mclient/vue.d.ts.map      \u001b[2m 0.25 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m               \u001b[2m30.45 kB\u001b[22m \u001b[2m│ gzip: 2.77 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vanilla.d.ts\u001b[22m\u001b[39m      \u001b[2m 4.38 kB\u001b[22m \u001b[2m│ gzip: 0.91 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/svelte.d.ts\u001b[22m\u001b[39m       \u001b[2m 4.35 kB\u001b[22m \u001b[2m│ gzip: 0.91 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/react.d.ts\u001b[22m\u001b[39m        \u001b[2m 4.33 kB\u001b[22m \u001b[2m│ gzip: 0.90 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/vue.d.ts\u001b[22m\u001b[39m          \u001b[2m 4.30 kB\u001b[22m \u001b[2m│ gzip: 0.90 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/\u001b[22m\u001b[32m\u001b[1mclient/solid.d.ts\u001b[22m\u001b[39m        \u001b[2m 4.22 kB\u001b[22m \u001b[2m│ gzip: 0.90 kB\u001b[22m\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[34mℹ\u001b[39m 25 files, total: 105.34 kB\r\n\u001b[35m@fragno-dev/auth:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m10553ms\u001b[39m\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0mcache miss, executing \u001b[2meff02e71f7976444\u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m ✓ src/services.test.ts (13 tests) 4050ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ Workflows Fragment Services > createInstance should create instance and task records  364ms\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m> @fragno-dev/auth@0.0.14 test /home/jan/rejot/fragno/packages/auth\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m> vitest run\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/levels-context.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/level-slider.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/copy-forms-prompt-button.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/copy-markdown-button.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/fragno-code-block.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/page-actions.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/frameworks.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/database-integration.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/auth\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/carousel.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli/index.d.ts\u001b[24m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/cli/index.js\u001b[24m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[1mindex.js\u001b[22m                                  \u001b[2m 9.19 kB\u001b[22m \u001b[2m│ gzip: 1.97 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mindex.js.map                              \u001b[2m14.21 kB\u001b[22m \u001b[2m│ gzip: 3.01 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mutils/client.js.map                       \u001b[2m12.30 kB\u001b[22m \u001b[2m│ gzip: 3.67 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/transfer.js.map          \u001b[2m10.64 kB\u001b[22m \u001b[2m│ gzip: 3.03 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mutils/options.js.map                      \u001b[2m 8.98 kB\u001b[22m \u001b[2m│ gzip: 2.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mutils/client.js                           \u001b[2m 5.82 kB\u001b[22m \u001b[2m│ gzip: 1.85 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/transfer.js              \u001b[2m 5.60 kB\u001b[22m \u001b[2m│ gzip: 1.76 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/upload.js.map              \u001b[2m 5.23 kB\u001b[22m \u001b[2m│ gzip: 1.55 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mutils/options.js                          \u001b[2m 4.88 kB\u001b[22m \u001b[2m│ gzip: 1.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mkeys.js.map                               \u001b[2m 4.63 kB\u001b[22m \u001b[2m│ gzip: 1.49 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/create.js.map            \u001b[2m 4.25 kB\u001b[22m \u001b[2m│ gzip: 1.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/download.js.map            \u001b[2m 3.66 kB\u001b[22m \u001b[2m│ gzip: 1.40 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-urls.js.map        \u001b[2m 3.32 kB\u001b[22m \u001b[2m│ gzip: 1.29 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-complete.js.map    \u001b[2m 3.29 kB\u001b[22m \u001b[2m│ gzip: 1.23 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/update.js.map              \u001b[2m 3.05 kB\u001b[22m \u001b[2m│ gzip: 1.08 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/complete.js.map          \u001b[2m 2.92 kB\u001b[22m \u001b[2m│ gzip: 1.15 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/upload.js                  \u001b[2m 2.88 kB\u001b[22m \u001b[2m│ gzip: 1.00 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/create.js                \u001b[2m 2.39 kB\u001b[22m \u001b[2m│ gzip: 0.87 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/list.js.map                \u001b[2m 2.27 kB\u001b[22m \u001b[2m│ gzip: 0.82 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/content.js.map           \u001b[2m 2.23 kB\u001b[22m \u001b[2m│ gzip: 0.90 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/download.js                \u001b[2m 1.98 kB\u001b[22m \u001b[2m│ gzip: 0.86 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/progress.js.map          \u001b[2m 1.97 kB\u001b[22m \u001b[2m│ gzip: 0.80 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-urls.js            \u001b[2m 1.86 kB\u001b[22m \u001b[2m│ gzip: 0.79 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-complete.js        \u001b[2m 1.84 kB\u001b[22m \u001b[2m│ gzip: 0.76 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/update.js                  \u001b[2m 1.67 kB\u001b[22m \u001b[2m│ gzip: 0.68 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/complete.js              \u001b[2m 1.57 kB\u001b[22m \u001b[2m│ gzip: 0.70 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/download-url.js.map        \u001b[2m 1.40 kB\u001b[22m \u001b[2m│ gzip: 0.67 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/delete.js.map              \u001b[2m 1.36 kB\u001b[22m \u001b[2m│ gzip: 0.65 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/get.js.map                 \u001b[2m 1.35 kB\u001b[22m \u001b[2m│ gzip: 0.65 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mkeys.js                                   \u001b[2m 1.34 kB\u001b[22m \u001b[2m│ gzip: 0.56 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/content.js               \u001b[2m 1.32 kB\u001b[22m \u001b[2m│ gzip: 0.60 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/list.js                    \u001b[2m 1.30 kB\u001b[22m \u001b[2m│ gzip: 0.56 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-list.js.map        \u001b[2m 1.18 kB\u001b[22m \u001b[2m│ gzip: 0.62 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/progress.js              \u001b[2m 1.17 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/abort.js.map             \u001b[2m 1.16 kB\u001b[22m \u001b[2m│ gzip: 0.61 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/get.js.map               \u001b[2m 1.15 kB\u001b[22m \u001b[2m│ gzip: 0.61 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/download-url.js            \u001b[2m 0.86 kB\u001b[22m \u001b[2m│ gzip: 0.45 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/delete.js                  \u001b[2m 0.82 kB\u001b[22m \u001b[2m│ gzip: 0.43 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/get.js                     \u001b[2m 0.81 kB\u001b[22m \u001b[2m│ gzip: 0.44 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-list.js            \u001b[2m 0.71 kB\u001b[22m \u001b[2m│ gzip: 0.41 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/abort.js                 \u001b[2m 0.69 kB\u001b[22m \u001b[2m│ gzip: 0.40 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/get.js                   \u001b[2m 0.68 kB\u001b[22m \u001b[2m│ gzip: 0.41 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mindex.d.ts.map                            \u001b[2m 0.23 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-complete.d.ts.map  \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/download-url.d.ts.map      \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-urls.d.ts.map      \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/parts-list.d.ts.map      \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/complete.d.ts.map        \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/progress.d.ts.map        \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/transfer.d.ts.map        \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/download.d.ts.map          \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/content.d.ts.map         \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/create.d.ts.map          \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/delete.d.ts.map            \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/update.d.ts.map            \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/upload.d.ts.map            \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/abort.d.ts.map           \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/list.d.ts.map              \u001b[2m 0.18 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/uploads/get.d.ts.map             \u001b[2m 0.18 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22mcommands/files/get.d.ts.map               \u001b[2m 0.18 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m                                \u001b[2m 1.87 kB\u001b[22m \u001b[2m│ gzip: 0.45 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/transfer.d.ts\u001b[39m            \u001b[2m 1.76 kB\u001b[22m \u001b[2m│ gzip: 0.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/files/upload.d.ts\u001b[39m                \u001b[2m 1.75 kB\u001b[22m \u001b[2m│ gzip: 0.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/create.d.ts\u001b[39m              \u001b[2m 1.74 kB\u001b[22m \u001b[2m│ gzip: 0.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/files/update.d.ts\u001b[39m                \u001b[2m 1.47 kB\u001b[22m \u001b[2m│ gzip: 0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/files/list.d.ts\u001b[39m                  \u001b[2m 1.46 kB\u001b[22m \u001b[2m│ gzip: 0.54 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/files/download.d.ts\u001b[39m              \u001b[2m 1.37 kB\u001b[22m \u001b[2m│ gzip: 0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/parts-urls.d.ts\u001b[39m          \u001b[2m 1.33 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/content.d.ts\u001b[39m             \u001b[2m 1.33 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/progress.d.ts\u001b[39m            \u001b[2m 1.33 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/parts-complete.d.ts\u001b[39m      \u001b[2m 1.27 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/files/download-url.d.ts\u001b[39m          \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/complete.d.ts\u001b[39m            \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/files/delete.d.ts\u001b[39m                \u001b[2m 1.22 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/files/get.d.ts\u001b[39m                   \u001b[2m 1.20 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/parts-list.d.ts\u001b[39m          \u001b[2m 1.19 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/abort.d.ts\u001b[39m               \u001b[2m 1.17 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/cli/\u001b[22m\u001b[32mcommands/uploads/get.d.ts\u001b[39m                 \u001b[2m 1.16 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m 78 files, total: 168.53 kB\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m17239ms\u001b[39m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m ✓ src/index.test.ts (14 tests) 5903ms\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1msvelte.js\u001b[22m                                                                                                                     \u001b[2m 0.36 kB\u001b[22m \u001b[2m│ gzip: 0.21 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1mvanilla.js\u001b[22m                                                                                                                    \u001b[2m 0.36 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1mreact.js\u001b[22m                                                                                                                      \u001b[2m 0.35 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1msolid.js\u001b[22m                                                                                                                      \u001b[2m 0.35 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[1mvue.js\u001b[22m                                                                                                                        \u001b[2m 0.35 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.js.map                                                                                     \u001b[2m33.91 kB\u001b[22m \u001b[2m│ gzip: 8.87 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/uploads.js.map                                                                            \u001b[2m27.33 kB\u001b[22m \u001b[2m│ gzip: 4.77 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_query@0.3.4_nanostores@1.1.0/node_modules/@nanostores/query/dist/nanoquery.js.map              \u001b[2m24.91 kB\u001b[22m \u001b[2m│ gzip: 7.64 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/files.js.map                                                                              \u001b[2m22.23 kB\u001b[22m \u001b[2m│ gzip: 4.33 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mhelpers.js.map                                                                                                                \u001b[2m21.01 kB\u001b[22m \u001b[2m│ gzip: 6.01 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.js                                                                                         \u001b[2m18.67 kB\u001b[22m \u001b[2m│ gzip: 4.71 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_query@0.3.4_nanostores@1.1.0/node_modules/@nanostores/query/dist/nanoquery.js                  \u001b[2m12.20 kB\u001b[22m \u001b[2m│ gzip: 3.47 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/ndjson-streaming.js.map                                                                  \u001b[2m 9.00 kB\u001b[22m \u001b[2m│ gzip: 2.60 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mhelpers.js                                                                                                                    \u001b[2m 8.58 kB\u001b[22m \u001b[2m│ gzip: 2.38 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-input-context.js.map                                                                         \u001b[2m 8.29 kB\u001b[22m \u001b[2m│ gzip: 2.47 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/lifecycle/index.js.map                                            \u001b[2m 7.15 kB\u001b[22m \u001b[2m│ gzip: 2.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vue.js.map                                                                                        \u001b[2m 6.73 kB\u001b[22m \u001b[2m│ gzip: 2.14 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.svelte.js.map                                                                              \u001b[2m 6.68 kB\u001b[22m \u001b[2m│ gzip: 1.95 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-output-context.js.map                                                                        \u001b[2m 6.48 kB\u001b[22m \u001b[2m│ gzip: 1.94 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/solid.js.map                                                                                      \u001b[2m 5.84 kB\u001b[22m \u001b[2m│ gzip: 1.81 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/definition.js.map                                                                                \u001b[2m 5.53 kB\u001b[22m \u001b[2m│ gzip: 1.81 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client-error.js.map                                                                               \u001b[2m 5.39 kB\u001b[22m \u001b[2m│ gzip: 1.59 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-input-context.js                                                                             \u001b[2m 5.36 kB\u001b[22m \u001b[2m│ gzip: 1.59 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/keys.js.map                                                                                      \u001b[2m 5.22 kB\u001b[22m \u001b[2m│ gzip: 1.70 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/schema.js.map                                                                                    \u001b[2m 4.97 kB\u001b[22m \u001b[2m│ gzip: 0.85 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/ndjson-streaming.js                                                                      \u001b[2m 4.97 kB\u001b[22m \u001b[2m│ gzip: 1.47 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/uploads.js                                                                                \u001b[2m 4.96 kB\u001b[22m \u001b[2m│ gzip: 1.28 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/react.js.map                                                                                      \u001b[2m 4.88 kB\u001b[22m \u001b[2m│ gzip: 1.75 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vanilla.js.map                                                                                    \u001b[2m 4.46 kB\u001b[22m \u001b[2m│ gzip: 1.33 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/shared.js.map                                                                             \u001b[2m 4.17 kB\u001b[22m \u001b[2m│ gzip: 1.38 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mclients.js.map                                                                                                                \u001b[2m 4.11 kB\u001b[22m \u001b[2m│ gzip: 1.15 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/atom/index.js.map                                                 \u001b[2m 4.00 kB\u001b[22m \u001b[2m│ gzip: 1.55 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/path.js.map                                                                                 \u001b[2m 3.96 kB\u001b[22m \u001b[2m│ gzip: 1.31 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/response-stream.js.map                                                                      \u001b[2m 3.60 kB\u001b[22m \u001b[2m│ gzip: 1.38 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/request-output-context.js                                                                            \u001b[2m 3.38 kB\u001b[22m \u001b[2m│ gzip: 1.03 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vue.js                                                                                            \u001b[2m 3.35 kB\u001b[22m \u001b[2m│ gzip: 1.09 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client.svelte.js                                                                                  \u001b[2m 3.27 kB\u001b[22m \u001b[2m│ gzip: 0.96 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/client-error.js                                                                                   \u001b[2m 3.19 kB\u001b[22m \u001b[2m│ gzip: 0.92 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/solid.js                                                                                          \u001b[2m 3.10 kB\u001b[22m \u001b[2m│ gzip: 0.98 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/content-type.js.map                                                                                 \u001b[2m 3.00 kB\u001b[22m \u001b[2m│ gzip: 1.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/computed/index.js.map                                             \u001b[2m 2.97 kB\u001b[22m \u001b[2m│ gzip: 1.24 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/lifecycle/index.js                                                \u001b[2m 2.74 kB\u001b[22m \u001b[2m│ gzip: 0.86 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/react.js                                                                                          \u001b[2m 2.33 kB\u001b[22m \u001b[2m│ gzip: 0.87 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/fetcher-merge.js.map                                                                     \u001b[2m 2.33 kB\u001b[22m \u001b[2m│ gzip: 0.97 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/nanostores.js.map                                                                                   \u001b[2m 2.30 kB\u001b[22m \u001b[2m│ gzip: 0.84 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/files.js                                                                                  \u001b[2m 2.30 kB\u001b[22m \u001b[2m│ gzip: 0.81 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/path.js                                                                                     \u001b[2m 2.24 kB\u001b[22m \u001b[2m│ gzip: 0.79 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/vanilla.js                                                                                        \u001b[2m 2.16 kB\u001b[22m \u001b[2m│ gzip: 0.66 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/ssr.js.map                                                                                          \u001b[2m 2.16 kB\u001b[22m \u001b[2m│ gzip: 0.91 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mclients.js                                                                                                                    \u001b[2m 2.12 kB\u001b[22m \u001b[2m│ gzip: 0.60 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/definition.js                                                                                    \u001b[2m 2.12 kB\u001b[22m \u001b[2m│ gzip: 0.83 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/async.js.map                                                                                        \u001b[2m 2.07 kB\u001b[22m \u001b[2m│ gzip: 0.96 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/error.js.map                                                                                         \u001b[2m 1.96 kB\u001b[22m \u001b[2m│ gzip: 0.72 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/atom/index.js                                                     \u001b[2m 1.78 kB\u001b[22m \u001b[2m│ gzip: 0.70 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/response-stream.js                                                                          \u001b[2m 1.77 kB\u001b[22m \u001b[2m│ gzip: 0.74 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/content-type.js                                                                                     \u001b[2m 1.62 kB\u001b[22m \u001b[2m│ gzip: 0.69 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/computed/index.js                                                 \u001b[2m 1.47 kB\u001b[22m \u001b[2m│ gzip: 0.63 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/task/index.js.map                                                 \u001b[2m 1.28 kB\u001b[22m \u001b[2m│ gzip: 0.60 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/nanostores.js                                                                                       \u001b[2m 1.26 kB\u001b[22m \u001b[2m│ gzip: 0.48 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/client/internal/fetcher-merge.js                                                                         \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.55 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/map/index.js.map                                                  \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.62 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/route.js.map                                                                                         \u001b[2m 1.24 kB\u001b[22m \u001b[2m│ gzip: 0.58 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/keys.js                                                                                          \u001b[2m 1.21 kB\u001b[22m \u001b[2m│ gzip: 0.54 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/async.js                                                                                            \u001b[2m 1.20 kB\u001b[22m \u001b[2m│ gzip: 0.58 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/shared.js                                                                                 \u001b[2m 1.17 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanoevents@9.1.0/node_modules/nanoevents/index.js.map                                                      \u001b[2m 1.10 kB\u001b[22m \u001b[2m│ gzip: 0.56 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/listen-keys/index.js.map                                          \u001b[2m 0.97 kB\u001b[22m \u001b[2m│ gzip: 0.48 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/error.js                                                                                             \u001b[2m 0.96 kB\u001b[22m \u001b[2m│ gzip: 0.38 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_solid@1.1.1_nanostores@1.1.0_solid-js@1.9.10/node_modules/@nanostores/solid/dist/index.js.map  \u001b[2m 0.93 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mhelpers.d.ts.map                                                                                                              \u001b[2m 0.87 kB\u001b[22m \u001b[2m│ gzip: 0.42 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/clean-stores/index.js.map                                         \u001b[2m 0.82 kB\u001b[22m \u001b[2m│ gzip: 0.44 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/map/index.js                                                      \u001b[2m 0.67 kB\u001b[22m \u001b[2m│ gzip: 0.37 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/route.js.map                                                                                \u001b[2m 0.65 kB\u001b[22m \u001b[2m│ gzip: 0.37 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvanilla.js.map                                                                                                                \u001b[2m 0.65 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msvelte.js.map                                                                                                                 \u001b[2m 0.64 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mreact.js.map                                                                                                                  \u001b[2m 0.64 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msolid.js.map                                                                                                                  \u001b[2m 0.64 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvue.js.map                                                                                                                    \u001b[2m 0.64 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanoevents@9.1.0/node_modules/nanoevents/index.js                                                          \u001b[2m 0.51 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/task/index.js                                                     \u001b[2m 0.51 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/@nanostores_solid@1.1.1_nanostores@1.1.0_solid-js@1.9.10/node_modules/@nanostores/solid/dist/index.js      \u001b[2m 0.50 kB\u001b[22m \u001b[2m│ gzip: 0.32 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/index.js.map                                                                              \u001b[2m 0.47 kB\u001b[22m \u001b[2m│ gzip: 0.24 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/route.js                                                                                             \u001b[2m 0.46 kB\u001b[22m \u001b[2m│ gzip: 0.27 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/util/ssr.js                                                                                              \u001b[2m 0.41 kB\u001b[22m \u001b[2m│ gzip: 0.25 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/listen-keys/index.js                                              \u001b[2m 0.38 kB\u001b[22m \u001b[2m│ gzip: 0.25 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/types.d.ts.map                                                                                   \u001b[2m 0.38 kB\u001b[22m \u001b[2m│ gzip: 0.22 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragno/dist/api/internal/route.js                                                                                    \u001b[2m 0.30 kB\u001b[22m \u001b[2m│ gzip: 0.21 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvanilla.d.ts.map                                                                                                              \u001b[2m 0.27 kB\u001b[22m \u001b[2m│ gzip: 0.19 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/routes/index.js                                                                                  \u001b[2m 0.27 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msvelte.d.ts.map                                                                                                               \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mreact.d.ts.map                                                                                                                \u001b[2m 0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22msolid.d.ts.map                                                                                                                \u001b[2m 0.25 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mvue.d.ts.map                                                                                                                  \u001b[2m 0.25 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/schema.js                                                                                        \u001b[2m 0.20 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mnode_modules/.pnpm/nanostores@1.1.0/node_modules/nanostores/clean-stores/index.js                                             \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/keys.d.ts.map                                                                                    \u001b[2m 0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22mpackages/fragment-upload/src/storage/types.d.ts.map                                                                           \u001b[2m 0.14 kB\u001b[22m \u001b[2m│ gzip: 0.13 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1mvanilla.d.ts\u001b[22m\u001b[39m                                                                                                                  \u001b[2m14.70 kB\u001b[22m \u001b[2m│ gzip: 1.68 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1msolid.d.ts\u001b[22m\u001b[39m                                                                                                                    \u001b[2m14.68 kB\u001b[22m \u001b[2m│ gzip: 1.80 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1mreact.d.ts\u001b[22m\u001b[39m                                                                                                                    \u001b[2m14.27 kB\u001b[22m \u001b[2m│ gzip: 1.65 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1msvelte.d.ts\u001b[22m\u001b[39m                                                                                                                   \u001b[2m14.25 kB\u001b[22m \u001b[2m│ gzip: 1.65 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32m\u001b[1mvue.d.ts\u001b[22m\u001b[39m                                                                                                                      \u001b[2m13.62 kB\u001b[22m \u001b[2m│ gzip: 1.63 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32mhelpers.d.ts\u001b[39m                                                                                                                  \u001b[2m 1.61 kB\u001b[22m \u001b[2m│ gzip: 0.65 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32mpackages/fragment-upload/src/types.d.ts\u001b[39m                                                                                       \u001b[2m 0.89 kB\u001b[22m \u001b[2m│ gzip: 0.42 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32mpackages/fragment-upload/src/keys.d.ts\u001b[39m                                                                                        \u001b[2m 0.22 kB\u001b[22m \u001b[2m│ gzip: 0.15 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/browser/client/\u001b[22m\u001b[32mpackages/fragment-upload/src/storage/types.d.ts\u001b[39m                                                                               \u001b[2m 0.18 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m 106 files, total: 442.71 kB\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m17474ms\u001b[39m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/node/cli/index.d.ts\u001b[24m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m Granting execute permission to \u001b[4mdist/node/cli/index.js\u001b[24m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mcli/index.js\u001b[22m                                  \u001b[2m  9.19 kB\u001b[22m \u001b[2m│ gzip: 1.98 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mindex.js\u001b[22m                                      \u001b[2m  1.13 kB\u001b[22m \u001b[2m│ gzip: 0.39 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/vanilla.js\u001b[22m                             \u001b[2m  0.34 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/svelte.js\u001b[22m                              \u001b[2m  0.34 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/react.js\u001b[22m                               \u001b[2m  0.34 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/solid.js\u001b[22m                               \u001b[2m  0.34 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[1mclient/vue.js\u001b[22m                                 \u001b[2m  0.33 kB\u001b[22m \u001b[2m│ gzip: 0.20 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/uploads.js.map                       \u001b[2m 33.21 kB\u001b[22m \u001b[2m│ gzip: 6.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/uploads.js.map                         \u001b[2m 32.50 kB\u001b[22m \u001b[2m│ gzip: 5.48 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/s3.js.map                             \u001b[2m 30.93 kB\u001b[22m \u001b[2m│ gzip: 7.29 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/files.js.map                           \u001b[2m 29.35 kB\u001b[22m \u001b[2m│ gzip: 5.83 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/helpers.js.map                         \u001b[2m 18.78 kB\u001b[22m \u001b[2m│ gzip: 4.96 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/uploads.js                             \u001b[2m 16.34 kB\u001b[22m \u001b[2m│ gzip: 2.98 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/s3.js                                 \u001b[2m 16.10 kB\u001b[22m \u001b[2m│ gzip: 3.96 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/uploads.js                           \u001b[2m 15.54 kB\u001b[22m \u001b[2m│ gzip: 3.02 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/files.js                               \u001b[2m 15.14 kB\u001b[22m \u001b[2m│ gzip: 3.22 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/index.js.map                              \u001b[2m 14.22 kB\u001b[22m \u001b[2m│ gzip: 3.01 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/utils/client.js.map                       \u001b[2m 12.30 kB\u001b[22m \u001b[2m│ gzip: 3.67 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/transfer.js.map          \u001b[2m 10.64 kB\u001b[22m \u001b[2m│ gzip: 3.03 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/files.js.map                         \u001b[2m 10.29 kB\u001b[22m \u001b[2m│ gzip: 2.19 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/utils/options.js.map                      \u001b[2m  8.99 kB\u001b[22m \u001b[2m│ gzip: 2.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/helpers.js                             \u001b[2m  8.55 kB\u001b[22m \u001b[2m│ gzip: 2.36 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mschema.js.map                                 \u001b[2m  7.58 kB\u001b[22m \u001b[2m│ gzip: 1.31 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/fs.js.map                             \u001b[2m  7.31 kB\u001b[22m \u001b[2m│ gzip: 2.44 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/utils/client.js                           \u001b[2m  5.82 kB\u001b[22m \u001b[2m│ gzip: 1.85 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mkeys.js.map                                   \u001b[2m  5.76 kB\u001b[22m \u001b[2m│ gzip: 1.77 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/transfer.js              \u001b[2m  5.60 kB\u001b[22m \u001b[2m│ gzip: 1.75 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/upload.js.map              \u001b[2m  5.24 kB\u001b[22m \u001b[2m│ gzip: 1.55 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/utils/options.js                          \u001b[2m  4.88 kB\u001b[22m \u001b[2m│ gzip: 1.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mdefinition.js.map                             \u001b[2m  4.85 kB\u001b[22m \u001b[2m│ gzip: 1.56 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/files.js                             \u001b[2m  4.30 kB\u001b[22m \u001b[2m│ gzip: 1.02 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/create.js.map            \u001b[2m  4.25 kB\u001b[22m \u001b[2m│ gzip: 1.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/fs.js                                 \u001b[2m  3.91 kB\u001b[22m \u001b[2m│ gzip: 1.40 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/shared.js.map                          \u001b[2m  3.89 kB\u001b[22m \u001b[2m│ gzip: 1.26 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mschema.js                                     \u001b[2m  3.72 kB\u001b[22m \u001b[2m│ gzip: 0.75 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/download.js.map            \u001b[2m  3.66 kB\u001b[22m \u001b[2m│ gzip: 1.41 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mconfig.js.map                                 \u001b[2m  3.66 kB\u001b[22m \u001b[2m│ gzip: 1.08 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/clients.js.map                         \u001b[2m  3.54 kB\u001b[22m \u001b[2m│ gzip: 0.98 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-urls.js.map        \u001b[2m  3.33 kB\u001b[22m \u001b[2m│ gzip: 1.29 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-complete.js.map    \u001b[2m  3.29 kB\u001b[22m \u001b[2m│ gzip: 1.23 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/update.js.map              \u001b[2m  3.06 kB\u001b[22m \u001b[2m│ gzip: 1.08 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/complete.js.map          \u001b[2m  2.93 kB\u001b[22m \u001b[2m│ gzip: 1.15 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/upload.js                  \u001b[2m  2.88 kB\u001b[22m \u001b[2m│ gzip: 1.00 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mkeys.js                                       \u001b[2m  2.78 kB\u001b[22m \u001b[2m│ gzip: 0.96 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mdefinition.js                                 \u001b[2m  2.60 kB\u001b[22m \u001b[2m│ gzip: 0.94 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/create.js                \u001b[2m  2.39 kB\u001b[22m \u001b[2m│ gzip: 0.87 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/list.js.map                \u001b[2m  2.27 kB\u001b[22m \u001b[2m│ gzip: 0.82 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/content.js.map           \u001b[2m  2.23 kB\u001b[22m \u001b[2m│ gzip: 0.90 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.js.map                                  \u001b[2m  2.06 kB\u001b[22m \u001b[2m│ gzip: 0.70 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/clients.js                             \u001b[2m  2.05 kB\u001b[22m \u001b[2m│ gzip: 0.59 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/index.d.ts.map                         \u001b[2m  2.04 kB\u001b[22m \u001b[2m│ gzip: 0.31 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/download.js                \u001b[2m  1.98 kB\u001b[22m \u001b[2m│ gzip: 0.85 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/shared.js                              \u001b[2m  1.98 kB\u001b[22m \u001b[2m│ gzip: 0.73 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/progress.js.map          \u001b[2m  1.97 kB\u001b[22m \u001b[2m│ gzip: 0.80 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-urls.js            \u001b[2m  1.86 kB\u001b[22m \u001b[2m│ gzip: 0.79 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-complete.js        \u001b[2m  1.84 kB\u001b[22m \u001b[2m│ gzip: 0.76 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/helpers.js.map                       \u001b[2m  1.73 kB\u001b[22m \u001b[2m│ gzip: 0.68 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/update.js                  \u001b[2m  1.67 kB\u001b[22m \u001b[2m│ gzip: 0.68 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/complete.js              \u001b[2m  1.57 kB\u001b[22m \u001b[2m│ gzip: 0.70 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mconfig.js                                     \u001b[2m  1.51 kB\u001b[22m \u001b[2m│ gzip: 0.46 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mindex.d.ts.map                                \u001b[2m  1.42 kB\u001b[22m \u001b[2m│ gzip: 0.28 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/download-url.js.map        \u001b[2m  1.40 kB\u001b[22m \u001b[2m│ gzip: 0.67 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mdefinition.d.ts.map                           \u001b[2m  1.37 kB\u001b[22m \u001b[2m│ gzip: 0.29 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/delete.js.map              \u001b[2m  1.36 kB\u001b[22m \u001b[2m│ gzip: 0.65 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/get.js.map                 \u001b[2m  1.35 kB\u001b[22m \u001b[2m│ gzip: 0.65 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/content.js               \u001b[2m  1.32 kB\u001b[22m \u001b[2m│ gzip: 0.59 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/list.js                    \u001b[2m  1.30 kB\u001b[22m \u001b[2m│ gzip: 0.56 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-list.js.map        \u001b[2m  1.19 kB\u001b[22m \u001b[2m│ gzip: 0.62 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/progress.js              \u001b[2m  1.17 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/abort.js.map             \u001b[2m  1.17 kB\u001b[22m \u001b[2m│ gzip: 0.61 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/get.js.map               \u001b[2m  1.16 kB\u001b[22m \u001b[2m│ gzip: 0.61 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/types.d.ts.map                        \u001b[2m  1.02 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mconfig.d.ts.map                               \u001b[2m  1.00 kB\u001b[22m \u001b[2m│ gzip: 0.43 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/r2.js.map                             \u001b[2m  1.00 kB\u001b[22m \u001b[2m│ gzip: 0.49 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/helpers.js                           \u001b[2m  0.87 kB\u001b[22m \u001b[2m│ gzip: 0.38 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/helpers.d.ts.map                       \u001b[2m  0.87 kB\u001b[22m \u001b[2m│ gzip: 0.42 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/download-url.js            \u001b[2m  0.86 kB\u001b[22m \u001b[2m│ gzip: 0.45 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/delete.js                  \u001b[2m  0.82 kB\u001b[22m \u001b[2m│ gzip: 0.43 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/get.js                     \u001b[2m  0.81 kB\u001b[22m \u001b[2m│ gzip: 0.44 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-list.js            \u001b[2m  0.71 kB\u001b[22m \u001b[2m│ gzip: 0.41 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/s3.d.ts.map                           \u001b[2m  0.70 kB\u001b[22m \u001b[2m│ gzip: 0.34 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/abort.js                 \u001b[2m  0.69 kB\u001b[22m \u001b[2m│ gzip: 0.40 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/get.js                   \u001b[2m  0.68 kB\u001b[22m \u001b[2m│ gzip: 0.41 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/uploads.d.ts.map                     \u001b[2m  0.57 kB\u001b[22m \u001b[2m│ gzip: 0.31 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/r2.d.ts.map                           \u001b[2m  0.56 kB\u001b[22m \u001b[2m│ gzip: 0.27 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vanilla.js.map                         \u001b[2m  0.54 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/svelte.js.map                          \u001b[2m  0.53 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/react.js.map                           \u001b[2m  0.53 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/solid.js.map                           \u001b[2m  0.53 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/r2.js                                 \u001b[2m  0.53 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vue.js.map                             \u001b[2m  0.52 kB\u001b[22m \u001b[2m│ gzip: 0.30 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mtypes.d.ts.map                                \u001b[2m  0.46 kB\u001b[22m \u001b[2m│ gzip: 0.25 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/index.js.map                           \u001b[2m  0.39 kB\u001b[22m \u001b[2m│ gzip: 0.23 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mkeys.d.ts.map                                 \u001b[2m  0.35 kB\u001b[22m \u001b[2m│ gzip: 0.24 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mstorage/fs.d.ts.map                           \u001b[2m  0.29 kB\u001b[22m \u001b[2m│ gzip: 0.19 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vanilla.d.ts.map                       \u001b[2m  0.27 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mroutes/index.js                               \u001b[2m  0.27 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/clients.d.ts.map                       \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/svelte.d.ts.map                        \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/react.d.ts.map                         \u001b[2m  0.26 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/solid.d.ts.map                         \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mclient/vue.d.ts.map                           \u001b[2m  0.25 kB\u001b[22m \u001b[2m│ gzip: 0.18 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/index.d.ts.map                            \u001b[2m  0.23 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-complete.d.ts.map  \u001b[2m  0.21 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/files.d.ts.map                       \u001b[2m  0.21 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/download-url.d.ts.map      \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-urls.d.ts.map      \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/parts-list.d.ts.map      \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip: 0.17 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/complete.d.ts.map        \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/progress.d.ts.map        \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/transfer.d.ts.map        \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/download.d.ts.map          \u001b[2m  0.20 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/content.d.ts.map         \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/create.d.ts.map          \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/delete.d.ts.map            \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/update.d.ts.map            \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/upload.d.ts.map            \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/abort.d.ts.map           \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/list.d.ts.map              \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/uploads/get.d.ts.map             \u001b[2m  0.19 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mcli/commands/files/get.d.ts.map               \u001b[2m  0.18 kB\u001b[22m \u001b[2m│ gzip: 0.16 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mschema.d.ts.map                               \u001b[2m  0.17 kB\u001b[22m \u001b[2m│ gzip: 0.15 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22mservices/index.js                             \u001b[2m  0.12 kB\u001b[22m \u001b[2m│ gzip: 0.09 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mindex.d.ts\u001b[22m\u001b[39m                                    \u001b[2m 64.28 kB\u001b[22m \u001b[2m│ gzip: 4.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/solid.d.ts\u001b[22m\u001b[39m                             \u001b[2m 14.62 kB\u001b[22m \u001b[2m│ gzip: 1.78 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/vue.d.ts\u001b[22m\u001b[39m                               \u001b[2m 14.53 kB\u001b[22m \u001b[2m│ gzip: 1.66 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/vanilla.d.ts\u001b[22m\u001b[39m                           \u001b[2m 14.40 kB\u001b[22m \u001b[2m│ gzip: 1.67 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/svelte.d.ts\u001b[22m\u001b[39m                            \u001b[2m 14.25 kB\u001b[22m \u001b[2m│ gzip: 1.64 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mclient/react.d.ts\u001b[22m\u001b[39m                             \u001b[2m 13.66 kB\u001b[22m \u001b[2m│ gzip: 1.63 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32m\u001b[1mcli/index.d.ts\u001b[22m\u001b[39m                                \u001b[2m  1.87 kB\u001b[22m \u001b[2m│ gzip: 0.45 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mroutes/index.d.ts\u001b[39m                             \u001b[2m102.21 kB\u001b[22m \u001b[2m│ gzip: 6.14 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mdefinition.d.ts\u001b[39m                               \u001b[2m 41.19 kB\u001b[22m \u001b[2m│ gzip: 2.58 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mclient/clients.d.ts\u001b[39m                           \u001b[2m 14.65 kB\u001b[22m \u001b[2m│ gzip: 1.66 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mschema.d.ts\u001b[39m                                   \u001b[2m 12.57 kB\u001b[22m \u001b[2m│ gzip: 0.96 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mstorage/types.d.ts\u001b[39m                            \u001b[2m  3.21 kB\u001b[22m \u001b[2m│ gzip: 0.90 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mstorage/r2.d.ts\u001b[39m                               \u001b[2m  2.89 kB\u001b[22m \u001b[2m│ gzip: 0.82 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/transfer.d.ts\u001b[39m            \u001b[2m  1.76 kB\u001b[22m \u001b[2m│ gzip: 0.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/files/upload.d.ts\u001b[39m                \u001b[2m  1.75 kB\u001b[22m \u001b[2m│ gzip: 0.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/create.d.ts\u001b[39m              \u001b[2m  1.74 kB\u001b[22m \u001b[2m│ gzip: 0.57 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mclient/helpers.d.ts\u001b[39m                           \u001b[2m  1.54 kB\u001b[22m \u001b[2m│ gzip: 0.63 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mconfig.d.ts\u001b[39m                                   \u001b[2m  1.51 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/files/update.d.ts\u001b[39m                \u001b[2m  1.47 kB\u001b[22m \u001b[2m│ gzip: 0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/files/list.d.ts\u001b[39m                  \u001b[2m  1.46 kB\u001b[22m \u001b[2m│ gzip: 0.54 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mservices/uploads.d.ts\u001b[39m                         \u001b[2m  1.39 kB\u001b[22m \u001b[2m│ gzip: 0.58 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/files/download.d.ts\u001b[39m              \u001b[2m  1.37 kB\u001b[22m \u001b[2m│ gzip: 0.53 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mstorage/s3.d.ts\u001b[39m                               \u001b[2m  1.34 kB\u001b[22m \u001b[2m│ gzip: 0.48 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/parts-urls.d.ts\u001b[39m          \u001b[2m  1.33 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/content.d.ts\u001b[39m             \u001b[2m  1.33 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/progress.d.ts\u001b[39m            \u001b[2m  1.33 kB\u001b[22m \u001b[2m│ gzip: 0.52 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/parts-complete.d.ts\u001b[39m      \u001b[2m  1.27 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/files/download-url.d.ts\u001b[39m          \u001b[2m  1.24 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/complete.d.ts\u001b[39m            \u001b[2m  1.24 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/files/delete.d.ts\u001b[39m                \u001b[2m  1.22 kB\u001b[22m \u001b[2m│ gzip: 0.51 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/files/get.d.ts\u001b[39m                   \u001b[2m  1.20 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/parts-list.d.ts\u001b[39m          \u001b[2m  1.19 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/abort.d.ts\u001b[39m               \u001b[2m  1.17 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mcli/commands/uploads/get.d.ts\u001b[39m                 \u001b[2m  1.16 kB\u001b[22m \u001b[2m│ gzip: 0.50 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mtypes.d.ts\u001b[39m                                    \u001b[2m  1.01 kB\u001b[22m \u001b[2m│ gzip: 0.46 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mstorage/fs.d.ts\u001b[39m                               \u001b[2m  0.53 kB\u001b[22m \u001b[2m│ gzip: 0.27 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mkeys.d.ts\u001b[39m                                     \u001b[2m  0.53 kB\u001b[22m \u001b[2m│ gzip: 0.22 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m \u001b[2mdist/node/\u001b[22m\u001b[32mservices/files.d.ts\u001b[39m                           \u001b[2m  0.50 kB\u001b[22m \u001b[2m│ gzip: 0.29 kB\u001b[22m\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[34mℹ\u001b[39m 161 files, total: 794.66 kB\r\n\u001b[36m@fragno-dev/upload:build: \u001b[0m\u001b[32m✔\u001b[39m Build complete in \u001b[32m17586ms\u001b[39m\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0mcache miss, executing \u001b[2m2dd8d7901741c411\u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m ✓ src/test-harness.test.ts (2 tests) 5930ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ createWorkflowsTestHarness > drives workflows with a controllable clock  4269ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ createWorkflowsTestHarness > schedules retries relative to failure time  1659ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m> @fragno-dev/upload@0.1.1 test /home/jan/rejot/fragno/packages/fragment-upload\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m ✓ src/utils/client.test.ts (3 tests) 244ms\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m Test Files  1 passed (1)\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m      Tests  3 passed (3)\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m   Start at  11:59:26\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m   Duration  8.28s (transform 1.98s, setup 0ms, collect 7.42s, tests 244ms, environment 0ms, prepare 189ms)\r\n\u001b[32m@fragno-dev/fragno-wf:test: \u001b[0m\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/packages/fragment-upload\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m      Coverage enabled with istanbul\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m ✓ src/index.test.ts (6 tests) 371ms\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m Test Files  1 passed (1)\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m      Tests  6 passed (6)\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m   Start at  11:59:28\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m   Duration  7.13s (transform 1.66s, setup 0ms, collect 5.85s, tests 371ms, environment 0ms, prepare 128ms)\r\n\u001b[35m@fragno-dev/fragment-mailing-list:test: \u001b[0m\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/keys.test.ts (5 tests) 10ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/config.test.ts (4 tests) 4ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m ✓ src/runner.test.ts (26 tests) 7959ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ Workflows Runner > tick should error when waitForEvent times out  326ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   ✓ Workflows Runner > tick should renew task lease while executing  360ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/client/helpers.test.ts (5 tests) 26ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/storage/__tests__/adapter-contract.test.ts (5 tests) 48ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/storage/__tests__/s3.test.ts (8 tests) 34ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/storage/__tests__/r2.test.ts (2 tests) 18ms\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m Test Files  7 passed (7)\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m      Tests  61 passed (61)\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   Start at  11:59:22\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m   Duration  15.44s (transform 4.78s, setup 0ms, collect 30.96s, tests 27.06s, environment 2ms, prepare 1.67s)\r\n\u001b[34m@fragno-dev/workflows:test: \u001b[0m\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m ✓ src/index.test.ts (16 tests) 405ms\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m ✓ src/user/user-overview.test.ts (22 tests) 2116ms\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m Test Files  2 passed (2)\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m      Tests  38 passed (38)\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m   Start at  11:59:32\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m   Duration  5.68s (transform 1.20s, setup 0ms, collect 7.56s, tests 2.52s, environment 0ms, prepare 315ms)\r\n\u001b[32m@fragno-dev/auth:test: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/label.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/tooltip.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/schema.test.ts (1 test) 59ms\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/slider.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/radio-group.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/calendar.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/routes/files.test.ts (3 tests) 310ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0mstderr | src/routes/uploads.test.ts > upload routes > allows retry after failed proxy upload\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0mDurable hooks processing failed ConcurrencyConflictError: Optimistic concurrency conflict detected\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at executeTx (/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.ts:909:15)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at Object.<anonymous> (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:301:5)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at processHooks (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:300:3)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at /home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:356:23\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0mDurable hooks processing failed ConcurrencyConflictError: Optimistic concurrency conflict detected\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at executeTx (/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.ts:909:15)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at Object.<anonymous> (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:301:5)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at processHooks (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:300:3)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at /home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:356:23\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0mDurable hooks processing failed ConcurrencyConflictError: Optimistic concurrency conflict detected\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at executeTx (/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.ts:909:15)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at Object.<anonymous> (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:301:5)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at processHooks (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:300:3)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at /home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:356:23\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0mDurable hooks processing failed ConcurrencyConflictError: Optimistic concurrency conflict detected\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at executeTx (/home/jan/rejot/fragno/packages/fragno-db/src/query/unit-of-work/execute-unit-of-work.ts:909:15)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at Object.<anonymous> (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:301:5)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at processHooks (/home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:300:3)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m    at /home/jan/rejot/fragno/packages/fragno-db/src/hooks/hooks.ts:356:23\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/stripe-data-flow.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/routes/uploads.test.ts (5 tests) 2057ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m ✓ src/fragment.test.ts (13 tests) 5936ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m   ✓ upload fragment direct single flows > surfaces checksum mismatches  704ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m   ✓ upload fragment direct single flows > schedules an upload timeout hook  774ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m   ✓ upload fragment direct single flows > marks uploads expired when timeout hook executes  766ms\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m Test Files  10 passed (10)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m      Tests  51 passed (51)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m   Start at  11:59:34\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m   Duration  10.78s (transform 3.84s, setup 0ms, collect 20.70s, tests 8.50s, environment 3ms, prepare 2.24s)\r\n\u001b[35m@fragno-dev/upload:test: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 3994 modules transformed.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mGenerated an empty chunk: \"shadcn-registry\".\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mGenerated an empty chunk: \"search\".\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mGenerated an empty chunk: \"markdown\".\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mGenerated an empty chunk: \"forms\".\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mGenerated an empty chunk: \"sitemap\".\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mrendering chunks...\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mcomputing gzip size...\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/stripe-limit-one-customer-pL0z-y6E.webp         8.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/.vite/manifest.json                                  202.76 kB │ gzip:  15.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/root-B-jlq0_b.css                             201.46 kB │ gzip:  28.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/shadcn-registry-l0sNRNKZ.js                     0.00 kB │ gzip:   0.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/search-l0sNRNKZ.js                              0.00 kB │ gzip:   0.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/markdown-l0sNRNKZ.js                            0.00 kB │ gzip:   0.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/forms-l0sNRNKZ.js                               0.00 kB │ gzip:   0.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/sitemap-l0sNRNKZ.js                             0.00 kB │ gzip:   0.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/check-c-Pmvv1v.js                               0.13 kB │ gzip:   0.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/user-EK_w2oWM.js                                0.20 kB │ gzip:   0.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                      0.22 kB │ gzip:   0.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/chevron-left-PC61s0O_.js                        0.22 kB │ gzip:   0.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/steps-DO0nYYxL.js                               0.23 kB │ gzip:   0.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/calendar-BmjY5_qh.js                            0.27 kB │ gzip:   0.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-Cf06YCeT.js                               0.29 kB │ gzip:   0.23 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/book-open-i2bBAk17.js                           0.29 kB │ gzip:   0.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/clipboard-list-CJVt7O3P.js                      0.42 kB │ gzip:   0.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                      0.44 kB │ gzip:   0.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/engine-javascript-cFLAgzgL.js                   0.45 kB │ gzip:   0.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                            0.46 kB │ gzip:   0.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/home-layout-u1_T9fdM.js                         0.46 kB │ gzip:   0.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/palette-zoK44kug.js                             0.52 kB │ gzip:   0.28 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/codeowners-Bp6g37R7.js                          0.55 kB │ gzip:   0.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/stripe-VJO07OUY.js                              0.57 kB │ gzip:   0.35 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                      0.67 kB │ gzip:   0.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/shellsession-BADoaaVG.js                        0.71 kB │ gzip:   0.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/tsv-B_m7g4N7.js                                 0.74 kB │ gzip:   0.34 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/forms-demo-callout-BRBbyuuw.js                  0.77 kB │ gzip:   0.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/sidebar-DBDIFSWO.js                             0.78 kB │ gzip:   0.50 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                    0.80 kB │ gzip:   0.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-BjUqlgpg.js                               0.80 kB │ gzip:   0.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/html-derivative-BFtXZ54Q.js                     0.90 kB │ gzip:   0.49 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/git-rebase-r7XF79zn.js                          0.98 kB │ gzip:   0.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/qmldir-C8lEn-DE.js                              1.00 kB │ gzip:   0.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/preload-helper-BXl3LOEh.js                      1.11 kB │ gzip:   0.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                      1.12 kB │ gzip:   0.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/csv-fuZLfV_i.js                                 1.14 kB │ gzip:   0.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/createLucideIcon-C5nHPnB_.js                    1.18 kB │ gzip:   0.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                1.22 kB │ gzip:   0.61 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/git-commit-F4YmCXRG.js                          1.23 kB │ gzip:   0.52 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/xsl-CtQFsRM5.js                                 1.39 kB │ gzip:   0.52 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/dotenv-Da5cRb03.js                              1.42 kB │ gzip:   0.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/sparql-rVzFXLq3.js                              1.48 kB │ gzip:   0.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-C9W7ig4N.js                               1.48 kB │ gzip:   0.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ini-BEwlwnbL.js                                 1.53 kB │ gzip:   0.50 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fortran-fixed-form-CkoXwp7k.js                  1.67 kB │ gzip:   0.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/docker-BcOcwvcX.js                              1.74 kB │ gzip:   0.60 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hxml-Bvhsp5Yf.js                                1.74 kB │ gzip:   0.88 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           1.76 kB │ gzip:   0.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/copy-forms-prompt-button-KZOu0PSS.js            1.76 kB │ gzip:   0.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/desktop-BmXAJ9_W.js                             1.83 kB │ gzip:   0.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/wenyan-BV7otONQ.js                              2.16 kB │ gzip:   1.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/jssm-C2t-YnRu.js                                2.24 kB │ gzip:   0.62 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/reg-C-SQnVFl.js                                 2.35 kB │ gzip:   0.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/edge-BkV0erSs.js                                2.36 kB │ gzip:   0.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/collapsible-Bjeykqvi.js                         2.53 kB │ gzip:   1.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/diff-D97Zzqfu.js                                2.57 kB │ gzip:   0.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/gleam-BspZqrRM.js                               2.58 kB │ gzip:   0.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/erb-BOJIQeun.js                                 2.61 kB │ gzip:   0.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/faq-CS_ERJ0T.js                                 2.62 kB │ gzip:   0.84 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hy-DFXneXwc.js                                  2.65 kB │ gzip:   1.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/type-table-CIa_mfcH.js                          2.78 kB │ gzip:   1.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/json-Cp-IABpG.js                                2.82 kB │ gzip:   0.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/openscad-C4EeE6gA.js                            2.82 kB │ gzip:   1.01 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/log-2UxHyX5q.js                                 2.85 kB │ gzip:   0.89 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cairo-KRGpt6FW.js                               2.94 kB │ gzip:   0.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-p4TYoxlP.js                               2.96 kB │ gzip:   1.01 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-DRPfM-gD.js                               2.98 kB │ gzip:   1.01 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/berry-uYugtg8r.js                               3.01 kB │ gzip:   0.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/jsonl-DcaNXYhu.js                               3.01 kB │ gzip:   0.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/jsonc-Des-eS-w.js                               3.11 kB │ gzip:   0.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/logo-BtOb2qkB.js                                3.13 kB │ gzip:   1.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/po-BTJTHyun.js                                  3.24 kB │ gzip:   0.91 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/json5-C9tS-k6U.js                               3.25 kB │ gzip:   0.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/mipsasm-CKIfxQSi.js                             3.26 kB │ gzip:   1.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/tasl-QIJgUcNo.js                                3.29 kB │ gzip:   0.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/genie-D0YGMca9.js                               3.36 kB │ gzip:   1.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/rel-C3B-1QV4.js                                 3.37 kB │ gzip:   1.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vala-CsfeWuGM.js                                3.37 kB │ gzip:   1.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/splunk-BtCnVYZw.js                              3.44 kB │ gzip:   1.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/docs-index-DTq2iq-X.js                          3.56 kB │ gzip:   1.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fluent-C4IJs8-o.js                              3.61 kB │ gzip:   0.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                          3.62 kB │ gzip:   1.61 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/jsonnet-DFQXde-d.js                             3.62 kB │ gzip:   1.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/kdl-DV7GczEv.js                                 3.63 kB │ gzip:   1.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/glsl-DplSGwfg.js                                3.63 kB │ gzip:   1.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hurl-irOxFIW8.js                                3.65 kB │ gzip:   1.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/narrat-DRg8JJMk.js                              3.67 kB │ gzip:   1.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/turtle-BsS91CYL.js                              3.70 kB │ gzip:   0.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-BDcyovJs.js                               3.71 kB │ gzip:   1.41 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-DKjRcP81.js                               3.76 kB │ gzip:   1.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/zenscript-DVFEvuxE.js                           3.91 kB │ gzip:   1.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/gn-n2N0HUVH.js                                  4.00 kB │ gzip:   1.50 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/pascal-D93ZcfNL.js                              4.15 kB │ gzip:   1.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/button-rE7mySHM.js                              4.32 kB │ gzip:   1.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/theme-toggle-HbuTS5bx.js                        4.34 kB │ gzip:   1.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/nextflow-BrzmwbiE.js                            4.42 kB │ gzip:   1.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/tcl-dwOrl1Do.js                                 4.43 kB │ gzip:   1.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/rosmsg-BJDFO7_C.js                              4.52 kB │ gzip:   1.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/http-jrhK8wxY.js                                4.55 kB │ gzip:   1.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-BDlrZ_zO.js                               4.62 kB │ gzip:   1.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/polar-C0HS_06l.js                               4.67 kB │ gzip:   1.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/sdbl-DVxCFoDh.js                                4.70 kB │ gzip:   1.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fennel-BYunw83y.js                              4.77 kB │ gzip:   1.56 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/bibtex-CHM0blh-.js                              4.80 kB │ gzip:   0.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/llvm-BtvRca6l.js                                5.04 kB │ gzip:   2.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/blog-index-BJgClaTF.js                          5.09 kB │ gzip:   1.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/wgsl-Dx-B1_4e.js                                5.14 kB │ gzip:   1.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/gdresource-B7Tvp0Sc.js                          5.26 kB │ gzip:   1.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/qml-3beO22l8.js                                 5.34 kB │ gzip:   1.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/zig-VOosw3JB.js                                 5.34 kB │ gzip:   1.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/dax-CEL-wOlO.js                                 5.37 kB │ gzip:   2.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/bicep-Bmn6On1c.js                               5.38 kB │ gzip:   1.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/xml-sdJ4AIDG.js                                 5.38 kB │ gzip:   1.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                                 5.46 kB │ gzip:   1.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/coq-DkFqJrB1.js                                 5.53 kB │ gzip:   1.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/moonbit-Ba13S78F.js                             5.54 kB │ gzip:   1.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/jinja-4LBKfQ-Z.js                               5.69 kB │ gzip:   1.40 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/lean-BZvkOJ9d.js                                5.78 kB │ gzip:   1.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/powerquery-CEu0bR-o.js                          5.90 kB │ gzip:   1.52 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/shaderlab-Dg9Lc6iA.js                           5.92 kB │ gzip:   2.08 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/verilog-BQ8w6xss.js                             5.93 kB │ gzip:   1.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                              5.96 kB │ gzip:   1.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vb-D17OF-Vu.js                                  6.09 kB │ gzip:   2.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/red-bN70gL4F.js                                 6.26 kB │ gzip:   1.60 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/min-dark-CafNBF8u.js                            6.29 kB │ gzip:   1.72 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/gdshader-DkwncUOv.js                            6.33 kB │ gzip:   1.73 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/prisma-Dd19v3D-.js                              6.33 kB │ gzip:   1.39 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ara-BRHolxvo.js                                 6.36 kB │ gzip:   1.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/clojure-P80f7IUj.js                             6.41 kB │ gzip:   1.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/postcss-CXtECtnM.js                             6.42 kB │ gzip:   1.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/toml-vGWfd6FD.js                                6.43 kB │ gzip:   1.28 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/solarized-light-L9t79GZl.js                     6.48 kB │ gzip:   1.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/r-Dspwwk_N.js                                   6.54 kB │ gzip:   1.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/proto-C7zT0LnQ.js                               6.55 kB │ gzip:   1.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/smalltalk-BERRCDM3.js                           6.59 kB │ gzip:   1.62 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/talonscript-CkByrt1z.js                         6.76 kB │ gzip:   1.49 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/engine-oniguruma-CyoZypuG.js                    6.84 kB │ gzip:   2.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/solarized-dark-DXbdFlpD.js                      6.85 kB │ gzip:   1.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/riscv-BM1_JUlF.js                               6.91 kB │ gzip:   1.98 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/min-light-CTRr51gU.js                           6.97 kB │ gzip:   1.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/soy-Brmx7dQM.js                                 6.98 kB │ gzip:   1.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/root-Bk3Fudlq.js                                7.05 kB │ gzip:   2.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/scheme-C98Dy4si.js                              7.17 kB │ gzip:   2.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hlsl-D3lLCCz7.js                                7.26 kB │ gzip:   2.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                      7.34 kB │ gzip:   1.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/qss-IeuSbFQv.js                                 7.47 kB │ gzip:   2.59 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/dart-CF10PKvl.js                                7.81 kB │ gzip:   1.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/systemd-4A_iFExJ.js                             7.87 kB │ gzip:   2.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/monokai-D4h5O-jR.js                             7.88 kB │ gzip:   1.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                              7.99 kB │ gzip:   1.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/layout.shared-BEDvLNTh.js                       8.01 kB │ gzip:   3.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/haml-B8DHNrY2.js                                8.26 kB │ gzip:   1.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/typst-DHCkPAjA.js                               8.39 kB │ gzip:   1.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vue-html-AaS7Mt5G.js                            8.47 kB │ gzip:   1.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/plsql-ChMvpjG-.js                               8.51 kB │ gzip:   3.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                   8.59 kB │ gzip:   2.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/overview-DDarvODk.js                            8.60 kB │ gzip:   1.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/troubleshooting-CMp9c8tx.js                     8.64 kB │ gzip:   2.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/kotlin-BdnUsdx6.js                              8.79 kB │ gzip:   2.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/routes-C56C_YF8.js                              8.81 kB │ gzip:   1.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ts-tags-zn1MmPIZ.js                             8.95 kB │ gzip:   1.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/make-CHLpvVh8.js                                8.96 kB │ gzip:   1.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/andromeeda-C-Jbm3Hp.js                          8.98 kB │ gzip:   2.36 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/debugging-DHq5G0C1.js                           9.01 kB │ gzip:   2.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/sas-cz2c8ADy.js                                 9.06 kB │ gzip:   3.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-Bvg4q2C5.js                               9.09 kB │ gzip:   3.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/dark-plus-C3mMm8J8.js                           9.10 kB │ gzip:   2.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/slack-dark-BthQWCQV.js                          9.12 kB │ gzip:   1.98 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/sass-Cj5Yp3dK.js                                9.29 kB │ gzip:   2.49 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/plastic-3e1v2bzS.js                             9.30 kB │ gzip:   1.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/slack-ochin-DqwNpetd.js                         9.43 kB │ gzip:   2.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/tex-CvyZ59Mk.js                                 9.66 kB │ gzip:   3.08 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/jison-wvAkD_A8.js                               9.69 kB │ gzip:   1.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cmake-D1j8_8rp.js                               9.86 kB │ gzip:   3.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/frameworks-BV0ZVQNN.js                          9.93 kB │ gzip:   2.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/light-plus-B7mTdjB0.js                          9.94 kB │ gzip:   2.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hcl-BWvSN4gD.js                                10.05 kB │ gzip:   1.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/key-system-DUFs136S.js                         10.21 kB │ gzip:   2.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/pkl-u5AG7uiY.js                                10.37 kB │ gzip:   1.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/beancount-k_qm7-4y.js                          10.37 kB │ gzip:   1.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/codeblock-CVjHCDEn.js                          10.46 kB │ gzip:   4.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/dream-maker-BtqSS_iP.js                        10.47 kB │ gzip:   2.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/raku-DXvB9xmW.js                               10.47 kB │ gzip:   2.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/yaml-Buea-lGh.js                               10.51 kB │ gzip:   2.26 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/rst-B0xPkSld.js                                10.67 kB │ gzip:   2.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/glossary-D0NRl9An.js                           10.71 kB │ gzip:   1.94 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/elm-DbKCFpqz.js                                10.97 kB │ gzip:   2.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/github-light-DAi9KRSo.js                       11.18 kB │ gzip:   2.52 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/prolog-CbFg5uaA.js                             11.36 kB │ gzip:   3.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/terraform-BETggiCN.js                          11.39 kB │ gzip:   2.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                        11.41 kB │ gzip:   2.56 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/puppet-BMWR74SV.js                             11.44 kB │ gzip:   2.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/laserwave-DUszq2jm.js                          11.50 kB │ gzip:   2.60 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                11.78 kB │ gzip:   4.91 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/blog-post-DKQsyce4.js                          11.80 kB │ gzip:   3.95 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/gherkin-DyxjwDmM.js                            11.95 kB │ gzip:   4.94 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/wasm-MzD3tlZU.js                               12.01 kB │ gzip:   2.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hjson-D5-asLiD.js                              12.05 kB │ gzip:   1.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/handlebars-BL8al0AC.js                         12.15 kB │ gzip:   2.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-D2YbRddM.js                              12.44 kB │ gzip:   2.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/apache-Pmp26Uib.js                             12.46 kB │ gzip:   3.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vesper-DU1UobuO.js                             12.69 kB │ gzip:   1.98 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/bat-BkioyH1T.js                                12.89 kB │ gzip:   3.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fish-BvzEVeQv.js                               13.04 kB │ gzip:   1.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/v-BcVCzyr7.js                                  13.21 kB │ gzip:   2.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/notes-on-claude-code-refactoring-CTwLITNR.js   13.24 kB │ gzip:   2.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vitesse-light-CVO1_9PV.js                      13.62 kB │ gzip:   3.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/aurora-x-D-2ljcwZ.js                           13.66 kB │ gzip:   2.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vitesse-black-Bkuqu6BP.js                      13.68 kB │ gzip:   3.08 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/adapters-_VrpdXks.js                           13.72 kB │ gzip:   2.08 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vitesse-dark-D0r3Knsf.js                       13.76 kB │ gzip:   3.08 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/pug-CGlum2m_.js                                13.84 kB │ gzip:   2.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/search-default-DDXvX_4P.js                     13.88 kB │ gzip:   5.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/luau-C-HG3fhB.js                               13.96 kB │ gzip:   3.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vue-C0vGlD7j.js                                13.98 kB │ gzip:   5.62 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                       14.04 kB │ gzip:   2.88 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/actionscript-3-CfeIJUat.js                     14.05 kB │ gzip:   2.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/github-light-default-D7oLnXFd.js               14.16 kB │ gzip:   3.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/clarity-D53aC0YG.js                            14.28 kB │ gzip:   2.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/github-light-high-contrast-BfjtVDDH.js         14.28 kB │ gzip:   3.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/github-dark-dimmed-DH5Ifo-i.js                 14.43 kB │ gzip:   3.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/github-dark-default-Cuk6v7N8.js                14.44 kB │ gzip:   3.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/github-dark-high-contrast-E3gJ1_iC.js          14.60 kB │ gzip:   3.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/gnuplot-DdkO51Og.js                            14.78 kB │ gzip:   3.28 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/rust-B1yitclQ.js                               15.07 kB │ gzip:   2.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/kusto-DZf3V79B.js                              15.17 kB │ gzip:   3.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/client-customization-BFNbnKzf.js               15.18 kB │ gzip:   2.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/lua-BbnMAYS6.js                                15.21 kB │ gzip:   3.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/nix-CwoSXNpI.js                                15.51 kB │ gzip:   2.49 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/abap-BdImnpbu.js                               15.85 kB │ gzip:   5.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/client-CjKFTy0L.js                             15.97 kB │ gzip:   2.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/solidity-rGO070M0.js                           16.07 kB │ gzip:   3.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/matlab-D7o27uSR.js                             16.09 kB │ gzip:   3.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cue-D82EKSYY.js                                16.20 kB │ gzip:   2.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/elixir-CDX3lj18.js                             16.32 kB │ gzip:   2.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/webhooks-oIUxUMtX.js                           16.52 kB │ gzip:   3.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/quickstart-DPw_aB_q.js                         16.82 kB │ gzip:   2.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/kanagawa-wave-DWedfzmr.js                      17.12 kB │ gzip:   2.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/kanagawa-lotus-CfQXZHmo.js                     17.13 kB │ gzip:   2.94 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/kanagawa-dragon-CkXjmgJE.js                    17.13 kB │ gzip:   2.95 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/move-Bu9oaDYs.js                               17.33 kB │ gzip:   3.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/mdx-components-BeVuftkV.js                     17.34 kB │ gzip:   5.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/graphql-ChdNCCLP.js                            18.00 kB │ gzip:   2.52 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/svelte-zxCyuUbr.js                             18.05 kB │ gzip:   3.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/liquid-DYVedYrR.js                             18.09 kB │ gzip:   3.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/material-theme-D5KoaKCx.js                     18.62 kB │ gzip:   3.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/material-theme-darker-BfHTSMKl.js              18.63 kB │ gzip:   3.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/material-theme-ocean-CyktbL80.js               18.63 kB │ gzip:   3.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/material-theme-lighter-B0m2ddpp.js             18.63 kB │ gzip:   3.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/material-theme-palenight-Csfq5Kiy.js           18.64 kB │ gzip:   3.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cakes-9AQ8qZ-v.js                              18.80 kB │ gzip:   8.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/gdscript-DTMYz4Jt.js                           18.98 kB │ gzip:   3.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/groovy-gcz8RCvz.js                             19.18 kB │ gzip:   3.59 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/mdc-DUICxH0z.js                                19.63 kB │ gzip:   6.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ayu-dark-CmMr59Fi.js                           19.84 kB │ gzip:   3.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/glimmer-js-Rg0-pVw9.js                         20.07 kB │ gzip:   2.94 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/glimmer-ts-U6CK756n.js                         20.07 kB │ gzip:   2.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/static-forms-CxSjWoi3.js                       20.07 kB │ gzip:   3.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/powershell-Dpen1YoG.js                         20.15 kB │ gzip:   4.07 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/viml-CJc9bBzg.js                               20.37 kB │ gzip:   6.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/nushell-C-sUppwS.js                            20.40 kB │ gzip:   5.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                       20.77 kB │ gzip:   3.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/dracula-BzJJZx-M.js                            21.07 kB │ gzip:   4.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                       21.08 kB │ gzip:   4.07 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/twig-CO9l9SDP.js                               21.36 kB │ gzip:   3.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/wit-5i3qLPDT.js                                21.47 kB │ gzip:   2.88 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/rose-pine-qdsjHGoJ.js                          21.74 kB │ gzip:   3.89 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/routes-DcckwAiH.js                             21.75 kB │ gzip:   3.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/rose-pine-moon-D4_iv3hh.js                     21.75 kB │ gzip:   3.91 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/rose-pine-dawn-DHQR4-dF.js                     21.75 kB │ gzip:   3.91 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/nim-CVrawwO9.js                                22.46 kB │ gzip:   3.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/common-lisp-Cg-RD9OK.js                        22.58 kB │ gzip:   6.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                  22.63 kB │ gzip:   4.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                  22.63 kB │ gzip:   4.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                 22.64 kB │ gzip:   4.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                 22.64 kB │ gzip:   4.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                22.64 kB │ gzip:   4.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js               22.64 kB │ gzip:   4.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cli-BSWL0h0q.js                                22.66 kB │ gzip:   2.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/sql-BLtJtn59.js                                23.41 kB │ gzip:   7.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cadence-Bv_4Rxtq.js                            23.67 kB │ gzip:   3.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/astro-CbQHKStN.js                              24.01 kB │ gzip:   7.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/typespec-BGHnOYBU.js                           24.02 kB │ gzip:   2.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/apl-dKokRX4l.js                                24.04 kB │ gzip:   4.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/templ-W15q3VgB.js                              24.06 kB │ gzip:   5.41 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vhdl-CeAyd5Ju.js                               24.26 kB │ gzip:   3.89 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/angular-html-CU67Zn6k.js                       24.29 kB │ gzip:   4.00 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/runner-dispatcher-DanaTZJm.js                  24.38 kB │ gzip:   3.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vue-DN_0RTcg.js                                24.48 kB │ gzip:   2.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/purescript-CklMAg4u.js                         24.69 kB │ gzip:   3.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/c3-VCDPK7BO.js                                 24.89 kB │ gzip:   3.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/one-light-PoHY5YXO.js                          25.30 kB │ gzip:   3.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fsharp-CXgrBDvD.js                             25.31 kB │ gzip:   4.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/marko-DZsq8hO1.js                              25.48 kB │ gzip:   3.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/system-verilog-CnnmHF94.js                     26.20 kB │ gzip:   4.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/nord-Ddv68eIx.js                               26.72 kB │ gzip:   4.41 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/codeql-DsOJ9woJ.js                             26.88 kB │ gzip:   3.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/notes-on-writing-docs-for-agents-DE_6C2od.js   27.20 kB │ gzip:   4.36 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/scss-OYdSNvt2.js                               27.20 kB │ gzip:   4.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/java-CylS5w8V.js                               27.22 kB │ gzip:   4.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/coffee-Ch7k5sss.js                             27.42 kB │ gzip:   6.35 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/testing-D8zrXlSN.js                            27.47 kB │ gzip:   3.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/razor-C1TweQQi.js                              27.51 kB │ gzip:   3.56 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/select-B15C3Suz.js                             28.14 kB │ gzip:  10.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/scala-C151Ov-r.js                              28.88 kB │ gzip:   3.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/night-owl-C39BiMTA.js                          28.91 kB │ gzip:   5.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/crystal-tKQVLTB8.js                            29.39 kB │ gzip:   4.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/mermaid-mWjccvbQ.js                            29.51 kB │ gzip:   3.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/applescript-Co6uUVPk.js                        29.57 kB │ gzip:   5.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/home-layout-8Rq1gsFZ.js                        30.30 kB │ gzip:   9.00 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/versionstamps-BsAk_Bu6.js                      30.98 kB │ gzip:   5.94 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/julia-CxzCAyBv.js                              31.07 kB │ gzip:   4.28 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/stylus-BEDo0Tqx.js                             31.07 kB │ gzip:   8.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-DhJFq74r.js                              32.25 kB │ gzip:  10.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                  32.36 kB │ gzip:  11.35 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/react-sr_XFUcn.js                              32.57 kB │ gzip:   3.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/testing-DoMmb0bK.js                            32.69 kB │ gzip:   3.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/prisma-Du0KXZsA.js                             33.06 kB │ gzip:   4.88 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/poimandres-CS3Unz2-.js                         33.49 kB │ gzip:   5.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                       33.79 kB │ gzip:   5.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/bsl-BO_Y6i37.js                                33.87 kB │ gzip:   8.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/kysely-X10mbsPt.js                             34.69 kB │ gzip:   4.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/haxe-CzTSHFRz.js                               35.16 kB │ gzip:   5.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/drizzle-DDp7sZwp.js                            35.23 kB │ gzip:   4.62 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/nginx-DknmC5AR.js                              35.37 kB │ gzip:   4.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/houston-DnULxvSX.js                            35.42 kB │ gzip:   5.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/tokyo-night-hegEt444.js                        35.67 kB │ gzip:   6.26 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/erlang-DsQrWhSR.js                             37.48 kB │ gzip:   4.40 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vue-C0go7nHx.js                                38.04 kB │ gzip:   3.41 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/svelte-DHR9VCgU.js                             39.13 kB │ gzip:   3.77 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cobol-nwyudZeR.js                              39.15 kB │ gzip:  10.86 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/middleware-vlwpJaYF.js                         39.30 kB │ gzip:   4.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/asm-D_Q5rh1f.js                                40.72 kB │ gzip:   8.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/services-C4tCEqkk.js                           41.12 kB │ gzip:   5.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/admin-hooks-CPNBywtE.js                        41.16 kB │ gzip:   4.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/shellscript-Yzrsuije.js                        41.48 kB │ gzip:   6.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/haskell-Df6bDoY_.js                            41.49 kB │ gzip:   6.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/perl-C0TMdlhV.js                               43.16 kB │ gzip:   4.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/overview-mA-0dLzZ.js                           43.72 kB │ gzip:   6.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/d-85-TOEBH.js                                  43.80 kB │ gzip:   8.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js               44.92 kB │ gzip:   7.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ruby-BvKwtOVI.js                               45.91 kB │ gzip:   5.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/go-Dn2_MT6a.js                                 46.78 kB │ gzip:   5.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/apex-D8_7TLub.js                               46.99 kB │ gzip:   6.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                   47.26 kB │ gzip:   8.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/catppuccin-latte-C9dUb6Cb.js                   47.26 kB │ gzip:   8.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/catppuccin-frappe-DFWUc33u.js                  47.26 kB │ gzip:   8.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/catppuccin-macchiato-DQyhUUbL.js               47.26 kB │ gzip:   8.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/Combination-CzQX7jbt.js                        47.63 kB │ gzip:  17.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/form-builder-CGWlgEV0.js                       47.68 kB │ gzip:   5.26 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ada-bCR0ucgS.js                                48.08 kB │ gzip:   6.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/css-DPfMkruS.js                                49.02 kB │ gzip:  11.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/imba-DGztddWO.js                               49.93 kB │ gzip:   9.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                    53.75 kB │ gzip:   8.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/everforest-light-C8M2exoo.js                   53.75 kB │ gzip:   8.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/code-splitting-eIDYxGFn.js                     54.39 kB │ gzip:   6.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vanilla-js-BHctc-UU.js                         55.31 kB │ gzip:   4.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/wikitext-BhOHFoWU.js                           55.89 kB │ gzip:   4.72 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/docs-page-cfY8cAoq.js                          56.68 kB │ gzip:  18.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/stata-BH5u7GGu.js                              56.99 kB │ gzip:  12.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cloudflare-turnstile-De9h0Rfv.js               57.04 kB │ gzip:   7.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/html-GMplVEZG.js                               57.25 kB │ gzip:  11.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ballerina-BFfxhgS-.js                          58.69 kB │ gzip:   8.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/solid-js-BX_vWXiD.js                           58.72 kB │ gzip:   5.23 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/engine-compile-DqlOCOsW.js                     58.73 kB │ gzip:  20.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           59.34 kB │ gzip:   5.63 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fragment-Dz5cf5_B.js                           60.28 kB │ gzip:   5.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/home-DbYIvdS-.js                               61.92 kB │ gzip:  19.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                      62.43 kB │ gzip:   7.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/ocaml-C0hk2d4L.js                              62.45 kB │ gzip:   5.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                    63.89 kB │ gzip:  22.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/og-image-page-B1Z5IIhH.js                      65.45 kB │ gzip:  18.86 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cli-CRIvbMHG.js                                67.32 kB │ gzip:   7.39 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/mojo-B93PlW-d.js                               69.30 kB │ gzip:   9.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/python-B6aJPvgy.js                             69.95 kB │ gzip:   9.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/2026-02-09-changelog-CP9iR0YG.js               70.25 kB │ gzip:  10.50 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/overview-BJSqpP0a.js                           71.76 kB │ gzip:   7.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/c-BIGW1oBm.js                                  72.11 kB │ gzip:  10.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/latex-B4uzh10-.js                              72.19 kB │ gzip:   6.62 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                              74.65 kB │ gzip:  10.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/shadcn-renderer-BFnK7xKk.js                    74.97 kB │ gzip:   8.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/client-state-management-Qf9wU1tq.js            76.14 kB │ gzip:   9.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/integrating-a-fragment-CFuNz-bM.js             79.06 kB │ gzip:   7.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/transactions-SoTuSN8D.js                       79.64 kB │ gzip:   8.72 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/quickstart-CYENY_zw.js                         79.71 kB │ gzip:   7.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hack-CaT9iCJl.js                               80.24 kB │ gzip:  26.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/split-brain-stripe-D8_d3YmB.js                 80.36 kB │ gzip:  10.39 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/swift-Dg5xB15N.js                              86.61 kB │ gzip:  14.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/csharp-K5feNrxe.js                             87.72 kB │ gzip:  10.50 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fortran-free-form-BxgE0vQu.js                  88.97 kB │ gzip:  11.28 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/subscriptions-Cc39Ogrl.js                      89.72 kB │ gzip:   9.98 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/quickstart-C-YvLHda.js                         90.93 kB │ gzip:   8.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/dependencies-and-services-g1XPXlY2.js          91.98 kB │ gzip:   8.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                      92.35 kB │ gzip:  22.84 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/racket-BqYA7rlc.js                             92.39 kB │ gzip:  15.08 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/fragno-introduction-CS-J6Dse.js                95.88 kB │ gzip:  13.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/less-B1dDrJ26.js                               97.63 kB │ gzip:  14.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/blade-D4QpJJKB.js                             104.98 kB │ gzip:  28.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/objective-c-DXmwc3jG.js                       105.41 kB │ gzip:  23.35 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/querying-CAR6wua_.js                          108.16 kB │ gzip:   8.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/defining-schemas-BLfatS1y.js                  109.40 kB │ gzip:   8.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/php-CDn_0X-4.js                               111.00 kB │ gzip:  28.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/getting-started-DlR9UQ_v.js                   119.55 kB │ gzip:   9.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-BMpri6fw.js                             121.97 kB │ gzip:  37.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                    123.91 kB │ gzip:  41.84 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/route-definition-DAVyO8cV.js                  127.08 kB │ gzip:  10.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/asciidoc-Dv7Oe6Be.js                          131.51 kB │ gzip:   9.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cloudflare-drizzle-DK_2iOJa.js                133.55 kB │ gzip:  12.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/mdx-Cmh6b_Ma.js                               136.11 kB │ gzip:  23.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/user-quick-start-DdjWF3ir.js                  139.14 kB │ gzip:   9.95 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/index-Bw1kgcAM.js                             144.18 kB │ gzip:  13.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/objective-cpp-CLxacb5B.js                     171.97 kB │ gzip:  30.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/javascript-wDzz0qaB.js                        174.83 kB │ gzip:  16.60 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/tsx-COt5Ahok.js                               175.54 kB │ gzip:  16.59 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/hooks-CxPSrrM1.js                             176.49 kB │ gzip:  12.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/jsx-g9-lgVsj.js                               177.79 kB │ gzip:  16.72 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/typescript-BPQ3VLAy.js                        181.08 kB │ gzip:  16.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/angular-ts-BwZT4LLn.js                        183.82 kB │ gzip:  16.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/entry.client-B7a90siT.js                      186.77 kB │ gzip:  58.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/vue-vine-CQOfvN7w.js                          190.05 kB │ gzip:  18.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/wolfram-lXgVvXCa.js                           262.39 kB │ gzip:  77.07 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/form-index-BV8q0GVr.js                        494.49 kB │ gzip: 150.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/wasm-CG6Dc4jp.js                              622.34 kB │ gzip: 231.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/cpp-CofmeUqb.js                               626.08 kB │ gzip:  44.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/emacs-lisp-C9XAeP06.js                        779.85 kB │ gzip: 196.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) Some chunks are larger than 500 kB after minification. Consider:\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m- Using dynamic import() to code-split the application\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 16.09s\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mvite v7.3.1 building ssr environment for production...\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[MDX] generated files in 0.9961569999977655ms\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mtransforming...\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/levels-context.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/copy-markdown-button.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/copy-forms-prompt-button.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/level-slider.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/fragno-code-block.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/page-actions.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/database-integration.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/frameworks.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/carousel.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/label.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/tooltip.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/radio-group.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/calendar.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/ui/slider.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mapp/components/stripe-data-flow.tsx (1:0): Error when using sourcemap for reporting an error: Can't resolve original location of error.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 4493 modules transformed.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mrendering chunks...\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/2025-12-18-changelog.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/2026-02-09-changelog.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/fragno-introduction.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/notes-on-claude-code-refactoring.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/notes-on-writing-docs-for-agents.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/split-brain-stripe.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/versionstamps.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/blog/zod-jsonschema.mdx?collection=blog is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/forms/form-builder.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/forms/guides/cloudflare-turnstile.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/forms/hooks.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/forms/index.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/forms/shadcn-renderer.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/forms/static-forms.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/database-integration/defining-schemas.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/database-integration/durable-hooks.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/database-integration/overview.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/database-integration/querying.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/database-integration/testing.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/database-integration/transactions.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/faq.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/features/client-state-management.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/features/code-splitting.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/features/dependencies-and-services.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/features/route-definition.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/getting-started.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/testing.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-library-authors/troubleshooting.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/client-customization.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/client-frameworks/react.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/client-frameworks/solid-js.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/client-frameworks/svelte.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/client-frameworks/vanilla-js.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/client-frameworks/vue.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/database-fragments/drizzle.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/database-fragments/kysely.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/database-fragments/overview.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/database-fragments/prisma.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/integrating-a-fragment.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/middleware.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/services.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/for-users/workflows.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/index.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/reference/cli.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/reference/frameworks.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/reference/glossary.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/fragno/user-quick-start.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/stripe/admin-hooks.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/stripe/guides/cloudflare-drizzle.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/stripe/index.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/stripe/quickstart.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/stripe/subscriptions.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/stripe/webhooks.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/upload/adapters.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/upload/client.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/upload/index.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/upload/key-system.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/upload/overview.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/upload/quickstart.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/upload/routes.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/workflows/cli.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/workflows/debugging.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/workflows/fragment.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/workflows/index.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/workflows/quickstart.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/workflows/routes.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m[plugin vite:reporter] \r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m(!) /home/jan/rejot/fragno/apps/docs/content/docs/workflows/runner-dispatcher.mdx?collection=docs is dynamically imported by /home/jan/rejot/fragno/apps/docs/.source/browser.ts but also statically imported by /home/jan/rejot/fragno/apps/docs/.source/server.ts, dynamic import will not move module into another chunk.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mUsing vars defined in .dev.vars\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/.dev.vars                                           0.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/wrangler.json                                       1.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stripe-limit-one-customer-pL0z-y6E.webp      8.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/.vite/manifest.json                               155.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-B-jlq0_b.css                  201.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/index.js                                            0.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/codeowners-awy7PWCD.js                       0.59 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                   0.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-javascript-Ifd8mQLH.js                0.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsv-ChRVFvMy.js                              0.77 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellsession-CkeTp4M1.js                     0.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-derivative-HU9p64q4.js                  0.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/qmldir-DuMSk0Oz.js                           1.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/git-rebase-D-XQSvDj.js                       1.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csv-Ba84L8e5.js                              1.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/git-commit-PP9xCApN.js                       1.28 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/xsl-CnwVr_6q.js                              1.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/dotenv-Bb4iNxXK.js                           1.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/sparql-DswowMAp.js                           1.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ini-B84Ha1bx.js                              1.56 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                 1.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                  1.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-fixed-form-CpmOyvS5.js               1.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/docker-CUaLOm2I.js                           1.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hxml-Jle7oGdm.js                             1.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/desktop-_xiGZ9X1.js                          1.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wenyan-BdqozpMZ.js                           2.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jssm-DDuANZ2u.js                             2.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/reg-CULnG2WX.js                              2.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/edge-CnHxQ_FD.js                             2.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js             2.49 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/diff-BEdzuHlE.js                             2.60 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gleam-LmNxrMsN.js                            2.61 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hy-B1k9U6S8.js                               2.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erb-DFirUQBO.js                              2.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/json-TjWBGEk1.js                             2.86 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/openscad-C_m7ehZF.js                         2.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/log-BF22rfM9.js                              2.88 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cairo-BtYx2aM5.js                            2.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/berry--Qc8OslH.js                            3.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsonl-B-R_pDGg.js                            3.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsonc-DLVLp8id.js                            3.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/logo-D9l7oEJ8.js                             3.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/po-BajfNjc5.js                               3.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/json5-DCGCKrmX.js                            3.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mipsasm-BQyyUrpa.js                          3.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tasl-DfOr2qHi.js                             3.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/genie-BvhtM5Ga.js                            3.39 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/rel-CHRwzjd4.js                              3.40 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vala-qJa5rry9.js                             3.40 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/splunk-DcGJXIDa.js                           3.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fluent-YyC28MRr.js                           3.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsonnet-Cs8BnnC6.js                          3.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/kdl-DzNQTDs7.js                              3.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                       3.66 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/glsl-CGsiYPcu.js                             3.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/narrat-CLjGcbCy.js                           3.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hurl-Am2cDU4f.js                             3.73 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/turtle-BnC7StHY.js                           3.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/zenscript-DFINJL6j.js                        3.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gn-OUMx7fqt.js                               4.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/pascal-CU8Kjkr_.js                           4.19 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tcl-CTsc4-t7.js                              4.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/nextflow-B-RDCzl7.js                         4.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/rosmsg-Bfahr6vb.js                           4.56 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/http-DjsOm9E4.js                             4.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/polar-BB-dlxnO.js                            4.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/sdbl-BBUhycGU.js                             4.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fennel-BTELNkeT.js                           4.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/bibtex-BLeFwAes.js                           4.83 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/llvm-Cga37tC_.js                             5.07 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wgsl-Vo-hHVWH.js                             5.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gdresource-OOOnA4o9.js                       5.34 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/zig-CS4FMAZp.js                              5.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/qml-jtL8okyu.js                              5.39 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/dax-CvsmLV-B.js                              5.40 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/bicep-DbBeGdXQ.js                            5.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/xml-BMzZeaqs.js                              5.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/awk-ChreaG-G.js                              5.49 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/coq-l_JvzFJl.js                              5.56 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/moonbit-BJwFbXFw.js                          5.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jinja-FkIlHBgj.js                            5.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/lean-CTow-IzD.js                             5.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/powerquery-B-e1fO-k.js                       5.95 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/verilog-CCb_iTfF.js                          5.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shaderlab-C07uO3dL.js                        5.98 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cypher-DbUmWIxC.js                           5.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vb-Bzg9rspf.js                               6.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/red-DByOl5N0.js                              6.27 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/min-dark-BNaN9fWk.js                         6.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gdshader-BEzE4j_3.js                         6.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/prisma-bmxcSDxq.js                           6.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ara-DRBH84ND.js                              6.39 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/clojure-C_G4_w5x.js                          6.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/postcss-kj1IbjVd.js                          6.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/toml-vHPzWDj6.js                             6.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/solarized-light-DW9b_AY8.js                  6.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/r-Dpdc-Kyk.js                                6.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/proto-Ds-m32NR.js                            6.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/smalltalk-qxcGy4fT.js                        6.63 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/talonscript-CEEMXJTH.js                      6.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/solarized-dark-BBl5y5sR.js                   6.88 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/riscv-BNQ9cVpw.js                            6.95 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/min-light-CMrjentn.js                        6.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/soy-BHaHgMUy.js                              7.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/scheme-BSHdPinv.js                           7.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hlsl-TRzjajlb.js                             7.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/qss-BFrB6p4y.js                              7.50 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/dart-CCSsOg9l.js                             7.85 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/monokai-DelygWXa.js                          7.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/systemd-DJPFjU02.js                          7.91 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/regexp-BxWeO75u.js                           8.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haml-DrIklt7F.js                             8.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typst-XYLFxYau.js                            8.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-html-DhreShjd.js                         8.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/plsql-B3Na24V4.js                            8.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/kotlin-BM2ZNTMh.js                           8.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/make-DLtqaK4D.js                             8.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/andromeeda-CgKVBpjv.js                       9.00 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/sas-BLBgC3TA.js                              9.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/dark-plus-DmZ1Dzd4.js                        9.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/slack-dark-BEe10hxO.js                       9.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/plastic-BjwMpBc0.js                          9.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/sass-BheygBdF.js                             9.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ts-tags-cG2hZuda.js                          9.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/slack-ochin-BKmu9pBc.js                      9.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tex-CcHKQ11y.js                              9.70 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jison-BkdOIOd4.js                            9.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cmake-CDfQILeU.js                            9.89 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/light-plus-DS08Xg5J.js                       9.97 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hcl-axoq0Ycu.js                             10.08 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/pkl-BsByaYax.js                             10.40 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/beancount-aZWrE5WV.js                       10.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/raku-6v-Y17bs.js                            10.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/dream-maker-CNLQpoF-.js                     10.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/yaml-B_vW5iTY.js                            10.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/rst-K4s1NOnQ.js                             10.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/elm-BlO7pcFp.js                             11.01 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/github-light-BTbR9xVK.js                    11.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/prolog-BT9GCzqD.js                          11.39 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/github-dark-O22yVQaY.js                     11.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/terraform-CeztUfUr.js                       11.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/puppet-N15G4Usj.js                          11.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/laserwave-DF03wMlf.js                       11.52 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gherkin-xCNF9gh8.js                         11.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-BBh6f151.js                            12.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hjson-I7LcauIB.js                           12.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/handlebars-yWFGGD2R.js                      12.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apache-D4roVlsU.js                          12.49 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vesper-4Q1cEwPL.js                          12.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/bat-BzNgQIA7.js                             12.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fish-kGF2-4SL.js                            13.07 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/v-BSYXvR4g.js                               13.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vitesse-light-476zM4e6.js                   13.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/aurora-x-wJ4-eM2h.js                        13.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vitesse-black-BqNLki8b.js                   13.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vitesse-dark-jJ32WhwH.js                    13.79 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/pug-BwQB43qN.js                             13.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/luau-CdZ6BoEa.js                            14.00 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/synthwave-84-CoUef9sh.js                    14.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/actionscript-3-Bmm7RA3Y.js                  14.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/github-light-default-DWEonwFe.js            14.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/clarity-D2ViJC0i.js                         14.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/github-light-high-contrast-WJ_cPDts.js      14.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js             14.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/github-dark-dimmed-CMZ_OfqC.js              14.47 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/github-dark-default-DB2Hkvqn.js             14.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js       14.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gnuplot-tV8vezdE.js                         14.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/rust-CMNYZh5a.js                            15.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/kusto-dtpuxMFE.js                           15.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/lua-CH3ttzl_.js                             15.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/nix-ByWcmvXF.js                             15.60 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/abap-B7h4dtBh.js                            15.89 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-oniguruma-Cd7StO_6.js                15.94 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/solidity-CSTQ0FCC.js                        16.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/matlab-7XHduepk.js                          16.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cue-BFSVLV6N.js                             16.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/elixir-B_LIBv5J.js                          16.37 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/kanagawa-wave-DExoagcR.js                   17.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/kanagawa-lotus-Byd0CDet.js                  17.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/kanagawa-dragon-DU8n2NNT.js                 17.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/move-BBdQ0jYu.js                            17.36 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/graphql-CwmtR1ib.js                         18.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/svelte-BAOk4slW.js                          18.16 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/liquid-QmJ_LYTW.js                          18.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/material-theme-B8B2U48Q.js                  18.65 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/material-theme-ocean-BRPLVReX.js            18.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/material-theme-darker-BV0iY_T3.js           18.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/material-theme-lighter-DrzybSTF.js          18.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/material-theme-palenight-DSJwsR_D.js        18.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gdscript-CY0eqio2.js                        19.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/groovy-Bn4MhXgW.js                          19.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdc-BQMA9IL9.js                             19.73 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ayu-dark-womnd337.js                        19.86 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/glimmer-js-h2QNNiD7.js                      20.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/glimmer-ts-Bk3uX6Ae.js                      20.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/powershell-BcMVbGpk.js                      20.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/viml--FINbfoq.js                            20.40 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/nushell-CwevsFPL.js                         20.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/snazzy-light-Dcvd-ZyI.js                    20.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/dracula-B8-AVrwI.js                         21.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/dracula-soft-BHeefow7.js                    21.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wit-C_nQzOkY.js                             21.50 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/twig-BaSP80Ej.js                            21.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/rose-pine-B-kZ4Z9q.js                       21.77 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/rose-pine-moon-DmodZNzl.js                  21.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/rose-pine-dawn-efeVGdSI.js                  21.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/nim-B3PAIZ4D.js                             22.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/common-lisp-DAq1kaby.js                     22.63 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gruvbox-dark-hard-DVsRsETr.js               22.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gruvbox-dark-soft-Db-YOqRx.js               22.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js              22.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gruvbox-light-soft-Cs0hTZYv.js              22.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/gruvbox-dark-medium-B5JBrQdg.js             22.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js            22.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/sql-DzUuSofg.js                             23.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cadence-S_NtR5Dy.js                         23.71 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typespec-CkDVVIcK.js                        24.06 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apl-CGZawg-A.js                             24.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/astro-BxdWOZvM.js                           24.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/templ-Bcvz6rvd.js                           24.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vhdl-DMqk4T2s.js                            24.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/purescript-DrwsEYNH.js                      24.73 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-html-BYG42TJr.js                    24.89 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c3-DCyiGUuO.js                              24.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-K-7Ga-y8.js                             24.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/one-light-BwwAsfsj.js                       25.32 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fsharp-5vtGqRR9.js                          25.36 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/marko-BDLRyCCe.js                           25.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/system-verilog-BcESSvRn.js                  26.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/search-default-CTl18VSC.js                  26.28 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/nord-CvDbBq5M.js                            26.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/codeql-lfK8ppuq.js                          26.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/scss-Dq-LbI_c.js                            27.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/java-BfXh-0uJ.js                            27.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/coffee-XLjtuEYs.js                          27.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/razor-DH1NeCy8.js                           27.58 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/scala-B-_7vFVn.js                           28.92 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/night-owl-DSS199ra.js                       28.94 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/crystal-BqBRy7Ec.js                         29.51 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mermaid-z_1ejSlp.js                         29.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/applescript-C43Knf0G.js                     29.62 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stylus-DXFa_2Jl.js                          31.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/julia-CU_UwNb8.js                           31.17 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/poimandres-ChWyhPrn.js                      33.52 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/one-dark-pro-CsMf0BoJ.js                    33.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/bsl-DwPS0BId.js                             33.91 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haxe-BpobLYM9.js                            35.20 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                           35.42 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/houston-CF_ws8Cq.js                         35.44 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[REDACTED.js                     35.69 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/erlang-Ch5kuXHm.js                          37.54 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cobol-B8r1pfPr.js                           39.21 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asm-3tg4MVib.js                             40.75 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/shellscript-CQ8MXh-D.js                     41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/haskell-CzPS7wjM.js                         41.53 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/perl-HITCDkgu.js                            43.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/d-9qSZPw74.js                               43.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ruby-YHMcSmTg.js                            46.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/go-CBmVHZBz.js                              46.80 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/apex-B-mI3Md2.js                            47.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-mocha-C653csR5.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-latte-0ZtXlsrX.js                47.29 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-frappe-C21OPQfC.js               47.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/catppuccin-macchiato-BD_FR4sl.js            47.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ada-BZS802Se.js                             48.11 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/css-BtVcDqlU.js                             49.05 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/imba-C4923lSV.js                            49.96 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-dark-Cg1xdODP.js                 53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/everforest-light-BmTD3bxe.js                53.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wikitext-BDjE6pmL.js                        55.93 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/stata-Dl7wDdBE.js                           57.04 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/html-GC16tDh9.js                            57.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ballerina-B0yt0TYU.js                       58.74 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/markdown-F_EULe_G.js                        59.38 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/ocaml-B1kfGk9Y.js                           62.48 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mojo-oCdXaqgR.js                            69.33 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/python-CrdIx4PZ.js                          69.99 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/c-C4VtT7JA.js                               72.14 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/latex-CHe5BZxW.js                           72.24 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vyper-DP4whl13.js                           74.68 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/hack-BTX3ICIE.js                            80.30 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/swift-DnZ2euNj.js                           86.64 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/csharp-CrZ-_XjJ.js                          87.76 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/fortran-free-form-5X94ETMi.js               89.03 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/racket-DbA06HL7.js                          92.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/less-BAzLMJNR.js                            97.67 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/blade-BbH7YAUi.js                          105.12 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-c-BRoNQF42.js                    105.46 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/php-C78NvqRq.js                            111.10 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/engine-compile-CFmX8fpu.js                 112.09 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/asciidoc-DAaa-hb3.js                       131.55 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/mdx-D5wExp-O.js                            136.15 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/objective-cpp-DEoN9Fe5.js                  172.02 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/javascript-BsAkV7mL.js                     174.87 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/tsx-CmGGo4Hm.js                            175.57 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/jsx-BPmvoin2.js                            177.82 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/typescript-CP6ECzON.js                     181.13 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/angular-ts-BftcHvZ6.js                     184.25 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/vue-vine-rMIwOpFf.js                       190.18 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/index-7P3nUlba.js                          224.78 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wolfram-CRmjUoI4.js                        262.43 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/wasm-DDgzZJey.js                           622.45 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/cpp-zh2ePAE_.js                            626.22 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/emacs-lisp-4gdXY_g3.js                     779.90 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/worker-entry-Egc6z3Ug.js                 1,807.81 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/server/assets/server-build-PXlR4PKU.js                 8,501.31 kB\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ 1 asset copied from React Router server build to client assets.\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0mbuild/client/assets/server-build-B-jlq0_b.css\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m\r\n\u001b[36m@fragno-dev/docs-rr:build: \u001b[0m✓ built in 9.04s\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0mcache miss, executing \u001b[2m67874ad31107285c\u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0mcache miss, executing \u001b[2mc2ecee1ebaf1b178\u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> @fragno-dev/docs-rr@ types:check /home/jan/rejot/fragno/apps/docs\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m> tsc -b --noEmit\r\n\u001b[32m@fragno-dev/docs-rr:types:check: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> @fragno-dev/docs-rr@ test /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m> vitest run\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m RUN  v3.2.4 /home/jan/rejot/fragno/apps/docs\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-generator.test.ts (34 tests) 7ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/components/form-builder/schema-parser.test.ts (33 tests) 10ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m ✓ app/routes/docs/markdown-redirect.test.ts (5 tests) 3ms\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m Test Files  3 passed (3)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m      Tests  72 passed (72)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Start at  11:59:57\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m   Duration  326ms (transform 97ms, setup 0ms, collect 123ms, tests 21ms, environment 0ms, prepare 215ms)\r\n\u001b[35m@fragno-dev/docs-rr:test: \u001b[0m\r\n\r\n\u001b[1m Tasks:    \u001b[32m\u001b[1m66 successful\u001b[0m, 66 total\u001b[0m\r\n\u001b[1mCached:    \u001b[1m23 cached\u001b[0m, 66 total\u001b[0m\r\n\u001b[1m  Time:    \u001b[1m1m10.844s\u001b[0m \u001b[0m\r\n\r\n    ...Finishing writing to cache...                                            \u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/auth#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/docs-rr#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-db-library#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\u001b[33;40m WARNING \u001b[0m \u001b[33;49mno output files found for task @fragno-dev/fragno-wf#test. Please check your `outputs` key in `turbo.json`\u001b[0m\r\n\r\u001b[2K\u001b[2m>  \u001b[0m ...Finishing writing to cache...                                            \r\u001b[2K\n                                      \n  ────────────────────────────────────\nsummary: (done in 74.30 seconds)      \n✔️ lint\n✔️ prettier\n✔️ turbo: build + test + type-check","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"43c9e46d-2b8a-4f61-80f0-8b2257450354"}
{"parentUuid":"23d27035-168f-4e52-be67-35ff10f1779c","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_016BhjpKMPKq7huudj4CAe6f","type":"message","role":"assistant","content":[{"type":"text","text":"Commit succeeded. Let me mark the issue as done:"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1330,"cache_read_input_tokens":98358,"cache_creation":{"ephemeral_5m_input_tokens":1330,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY44N56LUB34qps39GCCC","type":"assistant","uuid":"51077125-10ce-48bb-b768-76f329c5168b","timestamp":"2026-02-12T11:00:08.366Z"}
{"parentUuid":"51077125-10ce-48bb-b768-76f329c5168b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_016BhjpKMPKq7huudj4CAe6f","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01KbaVEHm9pbFPPF4v6n2MXP","name":"Bash","input":{"command":"fp issue assign FRAG-chfolkfc --rev 56a9d0ca && fp issue update --status done FRAG-chfolkfc","description":"Assign commit and mark issue done"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":1330,"cache_read_input_tokens":98358,"cache_creation":{"ephemeral_5m_input_tokens":1330,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY44N56LUB34qps39GCCC","type":"assistant","uuid":"65c525f3-6fba-4b6a-82a5-859b275a09ab","timestamp":"2026-02-12T11:00:10.529Z"}
{"parentUuid":"65c525f3-6fba-4b6a-82a5-859b275a09ab","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01KbaVEHm9pbFPPF4v6n2MXP","type":"tool_result","content":"✓ Added revision(s) to FRAG-chfolkfc: 56a9d0ca\n\n\n✓ Updated FRAG-chfolkfc:\n  - status: in-progress → done","is_error":false}]},"uuid":"5fa2a566-c319-479a-b1f4-6682eeefa924","timestamp":"2026-02-12T11:00:11.116Z","toolUseResult":{"stdout":"✓ Added revision(s) to FRAG-chfolkfc: 56a9d0ca\n\n\n✓ Updated FRAG-chfolkfc:\n  - status: in-progress → done","stderr":"","interrupted":false,"isImage":false,"noOutputExpected":false},"sourceToolAssistantUUID":"65c525f3-6fba-4b6a-82a5-859b275a09ab"}
{"parentUuid":"5fa2a566-c319-479a-b1f4-6682eeefa924","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","message":{"model":"claude-opus-4-6","id":"msg_01ATjmCmWiFN12EEETVe2g7a","type":"message","role":"assistant","content":[{"type":"text","text":"Done. Here's a summary of what was refactored in `unit-of-work.ts`:\n\n**1. Parameter Object** (`createUnitOfWork` + `UnitOfWork` constructor)\n- Introduced `UnitOfWorkInit<TRawInput>` interface, reducing 5-6 positional arguments to a single named-property object\n- Updated all 12 call sites across the codebase\n\n**2. Decomposed `buildJoinIndexed` conditionals**\n- Extracted `resolveJoinCondition()` — flattens the nested `if/else if/else` for where-clause compilation\n- Extracted `resolveJoinOrderBy()` — flattens the nested `if/else` for order-by resolution\n- Bumpy road: 3 bumps → 0\n\n**3. Extracted `executeRetrieve` functions**\n- `#runRetrievalCore()` — handles empty-ops, compile, dry-run, and execute+decode paths\n- `#compileRetrievalBatch()` — compilation loop\n- `#runPhaseCleanup()` — shared finally-block logic (also used by mutations)\n- Consolidated 3 separate after-instrumentation call sites into 1\n\n**4. Extracted `executeMutations` functions**\n- `#runMutationCore()` — handles compile, dry-run, execute, and created-ID tracking\n- `#compileMutationBatch()` — compilation loop\n- Reuses `#runPhaseCleanup()` from above\n- Consolidated 2 separate after-instrumentation call sites into 1\n\nAll tests pass, type-checks pass across all 22 dependent packages."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":1,"cache_creation_input_tokens":183,"cache_read_input_tokens":99688,"cache_creation":{"ephemeral_5m_input_tokens":183,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard","inference_geo":"global"}},"requestId":"req_011CY44NWzKY4pg7fPaWFu2i","type":"assistant","uuid":"f77d45d4-8ecd-4e12-a5b1-990217b6090b","timestamp":"2026-02-12T11:00:20.554Z"}
{"parentUuid":"f77d45d4-8ecd-4e12-a5b1-990217b6090b","isSidechain":false,"userType":"external","cwd":"/home/jan/rejot/fragno","sessionId":"691c2abf-a05c-4143-9c2f-9dbdbbb8e148","version":"2.1.39","gitBranch":"jan/experiment-cc-refactors-3","slug":"velvet-purring-lerdorf","type":"progress","data":{"type":"hook_progress","hookEvent":"Stop","hookName":"Stop","command":"entire hooks claude-code stop"},"parentToolUseID":"88f53a6d-fbe1-404b-a7e1-a64430c3a88b","toolUseID":"88f53a6d-fbe1-404b-a7e1-a64430c3a88b","timestamp":"2026-02-12T11:00:20.664Z","uuid":"b6bc2971-6a31-4f31-9b14-4903cdddb333"}
